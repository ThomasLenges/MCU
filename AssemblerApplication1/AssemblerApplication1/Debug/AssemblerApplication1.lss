
AVRASM ver. 2.2.6  C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm Fri May 24 19:31:33 2024

[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.1.130\avrasm\inc\m128def.inc'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(1): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\definitions.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(2): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(3): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.1.130\avrasm\inc\m128def.inc'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(12): warning: Register r2 already defined by the .DEF directive
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(13): warning: Register r1 already defined by the .DEF directive
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(14): warning: Register r14 already defined by the .DEF directive
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(15): warning: Register r15 already defined by the .DEF directive
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(103): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\kpd4x4bis.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(104): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\lcd.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(106): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\subroutines.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(107): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\printf.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(108): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\songs.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(109): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\sound.asm'
[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.1.130\avrasm\inc\m128def.inc'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(1): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\definitions.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(2): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(3): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.1.130\avrasm\inc\m128def.inc'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(103): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\kpd4x4bis.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(104): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\lcd.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(106): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\subroutines.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(107): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\printf.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(108): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\songs.asm'
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(109): Including file 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\sound.asm'
                                 
                                 .include "definitions.asm"
                                 
                                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega128.xml ***********
                                 ;*************************************************************************
                                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                                 ;* 
                                 ;* Number            : AVR000
                                 ;* File Name         : "m128def.inc"
                                 ;* Title             : Register/Bit Definitions for the ATmega128
                                 ;* Date              : 2011-02-09
                                 ;* Version           : 2.35
                                 ;* Support E-mail    : avr@atmel.com
                                 ;* Target MCU        : ATmega128
                                 ;* 
                                 ;* DESCRIPTION
                                 ;* When including this file in the assembly program file, all I/O register 
                                 ;* names and I/O register bit names appearing in the data book can be used.
                                 ;* In addition, the six registers forming the three data pointers X, Y and 
                                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                                 ;* SRAM is also defined 
                                 ;* 
                                 ;* The Register names are represented by their hexadecimal address.
                                 ;* 
                                 ;* The Register Bit names are represented by their bit number (0-7).
                                 ;* 
                                 ;* Please observe the difference in using the bit names with instructions
                                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                                 ;* (skip if bit in register set/cleared). The following example illustrates
                                 ;* this:
                                 ;* 
                                 ;* in    r16,PORTB             ;read PORTB latch
                                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                                 ;* out   PORTB,r16             ;output to PORTB
                                 ;* 
                                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                                 ;* rjmp  TOV0_is_set           ;jump if set
                                 ;* ...                         ;otherwise do something else
                                 ;*************************************************************************
                                 
                                 #ifndef _M128DEF_INC_
                                 #define _M128DEF_INC_
                                 
                                 
                                 #pragma partinc 0
                                 
                                 ; ***** SPECIFY DEVICE ***************************************************
                                 .device ATmega128
                                 #pragma AVRPART ADMIN PART_NAME ATmega128
                                 .equ	SIGNATURE_000	= 0x1e
                                 .equ	SIGNATURE_001	= 0x97
                                 .equ	SIGNATURE_002	= 0x02
                                 
                                 #pragma AVRPART CORE CORE_VERSION V2E
                                 
                                 
                                 ; ***** I/O REGISTER DEFINITIONS *****************************************
                                 ; NOTE:
                                 ; Definitions marked "MEMORY MAPPED"are extended I/O ports
                                 ; and cannot be used with IN/OUT instructions
                                 .equ	UCSR1C	= 0x9d	; MEMORY MAPPED
                                 .equ	UDR1	= 0x9c	; MEMORY MAPPED
                                 .equ	UCSR1A	= 0x9b	; MEMORY MAPPED
                                 .equ	UCSR1B	= 0x9a	; MEMORY MAPPED
                                 .equ	UBRR1H	= 0x98	; MEMORY MAPPED
                                 .equ	UBRR1L	= 0x99	; MEMORY MAPPED
                                 .equ	UCSR0C	= 0x95	; MEMORY MAPPED
                                 .equ	UBRR0H	= 0x90	; MEMORY MAPPED
                                 .equ	TCCR3C	= 0x8c	; MEMORY MAPPED
                                 .equ	TCCR3A	= 0x8b	; MEMORY MAPPED
                                 .equ	TCCR3B	= 0x8a	; MEMORY MAPPED
                                 .equ	TCNT3L	= 0x88	; MEMORY MAPPED
                                 .equ	TCNT3H	= 0x89	; MEMORY MAPPED
                                 .equ	OCR3AL	= 0x86	; MEMORY MAPPED
                                 .equ	OCR3AH	= 0x87	; MEMORY MAPPED
                                 .equ	OCR3BL	= 0x84	; MEMORY MAPPED
                                 .equ	OCR3BH	= 0x85	; MEMORY MAPPED
                                 .equ	OCR3CL	= 0x82	; MEMORY MAPPED
                                 .equ	OCR3CH	= 0x83	; MEMORY MAPPED
                                 .equ	ICR3L	= 0x80	; MEMORY MAPPED
                                 .equ	ICR3H	= 0x81	; MEMORY MAPPED
                                 .equ	ETIMSK	= 0x7d	; MEMORY MAPPED
                                 .equ	ETIFR	= 0x7c	; MEMORY MAPPED
                                 .equ	TCCR1C	= 0x7a	; MEMORY MAPPED
                                 .equ	OCR1CL	= 0x78	; MEMORY MAPPED
                                 .equ	OCR1CH	= 0x79	; MEMORY MAPPED
                                 .equ	TWCR	= 0x74	; MEMORY MAPPED
                                 .equ	TWDR	= 0x73	; MEMORY MAPPED
                                 .equ	TWAR	= 0x72	; MEMORY MAPPED
                                 .equ	TWSR	= 0x71	; MEMORY MAPPED
                                 .equ	TWBR	= 0x70	; MEMORY MAPPED
                                 .equ	OSCCAL	= 0x6f	; MEMORY MAPPED
                                 .equ	XMCRA	= 0x6d	; MEMORY MAPPED
                                 .equ	XMCRB	= 0x6c	; MEMORY MAPPED
                                 .equ	EICRA	= 0x6a	; MEMORY MAPPED
                                 .equ	SPMCSR	= 0x68	; MEMORY MAPPED
                                 .equ	PORTG	= 0x65	; MEMORY MAPPED
                                 .equ	DDRG	= 0x64	; MEMORY MAPPED
                                 .equ	PING	= 0x63	; MEMORY MAPPED
                                 .equ	PORTF	= 0x62	; MEMORY MAPPED
                                 .equ	DDRF	= 0x61	; MEMORY MAPPED
                                 .equ	SREG	= 0x3f
                                 .equ	SPL	= 0x3d
                                 .equ	SPH	= 0x3e
                                 .equ	XDIV	= 0x3c
                                 .equ	RAMPZ	= 0x3b
                                 .equ	EICRB	= 0x3a
                                 .equ	EIMSK	= 0x39
                                 .equ	EIFR	= 0x38
                                 .equ	TIMSK	= 0x37
                                 .equ	TIFR	= 0x36
                                 .equ	MCUCR	= 0x35
                                 .equ	MCUCSR	= 0x34
                                 .equ	TCCR0	= 0x33
                                 .equ	TCNT0	= 0x32
                                 .equ	OCR0	= 0x31
                                 .equ	ASSR	= 0x30
                                 .equ	TCCR1A	= 0x2f
                                 .equ	TCCR1B	= 0x2e
                                 .equ	TCNT1L	= 0x2c
                                 .equ	TCNT1H	= 0x2d
                                 .equ	OCR1AL	= 0x2a
                                 .equ	OCR1AH	= 0x2b
                                 .equ	OCR1BL	= 0x28
                                 .equ	OCR1BH	= 0x29
                                 .equ	ICR1L	= 0x26
                                 .equ	ICR1H	= 0x27
                                 .equ	TCCR2	= 0x25
                                 .equ	TCNT2	= 0x24
                                 .equ	OCR2	= 0x23
                                 .equ	OCDR	= 0x22
                                 .equ	WDTCR	= 0x21
                                 .equ	SFIOR	= 0x20
                                 .equ	EEARL	= 0x1e
                                 .equ	EEARH	= 0x1f
                                 .equ	EEDR	= 0x1d
                                 .equ	EECR	= 0x1c
                                 .equ	PORTA	= 0x1b
                                 .equ	DDRA	= 0x1a
                                 .equ	PINA	= 0x19
                                 .equ	PORTB	= 0x18
                                 .equ	DDRB	= 0x17
                                 .equ	PINB	= 0x16
                                 .equ	PORTC	= 0x15
                                 .equ	DDRC	= 0x14
                                 .equ	PINC	= 0x13
                                 .equ	PORTD	= 0x12
                                 .equ	DDRD	= 0x11
                                 .equ	PIND	= 0x10
                                 .equ	SPDR	= 0x0f
                                 .equ	SPSR	= 0x0e
                                 .equ	SPCR	= 0x0d
                                 .equ	UDR0	= 0x0c
                                 .equ	UCSR0A	= 0x0b
                                 .equ	UCSR0B	= 0x0a
                                 .equ	UBRR0L	= 0x09
                                 .equ	ACSR	= 0x08
                                 .equ	ADMUX	= 0x07
                                 .equ	ADCSRA	= 0x06
                                 .equ	ADCH	= 0x05
                                 .equ	ADCL	= 0x04
                                 .equ	PORTE	= 0x03
                                 .equ	DDRE	= 0x02
                                 .equ	PINE	= 0x01
                                 .equ	PINF	= 0x00
                                 
                                 
                                 ; ***** BIT DEFINITIONS **************************************************
                                 
                                 ; ***** ANALOG_COMPARATOR ************
                                 ; SFIOR - Special Function IO Register
                                 .equ	ACME	= 3	; Analog Comparator Multiplexer Enable
                                 
                                 ; ACSR - Analog Comparator Control And Status Register
                                 .equ	ACIS0	= 0	; Analog Comparator Interrupt Mode Select bit 0
                                 .equ	ACIS1	= 1	; Analog Comparator Interrupt Mode Select bit 1
                                 .equ	ACIC	= 2	; Analog Comparator Input Capture Enable
                                 .equ	ACIE	= 3	; Analog Comparator Interrupt Enable
                                 .equ	ACI	= 4	; Analog Comparator Interrupt Flag
                                 .equ	ACO	= 5	; Analog Compare Output
                                 .equ	ACBG	= 6	; Analog Comparator Bandgap Select
                                 .equ	ACD	= 7	; Analog Comparator Disable
                                 
                                 
                                 ; ***** SPI **************************
                                 ; SPDR - SPI Data Register
                                 .equ	SPDR0	= 0	; SPI Data Register bit 0
                                 .equ	SPDR1	= 1	; SPI Data Register bit 1
                                 .equ	SPDR2	= 2	; SPI Data Register bit 2
                                 .equ	SPDR3	= 3	; SPI Data Register bit 3
                                 .equ	SPDR4	= 4	; SPI Data Register bit 4
                                 .equ	SPDR5	= 5	; SPI Data Register bit 5
                                 .equ	SPDR6	= 6	; SPI Data Register bit 6
                                 .equ	SPDR7	= 7	; SPI Data Register bit 7
                                 
                                 ; SPSR - SPI Status Register
                                 .equ	SPI2X	= 0	; Double SPI Speed Bit
                                 .equ	WCOL	= 6	; Write Collision Flag
                                 .equ	SPIF	= 7	; SPI Interrupt Flag
                                 
                                 ; SPCR - SPI Control Register
                                 .equ	SPR0	= 0	; SPI Clock Rate Select 0
                                 .equ	SPR1	= 1	; SPI Clock Rate Select 1
                                 .equ	CPHA	= 2	; Clock Phase
                                 .equ	CPOL	= 3	; Clock polarity
                                 .equ	MSTR	= 4	; Master/Slave Select
                                 .equ	DORD	= 5	; Data Order
                                 .equ	SPE	= 6	; SPI Enable
                                 .equ	SPIE	= 7	; SPI Interrupt Enable
                                 
                                 
                                 ; ***** TWI **************************
                                 ; TWBR - TWI Bit Rate register
                                 .equ	I2BR	= TWBR	; For compatibility
                                 .equ	TWBR0	= 0	; 
                                 .equ	TWBR1	= 1	; 
                                 .equ	TWBR2	= 2	; 
                                 .equ	TWBR3	= 3	; 
                                 .equ	TWBR4	= 4	; 
                                 .equ	TWBR5	= 5	; 
                                 .equ	TWBR6	= 6	; 
                                 .equ	TWBR7	= 7	; 
                                 
                                 ; TWCR - TWI Control Register
                                 .equ	I2CR	= TWCR	; For compatibility
                                 .equ	TWIE	= 0	; TWI Interrupt Enable
                                 .equ	I2IE	= TWIE	; For compatibility
                                 .equ	TWEN	= 2	; TWI Enable Bit
                                 .equ	I2EN	= TWEN	; For compatibility
                                 .equ	ENI2C	= TWEN	; For compatibility
                                 .equ	TWWC	= 3	; TWI Write Collition Flag
                                 .equ	I2WC	= TWWC	; For compatibility
                                 .equ	TWSTO	= 4	; TWI Stop Condition Bit
                                 .equ	I2STO	= TWSTO	; For compatibility
                                 .equ	TWSTA	= 5	; TWI Start Condition Bit
                                 .equ	I2STA	= TWSTA	; For compatibility
                                 .equ	TWEA	= 6	; TWI Enable Acknowledge Bit
                                 .equ	I2EA	= TWEA	; For compatibility
                                 .equ	TWINT	= 7	; TWI Interrupt Flag
                                 .equ	I2INT	= TWINT	; For compatibility
                                 
                                 ; TWSR - TWI Status Register
                                 .equ	I2SR	= TWSR	; For compatibility
                                 .equ	TWPS0	= 0	; TWI Prescaler
                                 .equ	TWS0	= TWPS0	; For compatibility
                                 .equ	I2GCE	= TWPS0	; For compatibility
                                 .equ	TWPS1	= 1	; TWI Prescaler
                                 .equ	TWS1	= TWPS1	; For compatibility
                                 .equ	TWS3	= 3	; TWI Status
                                 .equ	I2S3	= TWS3	; For compatibility
                                 .equ	TWS4	= 4	; TWI Status
                                 .equ	I2S4	= TWS4	; For compatibility
                                 .equ	TWS5	= 5	; TWI Status
                                 .equ	I2S5	= TWS5	; For compatibility
                                 .equ	TWS6	= 6	; TWI Status
                                 .equ	I2S6	= TWS6	; For compatibility
                                 .equ	TWS7	= 7	; TWI Status
                                 .equ	I2S7	= TWS7	; For compatibility
                                 
                                 ; TWDR - TWI Data register
                                 .equ	I2DR	= TWDR	; For compatibility
                                 .equ	TWD0	= 0	; TWI Data Register Bit 0
                                 .equ	TWD1	= 1	; TWI Data Register Bit 1
                                 .equ	TWD2	= 2	; TWI Data Register Bit 2
                                 .equ	TWD3	= 3	; TWI Data Register Bit 3
                                 .equ	TWD4	= 4	; TWI Data Register Bit 4
                                 .equ	TWD5	= 5	; TWI Data Register Bit 5
                                 .equ	TWD6	= 6	; TWI Data Register Bit 6
                                 .equ	TWD7	= 7	; TWI Data Register Bit 7
                                 
                                 ; TWAR - TWI (Slave) Address register
                                 .equ	I2AR	= TWAR	; For compatibility
                                 .equ	TWGCE	= 0	; TWI General Call Recognition Enable Bit
                                 .equ	TWA0	= 1	; TWI (Slave) Address register Bit 0
                                 .equ	TWA1	= 2	; TWI (Slave) Address register Bit 1
                                 .equ	TWA2	= 3	; TWI (Slave) Address register Bit 2
                                 .equ	TWA3	= 4	; TWI (Slave) Address register Bit 3
                                 .equ	TWA4	= 5	; TWI (Slave) Address register Bit 4
                                 .equ	TWA5	= 6	; TWI (Slave) Address register Bit 5
                                 .equ	TWA6	= 7	; TWI (Slave) Address register Bit 6
                                 
                                 
                                 ; ***** USART0 ***********************
                                 ; UDR0 - USART I/O Data Register
                                 .equ	UDR00	= 0	; USART I/O Data Register bit 0
                                 .equ	UDR01	= 1	; USART I/O Data Register bit 1
                                 .equ	UDR02	= 2	; USART I/O Data Register bit 2
                                 .equ	UDR03	= 3	; USART I/O Data Register bit 3
                                 .equ	UDR04	= 4	; USART I/O Data Register bit 4
                                 .equ	UDR05	= 5	; USART I/O Data Register bit 5
                                 .equ	UDR06	= 6	; USART I/O Data Register bit 6
                                 .equ	UDR07	= 7	; USART I/O Data Register bit 7
                                 
                                 ; UCSR0A - USART Control and Status Register A
                                 .equ	MPCM0	= 0	; Multi-processor Communication Mode
                                 .equ	U2X0	= 1	; Double the USART transmission speed
                                 .equ	UPE0	= 2	; Parity Error
                                 .equ	DOR0	= 3	; Data overRun
                                 .equ	FE0	= 4	; Framing Error
                                 .equ	UDRE0	= 5	; USART Data Register Empty
                                 .equ	TXC0	= 6	; USART Transmitt Complete
                                 .equ	RXC0	= 7	; USART Receive Complete
                                 
                                 ; UCSR0B - USART Control and Status Register B
                                 .equ	TXB80	= 0	; Transmit Data Bit 8
                                 .equ	RXB80	= 1	; Receive Data Bit 8
                                 .equ	UCSZ02	= 2	; Character Size
                                 .equ	UCSZ2	= UCSZ02	; For compatibility
                                 .equ	TXEN0	= 3	; Transmitter Enable
                                 .equ	RXEN0	= 4	; Receiver Enable
                                 .equ	UDRIE0	= 5	; USART Data register Empty Interrupt Enable
                                 .equ	TXCIE0	= 6	; TX Complete Interrupt Enable
                                 .equ	RXCIE0	= 7	; RX Complete Interrupt Enable
                                 
                                 ; UCSR0C - USART Control and Status Register C
                                 .equ	UCPOL0	= 0	; Clock Polarity
                                 .equ	UCSZ00	= 1	; Character Size
                                 .equ	UCSZ01	= 2	; Character Size
                                 .equ	USBS0	= 3	; Stop Bit Select
                                 .equ	UPM00	= 4	; Parity Mode Bit 0
                                 .equ	UPM01	= 5	; Parity Mode Bit 1
                                 .equ	UMSEL0	= 6	; USART Mode Select
                                 
                                 ; UBRR0H - USART Baud Rate Register Hight Byte
                                 .equ	UBRR8	= 0	; USART Baud Rate Register bit 8
                                 .equ	UBRR9	= 1	; USART Baud Rate Register bit 9
                                 .equ	UBRR10	= 2	; USART Baud Rate Register bit 10
                                 .equ	UBRR11	= 3	; USART Baud Rate Register bit 11
                                 
                                 ; UBRR0L - USART Baud Rate Register Low Byte
                                 .equ	UBRR0	= 0	; USART Baud Rate Register bit 0
                                 .equ	UBRR1	= 1	; USART Baud Rate Register bit 1
                                 .equ	UBRR2	= 2	; USART Baud Rate Register bit 2
                                 .equ	UBRR3	= 3	; USART Baud Rate Register bit 3
                                 .equ	UBRR4	= 4	; USART Baud Rate Register bit 4
                                 .equ	UBRR5	= 5	; USART Baud Rate Register bit 5
                                 .equ	UBRR6	= 6	; USART Baud Rate Register bit 6
                                 .equ	UBRR7	= 7	; USART Baud Rate Register bit 7
                                 
                                 
                                 ; ***** USART1 ***********************
                                 ; UDR1 - USART I/O Data Register
                                 .equ	UDR10	= 0	; USART I/O Data Register bit 0
                                 .equ	UDR11	= 1	; USART I/O Data Register bit 1
                                 .equ	UDR12	= 2	; USART I/O Data Register bit 2
                                 .equ	UDR13	= 3	; USART I/O Data Register bit 3
                                 .equ	UDR14	= 4	; USART I/O Data Register bit 4
                                 .equ	UDR15	= 5	; USART I/O Data Register bit 5
                                 .equ	UDR16	= 6	; USART I/O Data Register bit 6
                                 .equ	UDR17	= 7	; USART I/O Data Register bit 7
                                 
                                 ; UCSR1A - USART Control and Status Register A
                                 .equ	MPCM1	= 0	; Multi-processor Communication Mode
                                 .equ	U2X1	= 1	; Double the USART transmission speed
                                 .equ	UPE1	= 2	; Parity Error
                                 .equ	DOR1	= 3	; Data overRun
                                 .equ	FE1	= 4	; Framing Error
                                 .equ	UDRE1	= 5	; USART Data Register Empty
                                 .equ	TXC1	= 6	; USART Transmitt Complete
                                 .equ	RXC1	= 7	; USART Receive Complete
                                 
                                 ; UCSR1B - USART Control and Status Register B
                                 .equ	TXB81	= 0	; Transmit Data Bit 8
                                 .equ	RXB81	= 1	; Receive Data Bit 8
                                 .equ	UCSZ12	= 2	; Character Size
                                 .equ	TXEN1	= 3	; Transmitter Enable
                                 .equ	RXEN1	= 4	; Receiver Enable
                                 .equ	UDRIE1	= 5	; USART Data register Empty Interrupt Enable
                                 .equ	TXCIE1	= 6	; TX Complete Interrupt Enable
                                 .equ	RXCIE1	= 7	; RX Complete Interrupt Enable
                                 
                                 ; UCSR1C - USART Control and Status Register C
                                 .equ	UCPOL1	= 0	; Clock Polarity
                                 .equ	UCSZ10	= 1	; Character Size
                                 .equ	UCSZ11	= 2	; Character Size
                                 .equ	USBS1	= 3	; Stop Bit Select
                                 .equ	UPM10	= 4	; Parity Mode Bit 0
                                 .equ	UPM11	= 5	; Parity Mode Bit 1
                                 .equ	UMSEL1	= 6	; USART Mode Select
                                 
                                 ; UBRR1H - USART Baud Rate Register Hight Byte
                                 ;.equ	UBRR8	= 0	; USART Baud Rate Register bit 8
                                 ;.equ	UBRR9	= 1	; USART Baud Rate Register bit 9
                                 ;.equ	UBRR10	= 2	; USART Baud Rate Register bit 10
                                 ;.equ	UBRR11	= 3	; USART Baud Rate Register bit 11
                                 
                                 ; UBRR1L - USART Baud Rate Register Low Byte
                                 ;.equ	UBRR0	= 0	; USART Baud Rate Register bit 0
                                 ;.equ	UBRR1	= 1	; USART Baud Rate Register bit 1
                                 ;.equ	UBRR2	= 2	; USART Baud Rate Register bit 2
                                 ;.equ	UBRR3	= 3	; USART Baud Rate Register bit 3
                                 ;.equ	UBRR4	= 4	; USART Baud Rate Register bit 4
                                 ;.equ	UBRR5	= 5	; USART Baud Rate Register bit 5
                                 ;.equ	UBRR6	= 6	; USART Baud Rate Register bit 6
                                 ;.equ	UBRR7	= 7	; USART Baud Rate Register bit 7
                                 
                                 
                                 ; ***** CPU **************************
                                 ; SREG - Status Register
                                 .equ	SREG_C	= 0	; Carry Flag
                                 .equ	SREG_Z	= 1	; Zero Flag
                                 .equ	SREG_N	= 2	; Negative Flag
                                 .equ	SREG_V	= 3	; Two's Complement Overflow Flag
                                 .equ	SREG_S	= 4	; Sign Bit
                                 .equ	SREG_H	= 5	; Half Carry Flag
                                 .equ	SREG_T	= 6	; Bit Copy Storage
                                 .equ	SREG_I	= 7	; Global Interrupt Enable
                                 
                                 ; MCUCR - MCU Control Register
                                 .equ	IVCE	= 0	; Interrupt Vector Change Enable
                                 .equ	IVSEL	= 1	; Interrupt Vector Select
                                 .equ	SM2	= 2	; Sleep Mode Select
                                 .equ	SM0	= 3	; Sleep Mode Select
                                 .equ	SM1	= 4	; Sleep Mode Select
                                 .equ	SE	= 5	; Sleep Enable
                                 .equ	SRW10	= 6	; External SRAM Wait State Select
                                 .equ	SRE	= 7	; External SRAM Enable
                                 
                                 ; XMCRA - External Memory Control Register A
                                 .equ	SRW11	= 1	; Wait state select bit upper page
                                 .equ	SRW00	= 2	; Wait state select bit lower page
                                 .equ	SRW01	= 3	; Wait state select bit lower page
                                 .equ	SRL0	= 4	; Wait state page limit
                                 .equ	SRL1	= 5	; Wait state page limit
                                 .equ	SRL2	= 6	; Wait state page limit
                                 
                                 ; XMCRB - External Memory Control Register B
                                 .equ	XMM0	= 0	; External Memory High Mask
                                 .equ	XMM1	= 1	; External Memory High Mask
                                 .equ	XMM2	= 2	; External Memory High Mask
                                 .equ	XMBK	= 7	; External Memory Bus Keeper Enable
                                 
                                 ; OSCCAL - Oscillator Calibration Value
                                 .equ	CAL0	= 0	; Oscillator Calibration Value
                                 .equ	CAL1	= 1	; Oscillator Calibration Value
                                 .equ	CAL2	= 2	; Oscillator Calibration Value
                                 .equ	CAL3	= 3	; Oscillator Calibration Value
                                 .equ	CAL4	= 4	; Oscillator Calibration Value
                                 .equ	CAL5	= 5	; Oscillator Calibration Value
                                 .equ	CAL6	= 6	; Oscillator Calibration Value
                                 .equ	CAL7	= 7	; Oscillator Calibration Value
                                 
                                 ; XDIV - XTAL Divide Control Register
                                 .equ	XDIV0	= 0	; XTAl Divide Select Bit 0
                                 .equ	XDIV1	= 1	; XTAl Divide Select Bit 1
                                 .equ	XDIV2	= 2	; XTAl Divide Select Bit 2
                                 .equ	XDIV3	= 3	; XTAl Divide Select Bit 3
                                 .equ	XDIV4	= 4	; XTAl Divide Select Bit 4
                                 .equ	XDIV5	= 5	; XTAl Divide Select Bit 5
                                 .equ	XDIV6	= 6	; XTAl Divide Select Bit 6
                                 .equ	XDIVEN	= 7	; XTAL Divide Enable
                                 
                                 ; MCUCSR - MCU Control And Status Register
                                 .equ	PORF	= 0	; Power-on reset flag
                                 .equ	EXTRF	= 1	; External Reset Flag
                                 .equ	BORF	= 2	; Brown-out Reset Flag
                                 .equ	WDRF	= 3	; Watchdog Reset Flag
                                 .equ	JTRF	= 4	; JTAG Reset Flag
                                 .equ	JTD	= 7	; JTAG Interface Disable
                                 
                                 ; RAMPZ - RAM Page Z Select Register
                                 .equ	RAMPZ0	= 0	; RAM Page Z Select Register Bit 0
                                 
                                 
                                 ; ***** BOOT_LOAD ********************
                                 ; SPMCSR - Store Program Memory Control Register
                                 .equ	SPMCR	= SPMCSR	; For compatibility
                                 .equ	SPMEN	= 0	; Store Program Memory Enable
                                 .equ	PGERS	= 1	; Page Erase
                                 .equ	PGWRT	= 2	; Page Write
                                 .equ	BLBSET	= 3	; Boot Lock Bit Set
                                 .equ	RWWSRE	= 4	; Read While Write section read enable
                                 .equ	ASRE	= RWWSRE	; For compatibility
                                 .equ	RWWSB	= 6	; Read While Write Section Busy
                                 .equ	ASB	= RWWSB	; For compatibility
                                 .equ	SPMIE	= 7	; SPM Interrupt Enable
                                 
                                 
                                 ; ***** JTAG *************************
                                 ; OCDR - On-Chip Debug Related Register in I/O Memory
                                 .equ	OCDR0	= 0	; On-Chip Debug Register Bit 0
                                 .equ	OCDR1	= 1	; On-Chip Debug Register Bit 1
                                 .equ	OCDR2	= 2	; On-Chip Debug Register Bit 2
                                 .equ	OCDR3	= 3	; On-Chip Debug Register Bit 3
                                 .equ	OCDR4	= 4	; On-Chip Debug Register Bit 4
                                 .equ	OCDR5	= 5	; On-Chip Debug Register Bit 5
                                 .equ	OCDR6	= 6	; On-Chip Debug Register Bit 6
                                 .equ	OCDR7	= 7	; On-Chip Debug Register Bit 7
                                 .equ	IDRD	= OCDR7	; For compatibility
                                 
                                 ; MCUCSR - MCU Control And Status Register
                                 ;.equ	JTRF	= 4	; JTAG Reset Flag
                                 ;.equ	JTD	= 7	; JTAG Interface Disable
                                 
                                 
                                 ; ***** MISC *************************
                                 ; SFIOR - Special Function IO Register
                                 .equ	PSR321	= 0	; Prescaler Reset Timer/Counter3, Timer/Counter2, and Timer/Counter1
                                 .equ	PSR1	= PSR321	; For compatibility
                                 .equ	PSR2	= PSR321	; For compatibility
                                 .equ	PSR3	= PSR321	; For compatibility
                                 .equ	PSR0	= 1	; Prescaler Reset Timer/Counter0
                                 .equ	PUD	= 2	; Pull Up Disable
                                 ;.equ	ACME	= 3	; Analog Comparator Multiplexer Enable
                                 .equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** EXTERNAL_INTERRUPT ***********
                                 ; EICRA - External Interrupt Control Register A
                                 .equ	ISC00	= 0	; External Interrupt Sense Control Bit
                                 .equ	ISC01	= 1	; External Interrupt Sense Control Bit
                                 .equ	ISC10	= 2	; External Interrupt Sense Control Bit
                                 .equ	ISC11	= 3	; External Interrupt Sense Control Bit
                                 .equ	ISC20	= 4	; External Interrupt Sense Control Bit
                                 .equ	ISC21	= 5	; External Interrupt Sense Control Bit
                                 .equ	ISC30	= 6	; External Interrupt Sense Control Bit
                                 .equ	ISC31	= 7	; External Interrupt Sense Control Bit
                                 
                                 ; EICRB - External Interrupt Control Register B
                                 .equ	ISC40	= 0	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC41	= 1	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC50	= 2	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC51	= 3	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC60	= 4	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC61	= 5	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC70	= 6	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC71	= 7	; External Interrupt 7-4 Sense Control Bit
                                 
                                 ; EIMSK - External Interrupt Mask Register
                                 .equ	GICR	= EIMSK	; For compatibility
                                 .equ	GIMSK	= EIMSK	; For compatibility
                                 .equ	INT0	= 0	; External Interrupt Request 0 Enable
                                 .equ	INT1	= 1	; External Interrupt Request 1 Enable
                                 .equ	INT2	= 2	; External Interrupt Request 2 Enable
                                 .equ	INT3	= 3	; External Interrupt Request 3 Enable
                                 .equ	INT4	= 4	; External Interrupt Request 4 Enable
                                 .equ	INT5	= 5	; External Interrupt Request 5 Enable
                                 .equ	INT6	= 6	; External Interrupt Request 6 Enable
                                 .equ	INT7	= 7	; External Interrupt Request 7 Enable
                                 
                                 ; EIFR - External Interrupt Flag Register
                                 .equ	GIFR	= EIFR	; For compatibility
                                 .equ	INTF0	= 0	; External Interrupt Flag 0
                                 .equ	INTF1	= 1	; External Interrupt Flag 1
                                 .equ	INTF2	= 2	; External Interrupt Flag 2
                                 .equ	INTF3	= 3	; External Interrupt Flag 3
                                 .equ	INTF4	= 4	; External Interrupt Flag 4
                                 .equ	INTF5	= 5	; External Interrupt Flag 5
                                 .equ	INTF6	= 6	; External Interrupt Flag 6
                                 .equ	INTF7	= 7	; External Interrupt Flag 7
                                 
                                 
                                 ; ***** EEPROM ***********************
                                 ; EEDR - EEPROM Data Register
                                 .equ	EEDR0	= 0	; EEPROM Data Register bit 0
                                 .equ	EEDR1	= 1	; EEPROM Data Register bit 1
                                 .equ	EEDR2	= 2	; EEPROM Data Register bit 2
                                 .equ	EEDR3	= 3	; EEPROM Data Register bit 3
                                 .equ	EEDR4	= 4	; EEPROM Data Register bit 4
                                 .equ	EEDR5	= 5	; EEPROM Data Register bit 5
                                 .equ	EEDR6	= 6	; EEPROM Data Register bit 6
                                 .equ	EEDR7	= 7	; EEPROM Data Register bit 7
                                 
                                 ; EECR - EEPROM Control Register
                                 .equ	EERE	= 0	; EEPROM Read Enable
                                 .equ	EEWE	= 1	; EEPROM Write Enable
                                 .equ	EEMWE	= 2	; EEPROM Master Write Enable
                                 .equ	EERIE	= 3	; EEPROM Ready Interrupt Enable
                                 
                                 
                                 ; ***** PORTA ************************
                                 ; PORTA - Port A Data Register
                                 .equ	PORTA0	= 0	; Port A Data Register bit 0
                                 .equ	PA0	= 0	; For compatibility
                                 .equ	PORTA1	= 1	; Port A Data Register bit 1
                                 .equ	PA1	= 1	; For compatibility
                                 .equ	PORTA2	= 2	; Port A Data Register bit 2
                                 .equ	PA2	= 2	; For compatibility
                                 .equ	PORTA3	= 3	; Port A Data Register bit 3
                                 .equ	PA3	= 3	; For compatibility
                                 .equ	PORTA4	= 4	; Port A Data Register bit 4
                                 .equ	PA4	= 4	; For compatibility
                                 .equ	PORTA5	= 5	; Port A Data Register bit 5
                                 .equ	PA5	= 5	; For compatibility
                                 .equ	PORTA6	= 6	; Port A Data Register bit 6
                                 .equ	PA6	= 6	; For compatibility
                                 .equ	PORTA7	= 7	; Port A Data Register bit 7
                                 .equ	PA7	= 7	; For compatibility
                                 
                                 ; DDRA - Port A Data Direction Register
                                 .equ	DDA0	= 0	; Data Direction Register, Port A, bit 0
                                 .equ	DDA1	= 1	; Data Direction Register, Port A, bit 1
                                 .equ	DDA2	= 2	; Data Direction Register, Port A, bit 2
                                 .equ	DDA3	= 3	; Data Direction Register, Port A, bit 3
                                 .equ	DDA4	= 4	; Data Direction Register, Port A, bit 4
                                 .equ	DDA5	= 5	; Data Direction Register, Port A, bit 5
                                 .equ	DDA6	= 6	; Data Direction Register, Port A, bit 6
                                 .equ	DDA7	= 7	; Data Direction Register, Port A, bit 7
                                 
                                 ; PINA - Port A Input Pins
                                 .equ	PINA0	= 0	; Input Pins, Port A bit 0
                                 .equ	PINA1	= 1	; Input Pins, Port A bit 1
                                 .equ	PINA2	= 2	; Input Pins, Port A bit 2
                                 .equ	PINA3	= 3	; Input Pins, Port A bit 3
                                 .equ	PINA4	= 4	; Input Pins, Port A bit 4
                                 .equ	PINA5	= 5	; Input Pins, Port A bit 5
                                 .equ	PINA6	= 6	; Input Pins, Port A bit 6
                                 .equ	PINA7	= 7	; Input Pins, Port A bit 7
                                 
                                 
                                 ; ***** PORTB ************************
                                 ; PORTB - Port B Data Register
                                 .equ	PORTB0	= 0	; Port B Data Register bit 0
                                 .equ	PB0	= 0	; For compatibility
                                 .equ	PORTB1	= 1	; Port B Data Register bit 1
                                 .equ	PB1	= 1	; For compatibility
                                 .equ	PORTB2	= 2	; Port B Data Register bit 2
                                 .equ	PB2	= 2	; For compatibility
                                 .equ	PORTB3	= 3	; Port B Data Register bit 3
                                 .equ	PB3	= 3	; For compatibility
                                 .equ	PORTB4	= 4	; Port B Data Register bit 4
                                 .equ	PB4	= 4	; For compatibility
                                 .equ	PORTB5	= 5	; Port B Data Register bit 5
                                 .equ	PB5	= 5	; For compatibility
                                 .equ	PORTB6	= 6	; Port B Data Register bit 6
                                 .equ	PB6	= 6	; For compatibility
                                 .equ	PORTB7	= 7	; Port B Data Register bit 7
                                 .equ	PB7	= 7	; For compatibility
                                 
                                 ; DDRB - Port B Data Direction Register
                                 .equ	DDB0	= 0	; Port B Data Direction Register bit 0
                                 .equ	DDB1	= 1	; Port B Data Direction Register bit 1
                                 .equ	DDB2	= 2	; Port B Data Direction Register bit 2
                                 .equ	DDB3	= 3	; Port B Data Direction Register bit 3
                                 .equ	DDB4	= 4	; Port B Data Direction Register bit 4
                                 .equ	DDB5	= 5	; Port B Data Direction Register bit 5
                                 .equ	DDB6	= 6	; Port B Data Direction Register bit 6
                                 .equ	DDB7	= 7	; Port B Data Direction Register bit 7
                                 
                                 ; PINB - Port B Input Pins
                                 .equ	PINB0	= 0	; Port B Input Pins bit 0
                                 .equ	PINB1	= 1	; Port B Input Pins bit 1
                                 .equ	PINB2	= 2	; Port B Input Pins bit 2
                                 .equ	PINB3	= 3	; Port B Input Pins bit 3
                                 .equ	PINB4	= 4	; Port B Input Pins bit 4
                                 .equ	PINB5	= 5	; Port B Input Pins bit 5
                                 .equ	PINB6	= 6	; Port B Input Pins bit 6
                                 .equ	PINB7	= 7	; Port B Input Pins bit 7
                                 
                                 
                                 ; ***** PORTC ************************
                                 ; PORTC - Port C Data Register
                                 .equ	PORTC0	= 0	; Port C Data Register bit 0
                                 .equ	PC0	= 0	; For compatibility
                                 .equ	PORTC1	= 1	; Port C Data Register bit 1
                                 .equ	PC1	= 1	; For compatibility
                                 .equ	PORTC2	= 2	; Port C Data Register bit 2
                                 .equ	PC2	= 2	; For compatibility
                                 .equ	PORTC3	= 3	; Port C Data Register bit 3
                                 .equ	PC3	= 3	; For compatibility
                                 .equ	PORTC4	= 4	; Port C Data Register bit 4
                                 .equ	PC4	= 4	; For compatibility
                                 .equ	PORTC5	= 5	; Port C Data Register bit 5
                                 .equ	PC5	= 5	; For compatibility
                                 .equ	PORTC6	= 6	; Port C Data Register bit 6
                                 .equ	PC6	= 6	; For compatibility
                                 .equ	PORTC7	= 7	; Port C Data Register bit 7
                                 .equ	PC7	= 7	; For compatibility
                                 
                                 ; DDRC - Port C Data Direction Register
                                 .equ	DDC0	= 0	; Port C Data Direction Register bit 0
                                 .equ	DDC1	= 1	; Port C Data Direction Register bit 1
                                 .equ	DDC2	= 2	; Port C Data Direction Register bit 2
                                 .equ	DDC3	= 3	; Port C Data Direction Register bit 3
                                 .equ	DDC4	= 4	; Port C Data Direction Register bit 4
                                 .equ	DDC5	= 5	; Port C Data Direction Register bit 5
                                 .equ	DDC6	= 6	; Port C Data Direction Register bit 6
                                 .equ	DDC7	= 7	; Port C Data Direction Register bit 7
                                 
                                 ; PINC - Port C Input Pins
                                 .equ	PINC0	= 0	; Port C Input Pins bit 0
                                 .equ	PINC1	= 1	; Port C Input Pins bit 1
                                 .equ	PINC2	= 2	; Port C Input Pins bit 2
                                 .equ	PINC3	= 3	; Port C Input Pins bit 3
                                 .equ	PINC4	= 4	; Port C Input Pins bit 4
                                 .equ	PINC5	= 5	; Port C Input Pins bit 5
                                 .equ	PINC6	= 6	; Port C Input Pins bit 6
                                 .equ	PINC7	= 7	; Port C Input Pins bit 7
                                 
                                 
                                 ; ***** PORTD ************************
                                 ; PORTD - Port D Data Register
                                 .equ	PORTD0	= 0	; Port D Data Register bit 0
                                 .equ	PD0	= 0	; For compatibility
                                 .equ	PORTD1	= 1	; Port D Data Register bit 1
                                 .equ	PD1	= 1	; For compatibility
                                 .equ	PORTD2	= 2	; Port D Data Register bit 2
                                 .equ	PD2	= 2	; For compatibility
                                 .equ	PORTD3	= 3	; Port D Data Register bit 3
                                 .equ	PD3	= 3	; For compatibility
                                 .equ	PORTD4	= 4	; Port D Data Register bit 4
                                 .equ	PD4	= 4	; For compatibility
                                 .equ	PORTD5	= 5	; Port D Data Register bit 5
                                 .equ	PD5	= 5	; For compatibility
                                 .equ	PORTD6	= 6	; Port D Data Register bit 6
                                 .equ	PD6	= 6	; For compatibility
                                 .equ	PORTD7	= 7	; Port D Data Register bit 7
                                 .equ	PD7	= 7	; For compatibility
                                 
                                 ; DDRD - Port D Data Direction Register
                                 .equ	DDD0	= 0	; Port D Data Direction Register bit 0
                                 .equ	DDD1	= 1	; Port D Data Direction Register bit 1
                                 .equ	DDD2	= 2	; Port D Data Direction Register bit 2
                                 .equ	DDD3	= 3	; Port D Data Direction Register bit 3
                                 .equ	DDD4	= 4	; Port D Data Direction Register bit 4
                                 .equ	DDD5	= 5	; Port D Data Direction Register bit 5
                                 .equ	DDD6	= 6	; Port D Data Direction Register bit 6
                                 .equ	DDD7	= 7	; Port D Data Direction Register bit 7
                                 
                                 ; PIND - Port D Input Pins
                                 .equ	PIND0	= 0	; Port D Input Pins bit 0
                                 .equ	PIND1	= 1	; Port D Input Pins bit 1
                                 .equ	PIND2	= 2	; Port D Input Pins bit 2
                                 .equ	PIND3	= 3	; Port D Input Pins bit 3
                                 .equ	PIND4	= 4	; Port D Input Pins bit 4
                                 .equ	PIND5	= 5	; Port D Input Pins bit 5
                                 .equ	PIND6	= 6	; Port D Input Pins bit 6
                                 .equ	PIND7	= 7	; Port D Input Pins bit 7
                                 
                                 
                                 ; ***** PORTE ************************
                                 ; PORTE - Data Register, Port E
                                 .equ	PORTE0	= 0	; 
                                 .equ	PE0	= 0	; For compatibility
                                 .equ	PORTE1	= 1	; 
                                 .equ	PE1	= 1	; For compatibility
                                 .equ	PORTE2	= 2	; 
                                 .equ	PE2	= 2	; For compatibility
                                 .equ	PORTE3	= 3	; 
                                 .equ	PE3	= 3	; For compatibility
                                 .equ	PORTE4	= 4	; 
                                 .equ	PE4	= 4	; For compatibility
                                 .equ	PORTE5	= 5	; 
                                 .equ	PE5	= 5	; For compatibility
                                 .equ	PORTE6	= 6	; 
                                 .equ	PE6	= 6	; For compatibility
                                 .equ	PORTE7	= 7	; 
                                 .equ	PE7	= 7	; For compatibility
                                 
                                 ; DDRE - Data Direction Register, Port E
                                 .equ	DDE0	= 0	; 
                                 .equ	DDE1	= 1	; 
                                 .equ	DDE2	= 2	; 
                                 .equ	DDE3	= 3	; 
                                 .equ	DDE4	= 4	; 
                                 .equ	DDE5	= 5	; 
                                 .equ	DDE6	= 6	; 
                                 .equ	DDE7	= 7	; 
                                 
                                 ; PINE - Input Pins, Port E
                                 .equ	PINE0	= 0	; 
                                 .equ	PINE1	= 1	; 
                                 .equ	PINE2	= 2	; 
                                 .equ	PINE3	= 3	; 
                                 .equ	PINE4	= 4	; 
                                 .equ	PINE5	= 5	; 
                                 .equ	PINE6	= 6	; 
                                 .equ	PINE7	= 7	; 
                                 
                                 
                                 ; ***** PORTF ************************
                                 ; PORTF - Data Register, Port F
                                 .equ	PORTF0	= 0	; 
                                 .equ	PF0	= 0	; For compatibility
                                 .equ	PORTF1	= 1	; 
                                 .equ	PF1	= 1	; For compatibility
                                 .equ	PORTF2	= 2	; 
                                 .equ	PF2	= 2	; For compatibility
                                 .equ	PORTF3	= 3	; 
                                 .equ	PF3	= 3	; For compatibility
                                 .equ	PORTF4	= 4	; 
                                 .equ	PF4	= 4	; For compatibility
                                 .equ	PORTF5	= 5	; 
                                 .equ	PF5	= 5	; For compatibility
                                 .equ	PORTF6	= 6	; 
                                 .equ	PF6	= 6	; For compatibility
                                 .equ	PORTF7	= 7	; 
                                 .equ	PF7	= 7	; For compatibility
                                 
                                 ; DDRF - Data Direction Register, Port F
                                 .equ	DDF0	= 0	; 
                                 .equ	DDF1	= 1	; 
                                 .equ	DDF2	= 2	; 
                                 .equ	DDF3	= 3	; 
                                 .equ	DDF4	= 4	; 
                                 .equ	DDF5	= 5	; 
                                 .equ	DDF6	= 6	; 
                                 .equ	DDF7	= 7	; 
                                 
                                 ; PINF - Input Pins, Port F
                                 .equ	PINF0	= 0	; 
                                 .equ	PINF1	= 1	; 
                                 .equ	PINF2	= 2	; 
                                 .equ	PINF3	= 3	; 
                                 .equ	PINF4	= 4	; 
                                 .equ	PINF5	= 5	; 
                                 .equ	PINF6	= 6	; 
                                 .equ	PINF7	= 7	; 
                                 
                                 
                                 ; ***** PORTG ************************
                                 ; PORTG - Data Register, Port G
                                 .equ	PORTG0	= 0	; 
                                 .equ	PG0	= 0	; For compatibility
                                 .equ	PORTG1	= 1	; 
                                 .equ	PG1	= 1	; For compatibility
                                 .equ	PORTG2	= 2	; 
                                 .equ	PG2	= 2	; For compatibility
                                 .equ	PORTG3	= 3	; 
                                 .equ	PG3	= 3	; For compatibility
                                 .equ	PORTG4	= 4	; 
                                 .equ	PG4	= 4	; For compatibility
                                 
                                 ; DDRG - Data Direction Register, Port G
                                 .equ	DDG0	= 0	; 
                                 .equ	DDG1	= 1	; 
                                 .equ	DDG2	= 2	; 
                                 .equ	DDG3	= 3	; 
                                 .equ	DDG4	= 4	; 
                                 
                                 ; PING - Input Pins, Port G
                                 .equ	PING0	= 0	; 
                                 .equ	PING1	= 1	; 
                                 .equ	PING2	= 2	; 
                                 .equ	PING3	= 3	; 
                                 .equ	PING4	= 4	; 
                                 
                                 
                                 ; ***** TIMER_COUNTER_0 **************
                                 ; TCCR0 - Timer/Counter Control Register
                                 .equ	CS00	= 0	; Clock Select 0
                                 .equ	CS01	= 1	; Clock Select 1
                                 .equ	CS02	= 2	; Clock Select 2
                                 .equ	WGM01	= 3	; Waveform Generation Mode 1
                                 .equ	CTC0	= WGM01	; For compatibility
                                 .equ	COM00	= 4	; Compare match Output Mode 0
                                 .equ	COM01	= 5	; Compare Match Output Mode 1
                                 .equ	WGM00	= 6	; Waveform Generation Mode 0
                                 .equ	PWM0	= WGM00	; For compatibility
                                 .equ	FOC0	= 7	; Force Output Compare
                                 
                                 ; TCNT0 - Timer/Counter Register
                                 .equ	TCNT0_0	= 0	; 
                                 .equ	TCNT0_1	= 1	; 
                                 .equ	TCNT0_2	= 2	; 
                                 .equ	TCNT0_3	= 3	; 
                                 .equ	TCNT0_4	= 4	; 
                                 .equ	TCNT0_5	= 5	; 
                                 .equ	TCNT0_6	= 6	; 
                                 .equ	TCNT0_7	= 7	; 
                                 
                                 ; OCR0 - Output Compare Register
                                 .equ	OCR0_0	= 0	; 
                                 .equ	OCR0_1	= 1	; 
                                 .equ	OCR0_2	= 2	; 
                                 .equ	OCR0_3	= 3	; 
                                 .equ	OCR0_4	= 4	; 
                                 .equ	OCR0_5	= 5	; 
                                 .equ	OCR0_6	= 6	; 
                                 .equ	OCR0_7	= 7	; 
                                 
                                 ; ASSR - Asynchronus Status Register
                                 .equ	TCR0UB	= 0	; Timer/Counter Control Register 0 Update Busy
                                 .equ	OCR0UB	= 1	; Output Compare register 0 Busy
                                 .equ	TCN0UB	= 2	; Timer/Counter0 Update Busy
                                 .equ	AS0	= 3	; Asynchronus Timer/Counter 0
                                 
                                 ; TIMSK - Timer/Counter Interrupt Mask Register
                                 .equ	TOIE0	= 0	; Timer/Counter0 Overflow Interrupt Enable
                                 .equ	OCIE0	= 1	; Timer/Counter0 Output Compare Match Interrupt register
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag register
                                 .equ	TOV0	= 0	; Timer/Counter0 Overflow Flag
                                 .equ	OCF0	= 1	; Output Compare Flag 0
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR0	= 1	; Prescaler Reset Timer/Counter0
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** TIMER_COUNTER_1 **************
                                 ; TIMSK - Timer/Counter Interrupt Mask Register
                                 .equ	TOIE1	= 2	; Timer/Counter1 Overflow Interrupt Enable
                                 .equ	OCIE1B	= 3	; Timer/Counter1 Output CompareB Match Interrupt Enable
                                 .equ	OCIE1A	= 4	; Timer/Counter1 Output CompareA Match Interrupt Enable
                                 .equ	TICIE1	= 5	; Timer/Counter1 Input Capture Interrupt Enable
                                 
                                 ; ETIMSK - Extended Timer/Counter Interrupt Mask Register
                                 .equ	OCIE1C	= 0	; Timer/Counter 1, Output Compare Match C Interrupt Enable
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag register
                                 .equ	TOV1	= 2	; Timer/Counter1 Overflow Flag
                                 .equ	OCF1B	= 3	; Output Compare Flag 1B
                                 .equ	OCF1A	= 4	; Output Compare Flag 1A
                                 .equ	ICF1	= 5	; Input Capture Flag 1
                                 
                                 ; ETIFR - Extended Timer/Counter Interrupt Flag register
                                 .equ	OCF1C	= 0	; Timer/Counter 1, Output Compare C Match Flag
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR321	= 0	; Prescaler Reset, T/C3, T/C2, T/C1
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 ; TCCR1A - Timer/Counter1 Control Register A
                                 .equ	WGM10	= 0	; Waveform Generation Mode Bit 0
                                 .equ	PWM10	= WGM10	; For compatibility
                                 .equ	WGM11	= 1	; Waveform Generation Mode Bit 1
                                 .equ	PWM11	= WGM11	; For compatibility
                                 .equ	COM1C0	= 2	; Compare Output Mode 1C, bit 0
                                 .equ	COM1C1	= 3	; Compare Output Mode 1C, bit 1
                                 .equ	COM1B0	= 4	; Compare Output Mode 1B, bit 0
                                 .equ	COM1B1	= 5	; Compare Output Mode 1B, bit 1
                                 .equ	COM1A0	= 6	; Compare Ouput Mode 1A, bit 0
                                 .equ	COM1A1	= 7	; Compare Output Mode 1A, bit 1
                                 
                                 ; TCCR1B - Timer/Counter1 Control Register B
                                 .equ	CS10	= 0	; Clock Select bit 0
                                 .equ	CS11	= 1	; Clock Select 1 bit 1
                                 .equ	CS12	= 2	; Clock Select1 bit 2
                                 .equ	WGM12	= 3	; Waveform Generation Mode
                                 .equ	CTC10	= WGM12	; For compatibility
                                 .equ	WGM13	= 4	; Waveform Generation Mode
                                 .equ	CTC11	= WGM13	; For compatibility
                                 .equ	ICES1	= 6	; Input Capture 1 Edge Select
                                 .equ	ICNC1	= 7	; Input Capture 1 Noise Canceler
                                 
                                 ; TCCR1C - Timer/Counter1 Control Register C
                                 .equ	FOC1C	= 5	; Force Output Compare for channel C
                                 .equ	FOC1B	= 6	; Force Output Compare for channel B
                                 .equ	FOC1A	= 7	; Force Output Compare for channel A
                                 
                                 
                                 ; ***** TIMER_COUNTER_2 **************
                                 ; TCCR2 - Timer/Counter Control Register
                                 .equ	CS20	= 0	; Clock Select
                                 .equ	CS21	= 1	; Clock Select
                                 .equ	CS22	= 2	; Clock Select
                                 .equ	WGM21	= 3	; Waveform Generation Mode
                                 .equ	CTC2	= WGM21	; For compatibility
                                 .equ	COM20	= 4	; Compare Match Output Mode
                                 .equ	COM21	= 5	; Compare Match Output Mode
                                 .equ	WGM20	= 6	; Wafeform Generation Mode
                                 .equ	PWM2	= WGM20	; For compatibility
                                 .equ	FOC2	= 7	; Force Output Compare
                                 
                                 ; TCNT2 - Timer/Counter Register
                                 .equ	TCNT2_0	= 0	; Timer/Counter Register Bit 0
                                 .equ	TCNT2_1	= 1	; Timer/Counter Register Bit 1
                                 .equ	TCNT2_2	= 2	; Timer/Counter Register Bit 2
                                 .equ	TCNT2_3	= 3	; Timer/Counter Register Bit 3
                                 .equ	TCNT2_4	= 4	; Timer/Counter Register Bit 4
                                 .equ	TCNT2_5	= 5	; Timer/Counter Register Bit 5
                                 .equ	TCNT2_6	= 6	; Timer/Counter Register Bit 6
                                 .equ	TCNT2_7	= 7	; Timer/Counter Register Bit 7
                                 
                                 ; OCR2 - Output Compare Register
                                 .equ	OCR2_0	= 0	; Output Compare Register Bit 0
                                 .equ	OCR2_1	= 1	; Output Compare Register Bit 1
                                 .equ	OCR2_2	= 2	; Output Compare Register Bit 2
                                 .equ	OCR2_3	= 3	; Output Compare Register Bit 3
                                 .equ	OCR2_4	= 4	; Output Compare Register Bit 4
                                 .equ	OCR2_5	= 5	; Output Compare Register Bit 5
                                 .equ	OCR2_6	= 6	; Output Compare Register Bit 6
                                 .equ	OCR2_7	= 7	; Output Compare Register Bit 7
                                 
                                 ; TIMSK - 
                                 .equ	TOIE2	= 6	; 
                                 .equ	OCIE2	= 7	; 
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag Register
                                 .equ	TOV2	= 6	; Timer/Counter2 Overflow Flag
                                 .equ	OCF2	= 7	; Output Compare Flag 2
                                 
                                 
                                 ; ***** TIMER_COUNTER_3 **************
                                 ; ETIMSK - Extended Timer/Counter Interrupt Mask Register
                                 .equ	OCIE3C	= 1	; Timer/Counter3, Output Compare Match Interrupt Enable
                                 .equ	TOIE3	= 2	; Timer/Counter3 Overflow Interrupt Enable
                                 .equ	OCIE3B	= 3	; Timer/Counter3 Output CompareB Match Interrupt Enable
                                 .equ	OCIE3A	= 4	; Timer/Counter3 Output CompareA Match Interrupt Enable
                                 .equ	TICIE3	= 5	; Timer/Counter3 Input Capture Interrupt Enable
                                 
                                 ; ETIFR - Extended Timer/Counter Interrupt Flag register
                                 .equ	OCF3C	= 1	; Timer/Counter3 Output Compare C Match Flag
                                 .equ	TOV3	= 2	; Timer/Counter3 Overflow Flag
                                 .equ	OCF3B	= 3	; Output Compare Flag 1B
                                 .equ	OCF3A	= 4	; Output Compare Flag 1A
                                 .equ	ICF3	= 5	; Input Capture Flag 1
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR321	= 0	; Prescaler Reset, T/C3, T/C2, T/C1
                                 ;.equ	PSR1	= PSR321	; For compatibility
                                 ;.equ	PSR2	= PSR321	; For compatibility
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 ; TCCR3A - Timer/Counter3 Control Register A
                                 .equ	WGM30	= 0	; Waveform Generation Mode Bit 0
                                 .equ	PWM30	= WGM30	; For compatibility
                                 .equ	WGM31	= 1	; Waveform Generation Mode Bit 1
                                 .equ	PWM31	= WGM31	; For compatibility
                                 .equ	COM3C0	= 2	; Compare Output Mode 3C, bit 0
                                 .equ	COM3C1	= 3	; Compare Output Mode 3C, bit 1
                                 .equ	COM3B0	= 4	; Compare Output Mode 3B, bit 0
                                 .equ	COM3B1	= 5	; Compare Output Mode 3B, bit 1
                                 .equ	COM3A0	= 6	; Comparet Ouput Mode 3A, bit 0
                                 .equ	COM3A1	= 7	; Compare Output Mode 3A, bit 1
                                 
                                 ; TCCR3B - Timer/Counter3 Control Register B
                                 .equ	CS30	= 0	; Clock Select 3 bit 0
                                 .equ	CS31	= 1	; Clock Select 3 bit 1
                                 .equ	CS32	= 2	; Clock Select3 bit 2
                                 .equ	WGM32	= 3	; Waveform Generation Mode
                                 .equ	CTC30	= WGM32	; For compatibility
                                 .equ	WGM33	= 4	; Waveform Generation Mode
                                 .equ	CTC31	= WGM33	; For compatibility
                                 .equ	ICES3	= 6	; Input Capture 3 Edge Select
                                 .equ	ICNC3	= 7	; Input Capture 3  Noise Canceler
                                 
                                 ; TCCR3C - Timer/Counter3 Control Register C
                                 .equ	FOC3C	= 5	; Force Output Compare for channel C
                                 .equ	FOC3B	= 6	; Force Output Compare for channel B
                                 .equ	FOC3A	= 7	; Force Output Compare for channel A
                                 
                                 ; TCNT3L - Timer/Counter3 Low Byte
                                 .equ	TCN3L0	= 0	; Timer/Counter 3 bit 0
                                 .equ	TCN3L1	= 1	; Timer/Counter 3 bit 1
                                 .equ	TCN3L2	= 2	; Timer/Counter 3 bit 2
                                 .equ	TCN3L3	= 3	; Timer/Counter 3 bit 3
                                 .equ	TCN3L4	= 4	; Timer/Counter 3 bit 4
                                 .equ	TCN3L5	= 5	; Timer/Counter 3 bit 5
                                 .equ	TCN3L6	= 6	; Timer/Counter 3 bit 6
                                 .equ	TCN3L7	= 7	; Timer/Counter 3 bit 7
                                 
                                 
                                 ; ***** WATCHDOG *********************
                                 ; WDTCR - Watchdog Timer Control Register
                                 .equ	WDTCSR	= WDTCR	; For compatibility
                                 .equ	WDP0	= 0	; Watch Dog Timer Prescaler bit 0
                                 .equ	WDP1	= 1	; Watch Dog Timer Prescaler bit 1
                                 .equ	WDP2	= 2	; Watch Dog Timer Prescaler bit 2
                                 .equ	WDE	= 3	; Watch Dog Enable
                                 .equ	WDCE	= 4	; Watchdog Change Enable
                                 .equ	WDTOE	= WDCE	; For compatibility
                                 
                                 
                                 ; ***** AD_CONVERTER *****************
                                 ; ADMUX - The ADC multiplexer Selection Register
                                 .equ	MUX0	= 0	; Analog Channel and Gain Selection Bits
                                 .equ	MUX1	= 1	; Analog Channel and Gain Selection Bits
                                 .equ	MUX2	= 2	; Analog Channel and Gain Selection Bits
                                 .equ	MUX3	= 3	; Analog Channel and Gain Selection Bits
                                 .equ	MUX4	= 4	; Analog Channel and Gain Selection Bits
                                 .equ	ADLAR	= 5	; Left Adjust Result
                                 .equ	REFS0	= 6	; Reference Selection Bit 0
                                 .equ	REFS1	= 7	; Reference Selection Bit 1
                                 
                                 ; ADCSRA - The ADC Control and Status register
                                 .equ	ADCSR	= ADCSRA	; For compatibility
                                 .equ	ADPS0	= 0	; ADC  Prescaler Select Bits
                                 .equ	ADPS1	= 1	; ADC  Prescaler Select Bits
                                 .equ	ADPS2	= 2	; ADC  Prescaler Select Bits
                                 .equ	ADIE	= 3	; ADC Interrupt Enable
                                 .equ	ADIF	= 4	; ADC Interrupt Flag
                                 .equ	ADFR	= 5	; ADC  Free Running Select
                                 .equ	ADSC	= 6	; ADC Start Conversion
                                 .equ	ADEN	= 7	; ADC Enable
                                 
                                 ; ADCH - ADC Data Register High Byte
                                 .equ	ADCH0	= 0	; ADC Data Register High Byte Bit 0
                                 .equ	ADCH1	= 1	; ADC Data Register High Byte Bit 1
                                 .equ	ADCH2	= 2	; ADC Data Register High Byte Bit 2
                                 .equ	ADCH3	= 3	; ADC Data Register High Byte Bit 3
                                 .equ	ADCH4	= 4	; ADC Data Register High Byte Bit 4
                                 .equ	ADCH5	= 5	; ADC Data Register High Byte Bit 5
                                 .equ	ADCH6	= 6	; ADC Data Register High Byte Bit 6
                                 .equ	ADCH7	= 7	; ADC Data Register High Byte Bit 7
                                 
                                 ; ADCL - ADC Data Register Low Byte
                                 .equ	ADCL0	= 0	; ADC Data Register Low Byte Bit 0
                                 .equ	ADCL1	= 1	; ADC Data Register Low Byte Bit 1
                                 .equ	ADCL2	= 2	; ADC Data Register Low Byte Bit 2
                                 .equ	ADCL3	= 3	; ADC Data Register Low Byte Bit 3
                                 .equ	ADCL4	= 4	; ADC Data Register Low Byte Bit 4
                                 .equ	ADCL5	= 5	; ADC Data Register Low Byte Bit 5
                                 .equ	ADCL6	= 6	; ADC Data Register Low Byte Bit 6
                                 .equ	ADCL7	= 7	; ADC Data Register Low Byte Bit 7
                                 
                                 
                                 
                                 ; ***** LOCKSBITS ********************************************************
                                 .equ	LB1	= 0	; Lock bit
                                 .equ	LB2	= 1	; Lock bit
                                 .equ	BLB01	= 2	; Boot Lock bit
                                 .equ	BLB02	= 3	; Boot Lock bit
                                 .equ	BLB11	= 4	; Boot lock bit
                                 .equ	BLB12	= 5	; Boot lock bit
                                 
                                 
                                 ; ***** FUSES ************************************************************
                                 ; LOW fuse bits
                                 .equ	CKSEL0	= 0	; Select Clock Source
                                 .equ	CKSEL1	= 1	; Select Clock Source
                                 .equ	CKSEL2	= 2	; Select Clock Source
                                 .equ	CKSEL3	= 3	; Select Clock Source
                                 .equ	SUT0	= 4	; Select start-up time
                                 .equ	SUT1	= 5	; Select start-up time
                                 .equ	BODEN	= 6	; Brown out detector enable
                                 .equ	BODLEVEL	= 7	; Brown out detector trigger level
                                 
                                 ; HIGH fuse bits
                                 .equ	BOOTRST	= 0	; Select Reset Vector
                                 .equ	BOOTSZ0	= 1	; Select Boot Size
                                 .equ	BOOTSZ1	= 2	; Select Boot Size
                                 .equ	EESAVE	= 3	; EEPROM memory is preserved through chip erase
                                 .equ	CKOPT	= 4	; Oscillator Options
                                 .equ	SPIEN	= 5	; Enable Serial programming and Data Downloading
                                 .equ	JTAGEN	= 6	; Enable JTAG
                                 .equ	OCDEN	= 7	; Enable OCD
                                 
                                 ; EXTENDED fuse bits
                                 .equ	WDTON	= 0	; Watchdog timer always on
                                 .equ	M103C	= 1	; ATmega103 compatibility mode
                                 
                                 
                                 
                                 ; ***** CPU REGISTER DEFINITIONS *****************************************
                                 .def	XH	= r27
                                 .def	XL	= r26
                                 .def	YH	= r29
                                 .def	YL	= r28
                                 .def	ZH	= r31
                                 .def	ZL	= r30
                                 
                                 
                                 
                                 ; ***** DATA MEMORY DECLARATIONS *****************************************
                                 .equ	FLASHEND	= 0xffff	; Note: Word address
                                 .equ	IOEND	= 0x00ff
                                 .equ	SRAM_START	= 0x0100
                                 .equ	SRAM_SIZE	= 4096
                                 .equ	RAMEND	= 0x10ff
                                 .equ	XRAMEND	= 0xffff
                                 .equ	E2END	= 0x0fff
                                 .equ	EEPROMEND	= 0x0fff
                                 .equ	EEADRBITS	= 12
                                 #pragma AVRPART MEMORY PROG_FLASH 131072
                                 #pragma AVRPART MEMORY EEPROM 4096
                                 #pragma AVRPART MEMORY INT_SRAM SIZE 4096
                                 #pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                                 
                                 
                                 
                                 ; ***** BOOTLOADER DECLARATIONS ******************************************
                                 .equ	NRWW_START_ADDR	= 0xf000
                                 .equ	NRWW_STOP_ADDR	= 0xffff
                                 .equ	RWW_START_ADDR	= 0x0
                                 .equ	RWW_STOP_ADDR	= 0xefff
                                 .equ	PAGESIZE	= 128
                                 .equ	FIRSTBOOTSTART	= 0xfe00
                                 .equ	SECONDBOOTSTART	= 0xfc00
                                 .equ	THIRDBOOTSTART	= 0xf800
                                 .equ	FOURTHBOOTSTART	= 0xf000
                                 .equ	SMALLBOOTSTART	= FIRSTBOOTSTART
                                 .equ	LARGEBOOTSTART	= FOURTHBOOTSTART
                                 
                                 
                                 
                                 ; ***** INTERRUPT VECTORS ************************************************
                                 .equ	INT0addr	= 0x0002	; External Interrupt Request 0
                                 .equ	INT1addr	= 0x0004	; External Interrupt Request 1
                                 .equ	INT2addr	= 0x0006	; External Interrupt Request 2
                                 .equ	INT3addr	= 0x0008	; External Interrupt Request 3
                                 .equ	INT4addr	= 0x000a	; External Interrupt Request 4
                                 .equ	INT5addr	= 0x000c	; External Interrupt Request 5
                                 .equ	INT6addr	= 0x000e	; External Interrupt Request 6
                                 .equ	INT7addr	= 0x0010	; External Interrupt Request 7
                                 .equ	OC2addr	= 0x0012	; Timer/Counter2 Compare Match
                                 .equ	OVF2addr	= 0x0014	; Timer/Counter2 Overflow
                                 .equ	ICP1addr	= 0x0016	; Timer/Counter1 Capture Event
                                 .equ	OC1Aaddr	= 0x0018	; Timer/Counter1 Compare Match A
                                 .equ	OC1Baddr	= 0x001a	; Timer/Counter Compare Match B
                                 .equ	OVF1addr	= 0x001c	; Timer/Counter1 Overflow
                                 .equ	OC0addr	= 0x001e	; Timer/Counter0 Compare Match
                                 .equ	OVF0addr	= 0x0020	; Timer/Counter0 Overflow
                                 .equ	SPIaddr	= 0x0022	; SPI Serial Transfer Complete
                                 .equ	URXC0addr	= 0x0024	; USART0, Rx Complete
                                 .equ	UDRE0addr	= 0x0026	; USART0 Data Register Empty
                                 .equ	UTXC0addr	= 0x0028	; USART0, Tx Complete
                                 .equ	ADCCaddr	= 0x002a	; ADC Conversion Complete
                                 .equ	ERDYaddr	= 0x002c	; EEPROM Ready
                                 .equ	ACIaddr	= 0x002e	; Analog Comparator
                                 .equ	OC1Caddr	= 0x0030	; Timer/Counter1 Compare Match C
                                 .equ	ICP3addr	= 0x0032	; Timer/Counter3 Capture Event
                                 .equ	OC3Aaddr	= 0x0034	; Timer/Counter3 Compare Match A
                                 .equ	OC3Baddr	= 0x0036	; Timer/Counter3 Compare Match B
                                 .equ	OC3Caddr	= 0x0038	; Timer/Counter3 Compare Match C
                                 .equ	OVF3addr	= 0x003a	; Timer/Counter3 Overflow
                                 .equ	URXC1addr	= 0x003c	; USART1, Rx Complete
                                 .equ	UDRE1addr	= 0x003e	; USART1, Data Register Empty
                                 .equ	UTXC1addr	= 0x0040	; USART1, Tx Complete
                                 .equ	TWIaddr	= 0x0042	; 2-wire Serial Interface
                                 .equ	SPMRaddr	= 0x0044	; Store Program Memory Read
                                 
                                 .equ	INT_VECTORS_SIZE	= 70	; size in words
                                 
                                 #endif  /* _M128DEF_INC_ */
                                 
                                 ; ***** END OF FILE ******************************************************
                                 
                                 
                                 ; purpose library, definition of addresses and constants
                                 ; 20171114 A.S.
                                 
                                 ; === definitions  ===
                                 .list
                                 .include "macros.asm"
                                 
                                 ; purpose library, general-purpose macros
                                 ; author (c) R.Holzer (adapted MICRO210/EE208 A.Schmid)
                                 ; modified to include newer macros used for project
                                 
                                 ; ==============
                                 ;	display macros
                                 ; ==============
                                 .macro DISPLAY1 
                                 
                                 	call	LCD_init
                                 	ldi	zl, low(2*@0)
                                 	ldi	zh, high(2*@0)
                                 	call	LCD_putstring
                                 
                                 .endmacro
                                 
                                 .macro DISPLAY2
                                 
                                 	call	LCD_init
                                 	ldi	zl, low(2*@0)
                                 	ldi	zh, high(2*@0)
                                 	call	LCD_putstring
                                 	ldi	zl, low(2*@1)
                                 	ldi	zh, high(2*@1)
                                 	ldi	a0, 0x40
                                 	call	LCD_pos
                                 	call	LCD_putstring
                                 
                                 .endmacro
                                 
                                 ; ==============
                                 ; 	trivia macros
                                 ; ==============
                                 
                                 ; --- display question and answers as long as answer buttons not pressed
                                 
                                 .macro QUESTION ; question: str0, str1 answer: str2, str3, str4, str5
                                 question_start:
                                 display1:
                                 	call	LCD_init
                                 	ldi	zl, low(2*@0)
                                 	ldi	zh, high(2*@0)
                                 	call	LCD_putstring
                                 	ldi	zl, low(2*@1)
                                 	ldi	zh, high(2*@1)
                                 	ldi	a0, 0x40
                                 	call	LCD_pos
                                 	call	LCD_putstring
                                 	call reset_kpd
                                 	call check_reset
                                 	mov b0, a0
                                 	andi a0, 0b10000000
                                 	breq PC+2
                                 	jmp question_end
                                 	cpi b0, 0x48
                                 	brne display1
                                 display2:
                                 	call	LCD_init
                                 	ldi	zl, low(2*@2)
                                 	ldi	zh, high(2*@2)
                                 	call	LCD_putstring
                                 	ldi	zl, low(2*@3)
                                 	ldi	zh, high(2*@3)
                                 	ldi	a0, 0x40
                                 	call	LCD_pos
                                 	call	LCD_putstring
                                 	call reset_kpd
                                 	call check_reset
                                 	mov b0, a0
                                 	andi a0, 0b10000000
                                 	breq PC+2
                                 	jmp question_end
                                 	cpi b0, 0x48
                                 	brne display2
                                 display3:
                                 	call	LCD_init
                                 	ldi	zl, low(2*@4)
                                 	ldi	zh, high(2*@4)
                                 	call	LCD_putstring
                                 	ldi	zl, low(2*@5)
                                 	ldi	zh, high(2*@5)
                                 	ldi	a0, 0x40
                                 	call	LCD_pos
                                 	call	LCD_putstring
                                 	call reset_kpd
                                 	call check_reset
                                 	mov b0, a0
                                 	andi a0, 0b10000000
                                 	breq PC+2
                                 	jmp question_end
                                 	cpi b0, 0x48
                                 	brne display3
                                 	jmp question_start
                                 question_end:
                                 .endmacro
                                 
                                 ; --- set T in SREG if answer correct
                                 .macro COMPARE
                                 	ldi zl, low(2*@0)
                                 	ldi zh, high(2*@0)
                                 	lpm
                                 	cp b0, r0
                                 	brne PC+2
                                 	set
                                 .endmacro
                                 
                                 ; --- print score on LCD as well as fail or pass message
                                 .macro PRINT_SCORE
                                 	call LCD_clear
                                 	brts PC+2
                                 	jmp incorrect
                                 correct:
                                 	DISPLAY1 strcorrect
                                 	jmp score
                                 incorrect:
                                 	DISPLAY1 strfalse
                                 score:
                                 	CLR4 a3, a2, a1, a0
                                 	mov a0, @0
                                 	PRINTF LCD
                                 .db "Score:",FDEC,a,0
                                 .endmacro
                                 
                                 
                                 ; ==============
                                 ; 	pointers
                                 ; ==============
                                 
                                 ; --- loading an immediate into a pointer XYZ,SP ---
                                 .macro 	LDIX	; sram
                                 	ldi	xl, low(@0)
                                 	ldi	xh,high(@0)
                                 	.endmacro	
                                 .macro 	LDIY	; sram	
                                 	ldi	yl, low(@0)
                                 	ldi	yh,high(@0)
                                 	.endmacro	
                                 .macro 	LDIZ	; sram
                                 	ldi	zl, low(@0)
                                 	ldi	zh,high(@0)
                                 	
                                 	.endmacro
                                 .macro	LDZD	; sram, reg	; sram+reg -> Z
                                 	mov	zl,@1
                                 	clr	zh
                                 	subi	zl, low(-@0)
                                 	sbci	zh,high(-@0)
                                 	.endmacro
                                 .macro	LDSP	; sram
                                 	ldi	r16, low(@0)
                                 	out	spl,r16
                                 	ldi	r16,high(@0)
                                 	out	sph,r16
                                 	.endmacro
                                 
                                 ; --- load/store SRAM addr into pointer XYZ ---	
                                 .macro 	LDSX	; sram
                                 	lds	xl,@0
                                 	lds	xh,@0+1
                                 	.endmacro
                                 .macro 	LDSY	; sram
                                 	lds	yl,@0
                                 	lds	yh,@0+1
                                 	.endmacro
                                 .macro 	LDSZ	; sram
                                 	lds	zl,@0
                                 	lds	zh,@0+1
                                 	.endmacro
                                 .macro 	STSX	; sram
                                 	sts	@0,  xl
                                 	sts	@0+1,xh
                                 	.endmacro	
                                 .macro 	STSY	; sram
                                 	sts	@0,  yl
                                 	sts	@0+1,yh
                                 	.endmacro
                                 .macro 	STSZ	; sram
                                 	sts	@0,  zl
                                 	sts	@0+1,zh
                                 	.endmacro	
                                 
                                 ; --- push/pop pointer XYZ ---
                                 .macro	PUSHX			; push X
                                 	push	xl
                                 	push	xh
                                 	.endmacro
                                 .macro	POPX			; pop X
                                 	pop	xh
                                 	pop	xl
                                 	.endmacro
                                 	
                                 .macro	PUSHY			; push Y
                                 	push	yl
                                 	push	yh
                                 	.endmacro
                                 .macro	POPY			; pop Y
                                 	pop	yh
                                 	pop	yl
                                 	.endmacro
                                 
                                 .macro	PUSHZ			; push Z
                                 	push	zl
                                 	push	zh
                                 	.endmacro
                                 .macro	POPZ			; pop Z
                                 	pop	zh
                                 	pop	zl
                                 	.endmacro
                                 
                                 ; --- multiply/divide Z ---	
                                 .macro	MUL2Z			; multiply Z by 2
                                 	lsl	zl
                                 	rol	zh
                                 	.endmacro
                                 .macro	DIV2Z			; divide Z by 2
                                 	lsr	zh
                                 	ror	zl
                                 	.endmacro
                                 
                                 ; --- add register to pointer XYZ ---	
                                 .macro	ADDX	;reg		; x <- y+reg
                                 	add	xl,@0
                                 	brcc	PC+2
                                 	subi	xh,-1		; add carry
                                 	.endmacro
                                 .macro	ADDY	;reg		; y <- y+reg
                                 	add	yl,@0
                                 	brcc	PC+2
                                 	subi	yh,-1		; add carry
                                 	.endmacro
                                 .macro	ADDZ	;reg		; z <- z+reg
                                 	add	zl,@0
                                 	brcc	PC+2
                                 	subi	zh,-1		; add carry
                                 	.endmacro
                                 
                                 ; ===================
                                 ; 	miscellaneous
                                 ; ===================
                                 
                                 ; --- output/store (regular I/O space) immediate value ---
                                 .macro	OUTI	; port,k	output immediate value to port
                                 	ldi	w,@1
                                 	out	@0,w
                                 	.endmacro
                                 
                                 ; --- output/store (extended I/O space) immediate value ---
                                 .macro OUTEI	; port,k    output immediate value to port
                                 	ldi	w,@1
                                 	sts	@0,w
                                 	.endmacro
                                 
                                 ; --- add immediate value ---
                                 .macro	ADDI
                                 	subi	@0,-@1
                                 	.endmacro
                                 .macro	ADCI
                                 	sbci	@0,-@1
                                 	.endmacro
                                 
                                 ; --- inc/dec with range limitation ---
                                 .macro	INC_LIM	; reg,limit
                                 	cpi	@0,@1
                                 	brlo	PC+3
                                 	ldi	@0,@1	
                                 	rjmp	PC+2
                                 	inc	@0
                                 	.endmacro
                                 
                                 .macro	DEC_LIM	; reg,limit
                                 	cpi	@0,@1
                                 	breq	PC+5
                                 	brlo	PC+3
                                 	dec	@0
                                 	rjmp	PC+2
                                 	ldi	@0,@1
                                 	.endmacro
                                 
                                 ; --- inc/dec with cyclic range ---
                                 .macro	INC_CYC	; reg,low,high
                                 	cpi	@0,@2
                                 	brsh	_low	; reg>=high then reg=low
                                 	cpi	@0,@1
                                 	brlo	_low	; reg< low  then reg=low
                                 	inc	@0
                                 	rjmp	_done
                                 _low:	ldi	@0,@1
                                 _done:	
                                     .endmacro
                                 	
                                 .macro	DEC_CYC	; reg,low,high
                                 	cpi	@0,@1
                                 	breq	_high	; reg=low then reg=high
                                 	brlo	_high	; reg<low then reg=high
                                 	dec	@0	
                                 	cpi	@0,@2
                                 	brsh	_high	; reg>=high then high
                                 	rjmp	_done
                                 _high:	ldi	@0,@2
                                 _done:	
                                 	.endmacro
                                 
                                 .macro	INCDEC	;port,b1,b2,reg,low,high
                                 	sbic	@0,@1
                                 	rjmp	PC+6
                                 
                                 	cpi	@3,@5
                                 	brlo	PC+3
                                 	ldi	@3,@4	
                                 	rjmp	PC+2
                                 	inc	@3
                                 
                                 	sbic	@0,@2
                                 	rjmp	PC+7
                                 	
                                 	cpi	@3,@4
                                 	breq	PC+5
                                 	brlo	PC+3
                                 	dec	@3
                                 	rjmp	PC+2
                                 	ldi	@3,@5
                                 	.endmacro		
                                 
                                 ; --- wait loops ---
                                 ; wait 10...196608 cycles
                                 .macro	WAIT_C	; k
                                 	ldi	w,  low((@0-7)/3)
                                 	mov	u,w			; u=LSB
                                 	ldi	w,high((@0-7)/3)+1	; w=MSB
                                 	dec	u
                                 	brne	PC-1
                                 	dec	u
                                 	dec	w
                                 	brne	PC-4
                                 	.endmacro
                                 
                                 ; wait micro-seconds (us)
                                 ; us = x*3*1000'000/clock)	==> x=us*clock/3000'000
                                 .macro	WAIT_US ; k
                                 	ldi	w, low((clock/1000*@0/3000)-1)
                                 	mov	u,w
                                 	ldi	w,high((clock/1000*@0/3000)-1)+1 ; set up: 3 cyles
                                 	dec	u
                                 	brne	PC-1		; inner loop: 3 cycles
                                 	dec	u		; adjustment for outer loop
                                 	dec	w
                                 	brne	PC-4
                                 	.endmacro
                                 
                                 ; wait mili-seconds (ms)
                                 .macro	WAIT_MS ; k
                                 	ldi	w, low(@0)
                                 	mov	u,w		; u = LSB	
                                 	ldi	w,high(@0)+1	; w = MSB
                                 wait_ms:
                                 	push	w		; wait 1000 usec
                                 	push	u
                                 	ldi	w, low((clock/3000)-5)	
                                 	mov	u,w
                                 	ldi	w,high((clock/3000)-5)+1
                                 	dec	u
                                 	brne	PC-1		; inner loop: 3 cycles
                                 	dec	u		; adjustment for outer loop
                                 	dec	w
                                 	brne	PC-4
                                 	pop	u
                                 	pop	w
                                 	
                                 	dec	u
                                 	brne	wait_ms
                                 	dec	w
                                 	brne	wait_ms
                                 	.endmacro
                                 
                                 ; --- conditional jumps/calls ---
                                 .macro	JC0			; jump if carry=0
                                 	brcs	PC+2	
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	JC1			; jump if carry=1
                                 	brcc	PC+2	
                                 	rjmp	@0
                                 	.endmacro
                                 
                                 .macro	JK	; reg,k,addr	; jump if reg=k
                                 	cpi	@0,@1
                                 	breq	@2
                                 	.endmacro
                                 .macro	_JK	; reg,k,addr	; jump if reg=k
                                 	cpi	@0,@1
                                 	brne	PC+2
                                 	rjmp	@2
                                 	.endmacro	
                                 .macro	JNK	; reg,k,addr	; jump if not(reg=k)
                                 	cpi	@0,@1
                                 	brne	@2
                                 	.endmacro 
                                 
                                 .macro	CK	; reg,k,addr	; call if reg=k
                                 	cpi	@0,@1
                                 	brne	PC+2
                                 	rcall	@2
                                 	.endmacro
                                 .macro	CNK	; reg,k,addr	; call if not(reg=k)
                                 	cpi	@0,@1
                                 	breq	PC+2
                                 	rcall	@2
                                 	.endmacro 
                                 
                                 .macro	JSK	; sram,k,addr	; jump if sram=k
                                 	lds	w,@0
                                 	cpi	w,@1
                                 	breq	@2
                                 	.endmacro 
                                 .macro	JSNK	; sram,k,addr	; jump if not(sram=k)
                                 	lds	w,@0
                                 	cpi	w,@1
                                 	brne	@2
                                 	.endmacro
                                 
                                 ; --- loops ---
                                 .macro	DJNZ	; reg,addr	; decr and jump if not zero
                                 	dec	@0
                                 	brne	@1
                                 	.endmacro
                                 .macro	DJNK	; reg,k,addr	; decr and jump if not k
                                 	dec	@0
                                 	cpi	@0,@1
                                 	brne	@2
                                 	.endmacro
                                 
                                 .macro	IJNZ	; reg,addr	; inc and jump if not zero
                                 	inc	@0
                                 	brne	@1
                                 	.endmacro
                                 .macro	IJNK	; reg,k,addr	; inc and jump if not k
                                 	inc	@0
                                 	cpi	@0,@1
                                 	brne	@2
                                 	.endmacro
                                 .macro	_IJNK	; reg,k,addr	; inc and jump if not k
                                 	inc	@0
                                 	ldi	w,@1
                                 	cp	@0,w
                                 	brne	@2
                                 	.endmacro
                                 
                                 .macro	ISJNK	; sram,k,addr	; inc sram and jump if not k
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	cpi	w,@1
                                 	brne	@2
                                 	.endmacro
                                 .macro	_ISJNK	; sram,k,addr	; inc sram and jump if not k
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	cpi	w,@1
                                 	breq	PC+2	
                                 	rjmp	@2
                                 	.endmacro
                                 
                                 .macro	DSJNK	; sram,k,addr	; dec sram and jump if not k
                                 	lds	w,@0
                                 	dec	w
                                 	sts	@0,w
                                 	cpi	w,@1
                                 	brne	@2
                                 	.endmacro
                                 
                                 ; --- table lookup ---
                                 .macro	LOOKUP	;reg, index,tbl
                                 	push	ZL
                                 	push	ZH
                                 	mov	zl,@1		; move index into z
                                 	clr	zh
                                 	subi	zl, low(-2*@2)	; add base address of table
                                 	sbci	zh,high(-2*@2)	
                                 	lpm			; load program memory (into r0)
                                 	mov	@0,r0
                                 	pop	ZH
                                 	pop	ZL
                                 	.endmacro
                                 
                                 .macro	LOOKUP2	;r1,r0, index,tbl
                                 	mov	zl,@2		; move index into z
                                 	clr	zh
                                 	lsl	zl		; multiply by 2
                                 	rol	zh
                                 	subi	zl, low(-2*@3)	; add base address of table
                                 	sbci	zh,high(-2*@3)
                                 	lpm			; get LSB byte
                                 	mov	w,r0		; temporary store LSB in w
                                 	adiw	zl,1		; increment Z
                                 	lpm			; get MSB byte
                                 	mov	@0,r0		; mov MSB to res1
                                 	mov	@1,w		; mov LSB to res0
                                 	.endmacro
                                 
                                 .macro	LOOKUP4	;r3,r2,r1,r0, index,tbl
                                 	mov	zl,@4		; move index into z
                                 	clr	zh
                                 	lsl	zl		; multiply by 2
                                 	rol	zh
                                 	lsl	zl		; multiply by 2
                                 	rol	zh	
                                 	subi	zl, low(-2*@5)	; add base address of table
                                 	sbci	zh,high(-2*@5)
                                 	lpm
                                 	mov	@1,r0		; load high word LSB
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@0,r0		; load high word MSB
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@3,r0		; load low word LSB		
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@2,r0		; load low word MSB
                                 	.endmacro
                                 
                                 .macro	LOOKDOWN ;reg,index,tbl
                                 	ldi	ZL, low(2*@2)	; load table address
                                 	ldi	ZH,high(2*@2)
                                 	clr	@1
                                 loop:	lpm
                                 	cp	r0,@0
                                 	breq	found
                                 	inc	@1 
                                 	adiw	ZL,1
                                 	tst	r0
                                 	breq	notfound
                                 	rjmp	loop
                                 notfound:
                                 	ldi	@1,-1
                                 found:	
                                 	.endmacro
                                 
                                 ; --- branch table ---
                                 .macro	C_TBL	; reg,tbl
                                 	ldi	ZL, low(2*@1)
                                 	ldi	ZH,high(2*@1)
                                 	lsl	@0
                                 	add	ZL,@0
                                 	brcc	PC+2
                                 	inc	ZH
                                 	lpm
                                 	push	r0
                                 	lpm
                                 	mov	zh,r0
                                 	pop	zl
                                 	icall
                                 	.endmacro
                                 .macro	J_TBL	; reg,tbl	
                                 	ldi	ZL, low(2*@1)
                                 	ldi	ZH,high(2*@1)
                                 	lsl	@0
                                 	add	ZL,@0
                                 	brcc	PC+2
                                 	inc	ZH
                                 	lpm
                                 	push	r0
                                 	lpm
                                 	mov	zh,r0
                                 	pop	zl	
                                 	ijmp
                                 	.endmacro
                                 
                                 .macro	BRANCH	; reg		; branching using the stack
                                 	ldi	w, low(tbl)
                                 	add	w,@0
                                 	push	w
                                 	ldi	w,high(tbl)
                                 	brcc	PC+2
                                 	inc	w
                                 	push	w
                                 	ret
                                 tbl:
                                 	.endmacro	
                                 
                                 ; --- multiply/division ---
                                 .macro	DIV2	; reg
                                 	lsr	@0
                                 	.endmacro
                                 .macro	DIV4	; reg
                                 	lsr	@0
                                 	lsr	@0
                                 	.endmacro	
                                 .macro	DIV8	; reg
                                 	lsr	@0
                                 	lsr	@0
                                 	lsr	@0
                                 	.endmacro
                                 	
                                 .macro	MUL2	; reg
                                 	lsl	@0
                                 	.endmacro
                                 .macro	MUL4	; reg
                                 	lsl	@0
                                 	lsl	@0
                                 	.endmacro
                                 .macro	MUL8	; reg
                                 	lsl	@0
                                 	lsl	@0
                                 	lsl	@0
                                 	.endmacro
                                 
                                 ; ====================================
                                 ; 	extending existing instructios
                                 ; ====================================
                                 
                                 ; --- immediate ops with r0..r15 ---
                                 .macro	_ADDI
                                 	ldi	w,@1
                                 	add	@0,w
                                 	.endmacro
                                 .macro	_ADCI
                                 	ldi	w,@1
                                 	adc	@0,w
                                 	.endmacro
                                 .macro	_SUBI
                                 	ldi	w,@1
                                 	sub	@0,w
                                 	.endmacro
                                 .macro	_SBCI
                                 	ldi	w,@1
                                 	sbc	@0,w
                                 	.endmacro
                                 .macro	_ANDI
                                 	ldi	w,@1
                                 	and	@0,w
                                 	.endmacro
                                 .macro	_ORI
                                 	ldi	w,@1
                                 	or	@0,w
                                 	.endmacro
                                 .macro	_EORI
                                 	ldi	w,@1
                                 	eor	@0,w
                                 	.endmacro
                                 .macro	_SBR
                                 	ldi	w,@1
                                 	or	@0,w
                                 	.endmacro
                                 .macro	_CBR
                                 	ldi	w,~@1
                                 	and	@0,w
                                 	.endmacro
                                 .macro	_CPI
                                 	ldi	w,@1
                                 	cp	@0,w
                                 	.endmacro
                                 .macro	_LDI
                                 	ldi	w,@1
                                 	mov	@0,w
                                 	.endmacro
                                 
                                 ; --- bit access for port p32..p63 ---
                                 .macro	_SBI
                                 	in	w,@0
                                 	ori	w,1<<@1
                                 	out	@0,w
                                 	.endmacro
                                 .macro	_CBI
                                 	in	w,@0
                                 	andi	w,~(1<<@1)
                                 	out	@0,w
                                 	.endmacro
                                 	
                                 ; --- extending branch distance to +/-2k ---
                                 .macro	_BREQ
                                 	brne	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRNE
                                 	breq	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRCS
                                 	brcc	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRCC
                                 	brcs	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRSH
                                 	brlo	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRLO
                                 	brsh	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRMI
                                 	brpl	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRPL
                                 	brmi	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRGE
                                 	brlt	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRLT
                                 	brge	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRHS
                                 	brhc	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRHC
                                 	brhs	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRTS
                                 	brtc	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRTC
                                 	brts	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRVS
                                 	brvc	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRVC
                                 	brvs	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRIE
                                 	brid	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	_BRID
                                 	brie	PC+2
                                 	rjmp	@0
                                 	.endmacro
                                 
                                 ; ====================
                                 ; 	bit operations
                                 ; ====================
                                 
                                 ; --- moving bits ---
                                 .macro	MOVB	; reg1,b1, reg2,b2	; reg1,bit1 <- reg2,bit2
                                 	bst	@2,@3
                                 	bld	@0,@1
                                 	.endmacro
                                 .macro	OUTB	; port1,b1, reg2,b2	; port1,bit1 <- reg2,bit2
                                 	sbrs	@2,@3
                                 	cbi	@0,@1
                                 	sbrc	@2,@3
                                 	sbi	@0,@1
                                 	.endmacro
                                 .macro	INB	; reg1,b1, port2,b2	; reg1,bit1 <- port2,bit2
                                 	sbis	@2,@3
                                 	cbr	@0,1<<@1
                                 	sbic	@2,@3
                                 	sbr	@0,1<<@1
                                 	.endmacro
                                 
                                 .macro	Z2C				; zero to carry
                                 	sec
                                 	breq	PC+2	; (Z=1)
                                 	clc
                                 	.endmacro
                                 .macro	Z2INVC				; zero to inverse carry
                                 	sec
                                 	brne	PC+2	; (Z=0)
                                 	clc
                                 	.endmacro
                                 
                                 .macro	C2Z				; carry to zero
                                 	sez
                                 	brcs	PC+2	; (C=1)
                                 	clz
                                 	.endmacro
                                 
                                 .macro	B2C	; reg,b			; bit to carry
                                 	sbrc	@0,@1
                                 	sec
                                 	sbrs	@0,@1
                                 	clc
                                 	.endmacro
                                 .macro	C2B	; reg,b			; carry to bit
                                 	brcc	PC+2
                                 	sbr	@0,(1<<@1)
                                 	brcs	PC+2
                                 	cbr	@0,(1<<@1)
                                 	.endmacro
                                 .macro	P2C	; port,b		; port to carry
                                 	sbic	@0,@1
                                 	sec
                                 	sbis	@0,@1
                                 	clc
                                 	.endmacro
                                 .macro	C2P	; port,b		; carry to port
                                 	brcc	PC+2
                                 	sbi	@0,@1
                                 	brcs	PC+2
                                 	cbi	@0,@1
                                 	.endmacro
                                 
                                 ; --- inverting bits ---
                                 .macro	INVB	; reg,bit		; inverse reg,bit
                                 	ldi	w,(1<<@1)
                                 	eor	@0,w
                                 	.endmacro
                                 .macro	INVP	; port,bit		; inverse port,bit	
                                 	sbis	@0,@1
                                 	rjmp	PC+3
                                 	cbi	@0,@1
                                 	rjmp	PC+2
                                 	sbi	@0,@1
                                 	.endmacro
                                 .macro	INVC				; inverse carry	
                                 	brcs	PC+3
                                 	sec
                                 	rjmp	PC+2
                                 	clc
                                 	.endmacro
                                 
                                 ; --- setting a single bit ---
                                 .macro	SETBIT	; reg(0..7)
                                 ; in	reg (0..7)
                                 ; out	reg with bit (0..7) set to 1.
                                 ; 0=00000001
                                 ; 1=00000010
                                 ; ...
                                 ; 7=10000000
                                 	mov	w,@0
                                 	clr	@0
                                 	inc	@0
                                 	andi	w,0b111	
                                 	breq	PC+4
                                 	lsl	@0
                                 	dec	w
                                 	brne	PC-2
                                 	.endmacro
                                 
                                 ; --- logical operations with masks ---
                                 .macro	MOVMSK	; reg1,reg2,mask	; reg1 <- reg2 (mask)
                                 	ldi	w,~@2	
                                 	and	@0,w
                                 	ldi	w,@2
                                 	and	@1,w	
                                 	or	@0,@1
                                 	.endmacro	
                                 .macro	ANDMSK	; reg1,reg2,mask	; reg1 <- ret 1 AND reg2 (mask)		
                                 	mov	w,@1
                                 	ori	w,~@2
                                 	and	@0,w
                                 	.endmacro	
                                 .macro	ORMSK	; reg1,reg2,mask	; reg1 <- ret 1 AND reg2 (mask)		
                                 	mov	w,@1
                                 	andi	w,@2
                                 	or	@0,w
                                 	.endmacro
                                 	
                                 ; --- logical operations on bits ---
                                 .macro	ANDB	; r1,b1, r2,b2, r3,b3	; reg1,b1 <- reg2,b2 AND reg3,b3
                                 	set
                                 	sbrs	@4,@5	
                                 	clt
                                 	sbrs	@2,@3	
                                 	clt
                                 	bld	@0,@1
                                 	.endmacro
                                 .macro	ORB	; r1,b1, r2,b2, r3,b3	; reg1.b1 <- reg2.b2 OR reg3.b3
                                 	clt
                                 	sbrc	@4,@5	
                                 	set
                                 	sbrc	@2,@3	
                                 	set
                                 	bld	@0,@1
                                 	.endmacro
                                 .macro	EORB	; r1,b1, r2,b2, r3,b3	; reg1.b1 <- reg2.b2 XOR reg3.b3
                                 	sbrc	@4,@5
                                 	rjmp	f1
                                 f0:	bst	@2,@3	
                                 	rjmp	PC+4
                                 f1:	set
                                 	sbrc	@0,@1
                                 	clt
                                 	bld	@0,@0	
                                 	.endmacro
                                 	
                                 ; --- operations based on register bits ---
                                 .macro	FB0	; reg,bit		; bit=0
                                 	cbr	@0,1<<@1
                                 	.endmacro
                                 .macro	FB1	; reg,bit		; bit=1
                                 	sbr	@0,1<<@1
                                 	.endmacro
                                 .macro	_FB0	; reg,bit		; bit=0
                                 	ldi	w,~(1<<@1)
                                 	and	@0,w
                                 	.endmacro
                                 .macro	_FB1	; reg,bit		; bit=1
                                 	ldi	w,1<<@1
                                 	or	@0,w
                                 	.endmacro
                                 .macro	SB0	; reg,bit,addr		; skip if bit=0
                                 	sbrc	@0,@1
                                 	.endmacro
                                 .macro	SB1	; reg,bit,addr		; skip if bit=1
                                 	sbrs	@0,@1
                                 	.endmacro
                                 .macro	JB0	; reg,bit,addr		; jump if bit=0
                                 	sbrs	@0,@1
                                 	rjmp	@2
                                 	.endmacro
                                 .macro	JB1	; reg,bit,addr		; jump if bit=1
                                 	sbrc	@0,@1
                                 	rjmp	@2
                                 	.endmacro
                                 .macro	CB0	; reg,bit,addr		; call if bit=0
                                 	sbrs	@0,@1
                                 	call	@2
                                 	.endmacro
                                 .macro	CB1	; reg,bit,addr		; call if bit=1
                                 	sbrc	@0,@1
                                 	call	@2
                                 	.endmacro
                                 .macro	WB0	; reg,bit		; wait if bit=0
                                 	sbrs	@0,@1
                                 	rjmp	PC-1
                                 	.endmacro
                                 .macro	WB1	; reg,bit		; wait if bit=1
                                 	sbrc	@0,@1
                                 	rjmp	PC-1
                                 	.endmacro
                                 .macro	RB0	; reg,bit		; return if bit=0
                                 	sbrs	@0,@1
                                 	ret
                                 	.endmacro
                                 .macro	RB1	; reg,bit		; return if bit=1
                                 	sbrc	@0,@1
                                 	ret
                                 	.endmacro
                                 
                                 ; wait if bit=0 with timeout
                                 ; if timeout (in units of 5 cyc) then jump to addr
                                 .macro	WB0T	; reg,bit,timeout,addr
                                 	ldi	w,@2+1
                                 	dec	w	; 1 cyc
                                 	breq	@3	; 1 cyc
                                 	sbrs	@0,@1	; 1 cyc
                                 	rjmp	PC-3	; 2 cyc = 5 cycles
                                 	.endmacro
                                 
                                 ; wait if bit=1 with timeout
                                 ; if timeout (in units of 5 cyc) then jump to addr	
                                 .macro	WB1T	; reg,bit,timeout,addr
                                 	ldi	w,@2+1
                                 	dec	w	; 1 cyc
                                 	breq	@3	; 1 cyc
                                 	sbrc	@0,@1	; 1 cyc
                                 	rjmp	PC-3	; 2 cyc = 5 cycles
                                 	.endmacro	
                                 	
                                 ; --- operations based on port bits ---
                                 .macro	P0	; port,bit		; port=0
                                 	cbi	@0,@1
                                 	.endmacro
                                 .macro	P1	; port,bit		; port=1
                                 	sbi	@0,@1
                                 	.endmacro
                                 .macro	SP0	; port,bit		; skip if port=0
                                 	sbic	@0,@1
                                 	.endmacro
                                 .macro	SP1	; port,bit		; skip if port=1
                                 	sbis	@0,@1
                                 	.endmacro
                                 .macro	JP0	; port,bit,addr		; jump if port=0
                                 	sbis	@0,@1
                                 	rjmp	@2
                                 	.endmacro
                                 .macro	JP1	; port,bit,addr		; jump if port=1
                                 	sbic	@0,@1
                                 	rjmp	@2
                                 	.endmacro
                                 .macro	CP0	; port,bit,addr		; call if port=0
                                 	sbis	@0,@1
                                 	rcall	@2
                                 	.endmacro
                                 .macro	CP1	; port,bit,addr		; call if port=1
                                 	sbic	@0,@1
                                 	rcall	@2
                                 	.endmacro
                                 .macro	WP0	; port,bit		; wait if port=0
                                 	sbis	@0,@1
                                 	rjmp	PC-1
                                 	.endmacro
                                 .macro	WP1	; port,bit		; wait if port=1
                                 	sbic	@0,@1
                                 	rjmp	PC-1
                                 	.endmacro
                                 .macro	RP0	; port,bit		; return if port=0
                                 	sbis	@0,@1
                                 	ret
                                 	.endmacro
                                 .macro	RP1	; port,bit		; return if port=1
                                 	sbic	@0,@1
                                 	ret
                                 	.endmacro
                                 
                                 ; wait if port=0 with timeout
                                 ; if timeout (in units of 5 cyc) then jump to addr
                                 .macro	WP0T	; port,bit,timeout,addr
                                 	ldi	w,@2+1
                                 	dec	w	; 1 cyc
                                 	breq	@3	; 1 cyc
                                 	sbis	@0,@1	; 1 cyc
                                 	rjmp	PC-3	; 2 cyc = 5 cycles
                                 	.endmacro
                                 
                                 ; wait if port=1 with timeout
                                 ; if timeout (in units of 5 cyc) then jump to addr	
                                 .macro	WP1T	; port,bit,timeout,addr
                                 	ldi	w,@2+1
                                 	dec	w	; 1 cyc
                                 	breq	@3	; 1 cyc
                                 	sbic	@0,@1	; 1 cyc
                                 	rjmp	PC-3	; 2 cyc = 5 cycles
                                 	.endmacro	
                                 
                                 ; ===========================
                                 ; 	multi-byte operations
                                 ; ===========================
                                 
                                 .macro	SWAP4			; swap 2 variables
                                 	mov	w ,@0
                                 	mov	@0,@4
                                 	mov	@4,w
                                 	mov	w ,@1
                                 	mov	@1,@5
                                 	mov	@5,w
                                 	mov	w ,@2
                                 	mov	@2,@6
                                 	mov	@6,w
                                 	mov	w ,@3
                                 	mov	@3,@7
                                 	mov	@7,w
                                 	.endmacro
                                 .macro	SWAP3
                                 	mov	w ,@0
                                 	mov	@0,@3
                                 	mov	@3,w
                                 	mov	w ,@1
                                 	mov	@1,@4
                                 	mov	@4,w
                                 	mov	w ,@2
                                 	mov	@2,@5
                                 	mov	@5,w
                                 	.endmacro
                                 .macro	SWAP2
                                 	mov	w ,@0
                                 	mov	@0,@2
                                 	mov	@2,w
                                 	mov	w ,@1
                                 	mov	@1,@3
                                 	mov	@3,w
                                 	.endmacro
                                 .macro	SWAP1
                                 	mov	w ,@0
                                 	mov	@0,@1
                                 	mov	@1,w
                                 	.endmacro
                                 
                                 .macro	LDX4	;r..r0		; load from (x+)
                                 	ld	@3,x+
                                 	ld	@2,x+	
                                 	ld	@1,x+
                                 	ld	@0,x+
                                 	.endmacro
                                 .macro	LDX3	;r..r0
                                 	ld	@2,x+	
                                 	ld	@1,x+
                                 	ld	@0,x+
                                 	.endmacro
                                 .macro	LDX2	;r..r0	
                                 	ld	@1,x+
                                 	ld	@0,x+
                                 	.endmacro
                                 	
                                 .macro	LDY4	;r..r0		; load from (y+)
                                 	ld	@3,y+
                                 	ld	@2,y+	
                                 	ld	@1,y+
                                 	ld	@0,y+
                                 	.endmacro
                                 .macro	LDY3	;r..r0
                                 	ld	@2,y+	
                                 	ld	@1,y+
                                 	ld	@0,y+
                                 	.endmacro
                                 .macro	LDY2	;r..r0	
                                 	ld	@1,y+
                                 	ld	@0,y+
                                 	.endmacro
                                 
                                 .macro	LDZ4	;r..r0		; load from (z+)
                                 	ld	@3,z+
                                 	ld	@2,z+	
                                 	ld	@1,z+
                                 	ld	@0,z+
                                 	.endmacro
                                 .macro	LDZ3	;r..r0
                                 	ld	@2,z+	
                                 	ld	@1,z+
                                 	ld	@0,z+
                                 	.endmacro
                                 .macro	LDZ2	;r..r0
                                 	ld	@1,z+
                                 	ld	@0,z+
                                 	.endmacro
                                 
                                 .macro	STX4	;r..r0		; store to (x+)
                                 	st	x+,@3
                                 	st	x+,@2	
                                 	st	x+,@1
                                 	st	x+,@0
                                 	.endmacro
                                 .macro	STX3	;r..r0
                                 	st	x+,@2	
                                 	st	x+,@1
                                 	st	x+,@0
                                 	.endmacro
                                 .macro	STX2	;r..r0
                                 	st	x+,@1
                                 	st	x+,@0
                                 	.endmacro
                                 	
                                 .macro	STY4	;r..r0		; store to (y+)
                                 	st	y+,@3
                                 	st	y+,@2	
                                 	st	y+,@1
                                 	st	y+,@0
                                 	.endmacro
                                 .macro	STY3	;r..r0
                                 	st	y+,@2	
                                 	st	y+,@1
                                 	st	y+,@0
                                 	.endmacro
                                 .macro	STY2	;r..r0	
                                 	st	y+,@1
                                 	st	y+,@0
                                 	.endmacro
                                 	
                                 .macro	STZ4	;r..r0		; store to (z+)
                                 	st	z+,@3
                                 	st	z+,@2	
                                 	st	z+,@1
                                 	st	z+,@0
                                 	.endmacro	
                                 .macro	STZ3	;r..r0
                                 	st	z+,@2	
                                 	st	z+,@1
                                 	st	z+,@0
                                 	.endmacro	
                                 .macro	STZ2	;r..r0	
                                 	st	z+,@1
                                 	st	z+,@0
                                 	.endmacro	
                                 	
                                 .macro	STI4	;addr,k		; store immediate
                                 	ldi	w,  low(@1)
                                 	sts	@0+0,w
                                 	ldi	w, high(@1)
                                 	sts	@0+1,w
                                 	ldi	w,byte3(@1)
                                 	sts	@0+2,w
                                 	ldi	w,byte4(@1)
                                 	sts	@0+3,w	
                                 	.endmacro	
                                 .macro	STI3	;addr,k
                                 	ldi	w,  low(@1)
                                 	sts	@0+0,w
                                 	ldi	w, high(@1)
                                 	sts	@0+1,w
                                 	ldi	w,byte3(@1)
                                 	sts	@0+2,w
                                 	.endmacro	
                                 .macro	STI2	;addr,k
                                 	ldi	w,  low(@1)
                                 	sts	@0+0,w
                                 	ldi	w, high(@1)
                                 	sts	@0+1,w
                                 	.endmacro
                                 .macro	STI	;addr,k
                                 	ldi	w,@1
                                 	sts	@0,w
                                 	.endmacro
                                 
                                 .macro	INC4			; increment
                                 	ldi	w,0xff
                                 	sub	@3,w
                                 	sbc	@2,w
                                 	sbc	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 .macro	INC3
                                 	ldi	w,0xff
                                 	sub	@2,w
                                 	sbc	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 .macro	INC2
                                 	ldi	w,0xff
                                 	sub	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 
                                 .macro	DEC4			; decrement
                                 	ldi	w,0xff
                                 	add	@3,w
                                 	adc	@2,w
                                 	adc	@1,w
                                 	adc	@0,w
                                 	.endmacro
                                 .macro	DEC3
                                 	ldi	w,0xff
                                 	add	@2,w
                                 	adc	@1,w
                                 	adc	@0,w
                                 	.endmacro
                                 .macro	DEC2
                                 	ldi	w,0xff
                                 	add	@1,w
                                 	adc	@0,w
                                 	.endmacro
                                 
                                 .macro	CLR9			; clear (also clears the carry)
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	clr	@4
                                 	clr	@5
                                 	clr	@6
                                 	clr	@7
                                 	clr	@8
                                 	.endmacro
                                 .macro	CLR8
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	clr	@4
                                 	clr	@5
                                 	clr	@6
                                 	clr	@7
                                 	.endmacro
                                 .macro	CLR7
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	clr	@4
                                 	clr	@5
                                 	clr	@6
                                 	.endmacro
                                 .macro	CLR6
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	clr	@4
                                 	clr	@5
                                 	.endmacro
                                 .macro	CLR5
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	clr	@4
                                 	.endmacro
                                 .macro	CLR4
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	clr	@3
                                 	.endmacro
                                 .macro	CLR3
                                 	sub	@0,@0
                                 	clr	@1
                                 	clr	@2
                                 	.endmacro
                                 .macro	CLR2
                                 	sub	@0,@0
                                 	clr	@1
                                 	.endmacro
                                 
                                 .macro	COM4			; one's complement
                                 	com	@0
                                 	com	@1
                                 	com	@2
                                 	com	@3
                                 	.endmacro
                                 .macro	COM3
                                 	com	@0
                                 	com	@1
                                 	com	@2
                                 	.endmacro
                                 .macro	COM2
                                 	com	@0
                                 	com	@1
                                 	.endmacro
                                 
                                 .macro	NEG4			; negation (two's complement)
                                 	com	@0
                                 	com	@1
                                 	com	@2
                                 	com	@3
                                 	ldi	w,0xff
                                 	sub	@3,w
                                 	sbc	@2,w
                                 	sbc	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 .macro	NEG3
                                 	com	@0
                                 	com	@1
                                 	com	@2
                                 	ldi	w,0xff
                                 	sub	@2,w
                                 	sbc	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 .macro	NEG2
                                 	com	@0
                                 	com	@1
                                 	ldi	w,0xff
                                 	sub	@1,w
                                 	sbc	@0,w
                                 	.endmacro
                                 	
                                 .macro	LDI4 	; r..r0, k	; load immediate
                                 	ldi	@3,  low(@4)
                                 	ldi	@2, high(@4)
                                 	ldi	@1,byte3(@4)
                                 	ldi	@0,byte4(@4)
                                 	.endmacro
                                 .macro	LDI3
                                 	ldi	@2,  low(@3)
                                 	ldi	@1, high(@3)
                                 	ldi	@0,byte3(@3)
                                 	.endmacro
                                 .macro	LDI2
                                 	ldi	@1,  low(@2)
                                 	ldi	@0, high(@2)
                                 	.endmacro
                                 
                                 .macro	LDS4			; load direct from SRAM
                                 	lds	@3,@4
                                 	lds	@2,@4+1
                                 	lds	@1,@4+2
                                 	lds	@0,@4+3
                                 	.endmacro
                                 .macro	LDS3
                                 	lds	@2,@3
                                 	lds	@1,@3+1
                                 	lds	@0,@3+2
                                 	.endmacro
                                 .macro	LDS2
                                 	lds	@1,@2
                                 	lds	@0,@2+1
                                 	.endmacro
                                 
                                 .macro	STS4			; store direct to SRAM
                                 	sts	@0+0,@4
                                 	sts	@0+1,@3
                                 	sts	@0+2,@2
                                 	sts	@0+3,@1
                                 	.endmacro
                                 .macro	STS3
                                 	sts	@0+0,@3
                                 	sts	@0+1,@2
                                 	sts	@0+2,@1
                                 	.endmacro
                                 .macro	STS2
                                 	sts	@0+0,@2
                                 	sts	@0+1,@1
                                 	.endmacro
                                 
                                 .macro	STDZ4	; d, r3,r2,r1,r0
                                 	std	z+@0+0,@4
                                 	std	z+@0+1,@3
                                 	std	z+@0+2,@2
                                 	std	z+@0+3,@1
                                 	.endmacro
                                 .macro	STDZ3	; d, r2,r1,r0
                                 	std	z+@0+0,@3
                                 	std	z+@0+1,@2
                                 	std	z+@0+2,@1
                                 	.endmacro
                                 .macro	STDZ2	; d, r1,r0
                                 	std	z+@0+0,@2
                                 	std	z+@0+1,@1
                                 	.endmacro
                                 	
                                 .macro	LPM4			; load program memory
                                 	lpm
                                 	mov	@3,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@2,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@1,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@0,r0
                                 	adiw	zl,1
                                 	.endmacro
                                 .macro	LPM3
                                 	lpm
                                 	mov	@2,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@1,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@0,r0
                                 	adiw	zl,1
                                 	.endmacro
                                 .macro	LPM2
                                 	lpm
                                 	mov	@1,r0
                                 	adiw	zl,1
                                 	lpm
                                 	mov	@0,r0
                                 	adiw	zl,1
                                 	.endmacro
                                 .macro	LPM1
                                 	lpm
                                 	mov	@0,r0
                                 	adiw	zl,1
                                 	.endmacro
                                 
                                 .macro	MOV4			; move between registers
                                 	mov	@3,@7
                                 	mov	@2,@6
                                 	mov	@1,@5
                                 	mov	@0,@4
                                 	.endmacro
                                 .macro	MOV3
                                 	mov	@2,@5
                                 	mov	@1,@4
                                 	mov	@0,@3
                                 	.endmacro
                                 .macro	MOV2
                                 	mov	@1,@3
                                 	mov	@0,@2
                                 	.endmacro
                                 
                                 .macro	ADD4			; add
                                 	add	@3,@7
                                 	adc	@2,@6
                                 	adc	@1,@5
                                 	adc	@0,@4
                                 	.endmacro
                                 .macro	ADD3
                                 	add	@2,@5
                                 	adc	@1,@4
                                 	adc	@0,@3
                                 	.endmacro
                                 .macro	ADD2
                                 	add	@1,@3
                                 	adc	@0,@2
                                 	.endmacro
                                 
                                 .macro	SUB4			; subtract
                                 	sub	@3,@7
                                 	sbc	@2,@6
                                 	sbc	@1,@5
                                 	sbc	@0,@4
                                 	.endmacro
                                 .macro	SUB3
                                 	sub	@2,@5
                                 	sbc	@1,@4
                                 	sbc	@0,@3
                                 	.endmacro
                                 .macro	SUB2
                                 	sub	@1,@3
                                 	sbc	@0,@2
                                 	.endmacro
                                 	
                                 .macro	CP4			; compare
                                 	cp	@3,@7
                                 	cpc	@2,@6
                                 	cpc	@1,@5
                                 	cpc	@0,@4
                                 	.endmacro
                                 .macro	CP3
                                 	cp	@2,@5
                                 	cpc	@1,@4
                                 	cpc	@0,@3
                                 	.endmacro
                                 .macro	CP2
                                 	cp	@1,@3
                                 	cpc	@0,@2
                                 	.endmacro
                                 
                                 .macro	TST4			; test
                                 	clr	w
                                 	cp	@3,w
                                 	cpc	@2,w
                                 	cpc	@1,w
                                 	cpc	@0,w
                                 	.endmacro
                                 .macro	TST3
                                 	clr	w
                                 	cp	@2,w
                                 	cpc	@1,w
                                 	cpc	@0,w
                                 	.endmacro
                                 .macro	TST2
                                 	clr	w
                                 	cp	@1,w
                                 	cpc	@0,w
                                 	.endmacro
                                 
                                 .macro	ADDI4			; add immediate
                                 	subi	@3,  low(-@4)
                                 	sbci	@2, high(-@4)
                                 	sbci	@1,byte3(-@4)
                                 	sbci	@0,byte4(-@4)
                                 	.endmacro
                                 .macro	ADDI3
                                 	subi	@2,  low(-@3)
                                 	sbci	@1, high(-@3)
                                 	sbci	@0,byte3(-@3)
                                 	.endmacro
                                 .macro	ADDI2
                                 	subi	@1,  low(-@2)
                                 	sbci	@0, high(-@2)
                                 	.endmacro
                                 	
                                 .macro	SUBI4			; subtract immediate
                                 	subi	@3,  low(@4)
                                 	sbci	@2, high(@4)
                                 	sbci	@1,byte3(@4)
                                 	sbci	@0,byte4(@4)
                                 	.endmacro
                                 .macro	SUBI3
                                 	subi	@2,  low(@3)
                                 	sbci	@1, high(@3)
                                 	sbci	@0,byte3(@3)
                                 	.endmacro
                                 .macro	SUBI2
                                 	subi	@1,  low(@2)
                                 	sbci	@0, high(@2)
                                 	.endmacro
                                 
                                 .macro	LSL5			; logical shift left
                                 	lsl	@4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	LSL4
                                 	lsl	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	LSL3
                                 	lsl	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	LSL2
                                 	lsl	@1
                                 	rol	@0
                                 	.endmacro
                                 	
                                 .macro	LSR4			; logical shift right
                                 	lsr	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	.endmacro
                                 .macro	LSR3
                                 	lsr	@0
                                 	ror	@1
                                 	ror	@2
                                 	.endmacro
                                 .macro	LSR2
                                 	lsr	@0
                                 	ror	@1
                                 	.endmacro
                                 
                                 .macro	ASR4			; arithmetic shift right
                                 	asr	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	.endmacro
                                 .macro	ASR3
                                 	asr	@0
                                 	ror	@1
                                 	ror	@2
                                 	.endmacro
                                 .macro	ASR2
                                 	asr	@0
                                 	ror	@1
                                 	.endmacro
                                 
                                 .macro	ROL8			; rotate left through carry
                                 	rol	@7
                                 	rol	@6
                                 	rol	@5
                                 	rol	@4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL7
                                 	rol	@6
                                 	rol	@5
                                 	rol	@4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL6
                                 	rol	@5
                                 	rol	@4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL5
                                 	rol	@4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL4
                                 	rol	@3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL3
                                 	rol	@2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 .macro	ROL2
                                 	rol	@1
                                 	rol	@0
                                 	.endmacro
                                 
                                 .macro	ROR8			; rotate right through carry
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	ror	@4
                                 	ror	@5
                                 	ror	@6
                                 	ror	@7
                                 	.endmacro
                                 .macro	ROR7
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	ror	@4
                                 	ror	@5
                                 	ror	@6
                                 	.endmacro
                                 .macro	ROR6
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	ror	@4
                                 	ror	@5
                                 	.endmacro
                                 .macro	ROR5
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	ror	@4
                                 	.endmacro	
                                 .macro	ROR4
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	ror	@3
                                 	.endmacro
                                 .macro	ROR3
                                 	ror	@0
                                 	ror	@1
                                 	ror	@2
                                 	.endmacro
                                 .macro	ROR2
                                 	ror	@0
                                 	ror	@1
                                 	.endmacro
                                 
                                 .macro	PUSH2
                                 	push	@0
                                 	push	@1
                                 	.endmacro	
                                 .macro	POP2
                                 	pop	@1
                                 	pop	@0
                                 	.endmacro
                                 
                                 .macro	PUSH3
                                 	push	@0
                                 	push	@1
                                 	push	@2
                                 	.endmacro	
                                 .macro	POP3
                                 	pop	@2
                                 	pop	@1
                                 	pop	@0
                                 	.endmacro
                                 	
                                 .macro	PUSH4
                                 	push	@0
                                 	push	@1
                                 	push	@2
                                 	push	@3
                                 	.endmacro	
                                 .macro	POP4
                                 	pop	@3
                                 	pop	@2
                                 	pop	@1
                                 	pop	@0
                                 	.endmacro	
                                 	
                                 .macro	PUSH5
                                 	pop	@0
                                 	pop	@1
                                 	pop	@2
                                 	pop	@3
                                 	pop	@4
                                 	.endmacro	
                                 .macro	POP5
                                 	pop	@4
                                 	pop	@3
                                 	pop	@2
                                 	pop	@1
                                 	pop	@0
                                 	.endmacro	
                                 
                                 ; --- SRAM operations ---
                                 .macro	INCS4	; sram		; increment SRAM 4-byte variable
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	brne	end
                                 	lds	w,@0+1
                                 	inc	w
                                 	sts	@0+1,w
                                 	brne	end
                                 	lds	w,@0+2
                                 	inc	w
                                 	sts	@0+2,w
                                 	brne	end
                                 	lds	w,@0+3
                                 	inc	w
                                 	sts	@0+3,w
                                 end:	
                                 	.endmacro
                                 
                                 .macro	INCS3	; sram		; increment SRAM 3-byte variable
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	brne	end
                                 	lds	w,@0+1
                                 	inc	w
                                 	sts	@0+1,w
                                 	brne	end
                                 	lds	w,@0+2
                                 	inc	w
                                 	sts	@0+2,w
                                 end:	
                                 	.endmacro
                                 
                                 .macro	INCS2	; sram		; increment SRAM 2-byte variable
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	brne	end
                                 	lds	w,@0+1
                                 	inc	w
                                 	sts	@0+1,w
                                 end:	
                                 	.endmacro
                                 
                                 .macro	INCS	; sram		; increment SRAM 1-byte variable
                                 	lds	w,@0
                                 	inc	w
                                 	sts	@0,w
                                 	.endmacro
                                 
                                 .macro	DECS4	; sram		; decrement SRAM 4-byte variable
                                 	ldi	w,1
                                 	lds	u,@0
                                 	sub	u,w
                                 	sts	@0,u
                                 	clr	w
                                 	lds	u,@0+1
                                 	sbc	u,w
                                 	sts	@0+1,u
                                 	lds	u,@0+2
                                 	sbc	u,w
                                 	sts	@0+2,u
                                 	lds	u,@0+3
                                 	sbc	u,w
                                 	sts	@0+3,u
                                 	.endmacro
                                 .macro	DECS3	; sram		; decrement SRAM 3-byte variable
                                 	ldi	w,1
                                 	lds	u,@0
                                 	sub	u,w
                                 	sts	@0,u
                                 	clr	w
                                 	lds	u,@0+1
                                 	sbc	u,w
                                 	sts	@0+1,u
                                 	lds	u,@0+2
                                 	sbc	u,w
                                 	sts	@0+2,u
                                 	.endmacro
                                 .macro	DECS2	; sram		; decrement SRAM 2-byte variable
                                 	ldi	w,1
                                 	lds	u,@0
                                 	sub	u,w
                                 	sts	@0,u
                                 	clr	w
                                 	lds	u,@0+1
                                 	sbc	u,w
                                 	sts	@0+1,u
                                 	.endmacro
                                 .macro	DECS	; sram		; decrement
                                 	lds	w,@0
                                 	dec	w
                                 	sts	@0,w
                                 	.endmacro
                                 
                                 .macro	MOVS4	; addr0,addr1	; [addr0] <-- [addr1]
                                 	lds	w,@1
                                 	sts	@0,w
                                 	lds	w,@1+1
                                 	sts	@0+1,w
                                 	lds	w,@1+2
                                 	sts	@0+2,w
                                 	lds	w,@3+1
                                 	sts	@0+3,w	
                                 	.endmacro
                                 .macro	MOVS3	; addr0,addr1	; [addr0] <-- [addr1]
                                 	lds	w,@1
                                 	sts	@0,w
                                 	lds	w,@1+1
                                 	sts	@0+1,w
                                 	lds	w,@1+2
                                 	sts	@0+2,w
                                 	.endmacro
                                 .macro	MOVS2	; addr0,addr1	; [addr0] <-- [addr1]
                                 	lds	w,@1
                                 	sts	@0,w
                                 	lds	w,@1+1
                                 	sts	@0+1,w
                                 	.endmacro
                                 .macro	MOVS	; addr0,addr1	; [addr0] <-- [addr1]
                                 	lds	w,@1
                                 	sts	@0,w
                                 	.endmacro
                                 
                                 .macro	SEXT	; reg1,reg0	; sign extend
                                 	clr	@0
                                 	sbrc	@1,7
                                 	dec	@0
                                 	.endmacro
                                 
                                 ; =======================================
                                 ;	Jump/Call with constant arguments
                                 ; =======================================
                                 	
                                 ; --- calls with arguments a,b,XYZ ---
                                 .macro	CX	; subroutine,x
                                 	ldi	xl, low(@1)
                                 	ldi	xh,high(@1)
                                 	rcall	@0
                                 	.endmacro
                                 .macro	CXY	; subroutine,x,y
                                 	ldi	xl, low(@1)
                                 	ldi	xh,high(@1)
                                 	ldi	yl, low(@2)
                                 	ldi	yh,high(@2)	
                                 	rcall	@0
                                 	.endmacro		
                                 .macro	CXZ	; subroutine,x,z
                                 	ldi	xl, low(@1)
                                 	ldi	xh,high(@1)
                                 	ldi	zl, low(@2)
                                 	ldi	zh,high(@2)	
                                 	rcall	@0
                                 	.endmacro		
                                 .macro	CXYZ	; subroutine,x,y,z
                                 	ldi	xl, low(@1)
                                 	ldi	xh,high(@1)
                                 	ldi	yl, low(@2)
                                 	ldi	yh,high(@2)
                                 	ldi	zl, low(@3)
                                 	ldi	zh,high(@3)		
                                 	rcall	@0
                                 	.endmacro
                                 .macro	CW	; subroutine,w
                                 	ldi	w, @1
                                 	rcall	@0
                                 	.endmacro
                                 .macro	CA	; subroutine,a
                                 	ldi	a0, @1
                                 	rcall	@0
                                 	.endmacro
                                 .macro	CAB	; subroutine,a,b
                                 	ldi	a0, @1
                                 	ldi	b0, @2
                                 	rcall	@0
                                 	.endmacro
                                 
                                 ; --- jump with arguments w,a,b ---
                                 .macro	JW	; subroutine,w
                                 	ldi	w, @1
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	JA	; subroutine,a
                                 	ldi	a0, @1
                                 	rjmp	@0
                                 	.endmacro
                                 .macro	JAB	; subroutine,a,b
                                 	ldi	a0, @1
                                 	ldi	b0, @2
                                 	rjmp	@0
                                 	.endmacro
                                 .list
                                 
                                 
                                 .include "m128def.inc"
                                 
                                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega128.xml ***********
                                 ;*************************************************************************
                                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                                 ;* 
                                 ;* Number            : AVR000
                                 ;* File Name         : "m128def.inc"
                                 ;* Title             : Register/Bit Definitions for the ATmega128
                                 ;* Date              : 2011-02-09
                                 ;* Version           : 2.35
                                 ;* Support E-mail    : avr@atmel.com
                                 ;* Target MCU        : ATmega128
                                 ;* 
                                 ;* DESCRIPTION
                                 ;* When including this file in the assembly program file, all I/O register 
                                 ;* names and I/O register bit names appearing in the data book can be used.
                                 ;* In addition, the six registers forming the three data pointers X, Y and 
                                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                                 ;* SRAM is also defined 
                                 ;* 
                                 ;* The Register names are represented by their hexadecimal address.
                                 ;* 
                                 ;* The Register Bit names are represented by their bit number (0-7).
                                 ;* 
                                 ;* Please observe the difference in using the bit names with instructions
                                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                                 ;* (skip if bit in register set/cleared). The following example illustrates
                                 ;* this:
                                 ;* 
                                 ;* in    r16,PORTB             ;read PORTB latch
                                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                                 ;* out   PORTB,r16             ;output to PORTB
                                 ;* 
                                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                                 ;* rjmp  TOV0_is_set           ;jump if set
                                 ;* ...                         ;otherwise do something else
                                 ;*************************************************************************
                                 
                                 #ifndef _M128DEF_INC_
                                 #endif  /* _M128DEF_INC_ */
                                 
                                 ; ***** END OF FILE ******************************************************
                                 
                                 	; === definitions ===
                                 .equ	KPDD = DDRD
                                 .equ	KPDO = PORTD
                                 .equ	KPDI = PIND
                                 
                                 .equ	KPD_DELAY = 30	; msec, debouncing keys of keypad
                                 
                                 .def	wr0 = r2		; detected row in hex
                                 .def	wr1 = r1		; detected column in hex
                                 .def	mask = r14		; row mask indicating which row has been detected in bin
                                 .def	wr2 = r15		; semaphore: must enter LCD display routine, unary: 0 or other
                                 
                                 	; === interrupt vector table ===
                                 .org 0
000000 940c 04fe                 	jmp reset
000002 940c 000a                 	jmp	isr_ext_int0	; external interrupt INT0
000004 940c 000f                 	jmp	isr_ext_int1	; external interrupt INT1
000006 940c 0014                 	jmp isr_ext_int2
000008 940c 0019                 	jmp isr_ext_int3
                                 
                                 	; === interrupt service routines ===
                                 	
                                 isr_ext_int0:
00000a e001
00000b 2e10                      	_LDI	wr1, 0x01		; detect row 1
00000c e001
00000d 2ee0                      	_LDI	mask, 0b00000001
00000e c00f                      	rjmp	column_detect
                                 
                                 isr_ext_int1:
00000f e002
000010 2e10                      	_LDI	wr1, 0x02		; detect row 2
000011 e002
000012 2ee0                      	_LDI	mask, 0b00000010
000013 c00a                      	rjmp	column_detect
                                 
                                 isr_ext_int2:		
000014 e004
000015 2e10                      	_LDI	wr1, 0x04		; detect row 3 (LSB 0100)
000016 e004
000017 2ee0                      	_LDI	mask, 0b00000100
000018 c005                      	rjmp	column_detect
                                 
                                 isr_ext_int3:
000019 e008
00001a 2e10                      	_LDI	wr1, 0x08		; detect row 4 (LSB 1000)
00001b e008
00001c 2ee0                      	_LDI	mask, 0b00001000
00001d c000                      	rjmp	column_detect
                                 
                                 
                                 column_detect:
00001e ef0f
00001f bb02                          OUTI    KPDO,0xff       ; bit4-7 driven high
                                 col7: ; X2: 369#
000020 e10e
000021 2e30
000022 e001
000023 930f
000024 923f
000025 e300
000026 2e30
000027 e006
000028 943a
000029 f7f1
00002a 943a
00002b 950a
00002c f7d9
00002d 903f
00002e 910f
00002f 943a
000030 f791
000031 950a
000032 f781                      	WAIT_MS KPD_DELAY
000033 e70f
000034 bb02                      	OUTI KPDO,0x7f ; check column 7
000035 e10e
000036 2e30
000037 e001
000038 930f
000039 923f
00003a e300
00003b 2e30
00003c e006
00003d 943a
00003e f7f1
00003f 943a
000040 950a
000041 f7d9
000042 903f
000043 910f
000044 943a
000045 f791
000046 950a
000047 f781                      	WAIT_MS KPD_DELAY
000048 b300                      	in w,KPDI
000049 210e                      	and w,mask
00004a 2300                      	tst w
00004b f419                      	brne col6
00004c e400
00004d 2e20                      	_LDI wr0,0x40 ; (MSB 0100)
00004e c08c                      	rjmp isr_return
                                 
                                 col6: ; X1: ABCD
00004f e10e
000050 2e30
000051 e001
000052 930f
000053 923f
000054 e300
000055 2e30
000056 e006
000057 943a
000058 f7f1
000059 943a
00005a 950a
00005b f7d9
00005c 903f
00005d 910f
00005e 943a
00005f f791
000060 950a
000061 f781                      	WAIT_MS KPD_DELAY
000062 eb0f
000063 bb02                      	OUTI KPDO,0xbf ; check column 6
000064 e10e
000065 2e30
000066 e001
000067 930f
000068 923f
000069 e300
00006a 2e30
00006b e006
00006c 943a
00006d f7f1
00006e 943a
00006f 950a
000070 f7d9
000071 903f
000072 910f
000073 943a
000074 f791
000075 950a
000076 f781                      	WAIT_MS KPD_DELAY
000077 b300                      	in w,KPDI
000078 210e                      	and w,mask
000079 2300                      	tst w
00007a f419                      	brne col5
00007b e800
00007c 2e20                      	_LDI wr0,0x80 ; (MSB 1000)
00007d c05d                      	rjmp isr_return
                                 
                                 col5: ; X3: 2580
00007e e10e
00007f 2e30
000080 e001
000081 930f
000082 923f
000083 e300
000084 2e30
000085 e006
000086 943a
000087 f7f1
000088 943a
000089 950a
00008a f7d9
00008b 903f
00008c 910f
00008d 943a
00008e f791
00008f 950a
000090 f781                      	WAIT_MS KPD_DELAY
000091 ed0f
000092 bb02                      	OUTI KPDO,0xdf ; check column 5
000093 e10e
000094 2e30
000095 e001
000096 930f
000097 923f
000098 e300
000099 2e30
00009a e006
00009b 943a
00009c f7f1
00009d 943a
00009e 950a
00009f f7d9
0000a0 903f
0000a1 910f
0000a2 943a
0000a3 f791
0000a4 950a
0000a5 f781                      	WAIT_MS KPD_DELAY
0000a6 b300                      	in w,KPDI
0000a7 210e                      	and w,mask
0000a8 2300                      	tst w
0000a9 f419                      	brne col4
0000aa e200
0000ab 2e20                      	_LDI wr0,0x20
0000ac c02e                      	rjmp isr_return
                                 
                                 col4: ; X4: 147*
0000ad e10e
0000ae 2e30
0000af e001
0000b0 930f
0000b1 923f
0000b2 e300
0000b3 2e30
0000b4 e006
0000b5 943a
0000b6 f7f1
0000b7 943a
0000b8 950a
0000b9 f7d9
0000ba 903f
0000bb 910f
0000bc 943a
0000bd f791
0000be 950a
0000bf f781                      	WAIT_MS KPD_DELAY
0000c0 ee0f
0000c1 bb02                      	OUTI KPDO,0xef ; check column 4
0000c2 e10e
0000c3 2e30
0000c4 e001
0000c5 930f
0000c6 923f
0000c7 e300
0000c8 2e30
0000c9 e006
0000ca 943a
0000cb f7f1
0000cc 943a
0000cd 950a
0000ce f7d9
0000cf 903f
0000d0 910f
0000d1 943a
0000d2 f791
0000d3 950a
0000d4 f781                      	WAIT_MS KPD_DELAY
0000d5 b300                      	in w,KPDI
0000d6 210e                      	and w,mask
0000d7 2300                      	tst w
0000d8 f411                      	brne isr_return
0000d9 e100
0000da 2e20                      	_LDI wr0,0x10
                                  
                                 isr_return:
0000db e01a                      	ldi _w,10 ; sound feedback of key pressed acknowledge
                                 beep01:    
0000dc ef0f
0000dd 2ef0                          _LDI    wr2,0xff
0000de e525                      	ldi a0, re2
0000df ee61                      	ldi b0, 225 ; 2.5ms * 225 
0000e0 940e 04df                 	call sound
0000e2 e00f
0000e3 bb02                      	OUTI	KPDO,0x0f
0000e4 9518                          reti
                                 
                                 .include "kpd4x4bis.asm"
                                 
                                 ; === initialization and configuration ===
                                 
                                 reset_kpd:	
0000e5 ef00
0000e6 bb01                      	OUTI	KPDD,0xf0		; bit0-3 pull-up and bits4-7 driven low
0000e7 e00f
0000e8 bb02                      	OUTI	KPDO,0x0f		;>(needs the two lines)
0000e9 ef0f
0000ea bb07                      	OUTI	DDRB,0xff		; turn on LEDs
0000eb e00f
0000ec bf09                      	OUTI	EIMSK,0x0f		; enable INT0-INT3
0000ed e000
0000ee bf0a                      	OUTI	EICRB,0b0		;>at low level
                                 	
                                 
0000ef 2422                      	clr		wr0
0000f0 2411                      	clr		wr1
0000f1 24ff                      	clr		wr2
                                 
0000f2 2733                      	clr		a1				
0000f3 2744                      	clr		a2
0000f4 2755                      	clr		a3
0000f5 2777                      	clr		b1
0000f6 2788                      	clr		b2
0000f7 2799                      	clr		b3
                                 
0000f8 9478                      	sei
0000f9 940c 00fb                 	jmp	main_kpd				; not useful in this case, kept for modularity
                                 
                                 	; === main program ===
                                 main_kpd:
                                 
0000fb 20ff                      	tst		wr2				; check flag/semaphore
0000fc f3f1                      	breq	main_kpd			; branch to main as long as no key pressed
0000fd 24ff                      	clr		wr2				; clear wr2 to avoid detecting key pressed once back at beginning of main
                                 
0000fe 2722                      	clr		a0
0000ff 0d21                      	add		a0, wr1			; col
000100 0d22                      	add		a0, wr0			; row
000101 2766                      	clr b0 ; used to compute offset to LUT
                                 	; offset due to low nibble (row)
000102 2e82                      	mov c0, a0
                                 
000103 fd21                      	sbrc a0, 1
000104 5f6c                      	subi b0, -4
000105 fd22                      	sbrc a0, 2
000106 5f68                      	subi b0, -8
000107 fd23                      	sbrc a0, 3
000108 5f64                      	subi b0, -12
                                 	; offset due to high nibble (col)
000109 fd25                      	sbrc a0, 5
00010a 5f6f                      	subi b0, -1
00010b fd26                      	sbrc a0, 6
00010c 5f6e                      	subi b0, -2
00010d fd27                      	sbrc a0, 7
00010e 5f6d                      	subi b0, -3
                                 
00010f 2fe6                      	mov zl, b0
000110 27ff                      	clr zh
000111 53ee                      	subi zl, low(-2*KeySet01)
000112 4ffd                      	sbci zh, high(-2*KeySet01)
000113 95c8                      	lpm
000114 2d60                      	mov b0, r0
000115 9508                      	ret
                                 .include "lcd.asm"
                                 
                                 ; purpose  LCD HD44780U library
                                 ; ATmega 128 and Atmel Studio 7.0 compliant
                                 
                                 ; === definitions ===
                                 .equ	LCD_IR	= 0x8000	; address LCD instruction reg
                                 .equ	LCD_DR	= 0xc000	; address LCD data register
                                 
                                 ; === subroutines ===
                                 LCD_wr_ir:
                                 ; in	w (byte to write to LCD IR)
000116 9030 8000                 	lds	u, LCD_IR		; read IR to check busy flag  (bit7)
000118 fc37
000119 cffc                      	JB1	u,7,LCD_wr_ir	; Jump if Bit=1 (still busy)
00011a d003                      	rcall	lcd_4us		; delay to increment DRAM addr counter
00011b 9300 8000                 	sts	LCD_IR, w		; store w in IR
00011d 9508                      	ret
                                 	
                                 lcd_4us:
00011e d000                      	rcall	lcd_2us		; recursive call		
                                 lcd_2us:
00011f 0000                      	nop					; rcall(3) + nop(1) + ret(4) = 8 cycles (2us)
000120 9508                      	ret
                                 
                                 LCD:
                                 LCD_putc:
000121 302d
000122 f179                      	JK	a0,CR,LCD_cr	; Jump if a0=CR
000123 302a
000124 f1b9                      	JK	a0,LF,LCD_lf	; Jump if a0=LF
                                 LCD_wr_dr:
                                 ; in	a0 (byte to write to LCD DR)
000125 9100 8000                 	lds	w, LCD_IR		; read IR to check busy flag  (bit7)
000127 fd07
000128 cffc                      	JB1	w,7,LCD_wr_dr	; Jump if Bit=1 (still busy)
000129 dff4                      	rcall	lcd_4us		; delay to increment DRAM addr counter
00012a 9320 c000                 	sts	LCD_DR, a0		; store a0 in DR
00012c 9508                      	ret	
                                 	
00012d e001
00012e cfe7                      LCD_clear:		JW	LCD_wr_ir, 0b00000001		; clear display
00012f e002
000130 cfe5                      LCD_home:		JW	LCD_wr_ir, 0b00000010		; return home
000131 e100
000132 cfe3                      LCD_cursor_left:	JW	LCD_wr_ir, 0b00010000	; move cursor to left
000133 e104
000134 cfe1                      LCD_cursor_right:	JW	LCD_wr_ir, 0b00010100	; move cursor to right
000135 e108
000136 cfdf                      LCD_display_left:	JW	LCD_wr_ir, 0b00011000	; shifts display to left
000137 e10c
000138 cfdd                      LCD_display_right:	JW	LCD_wr_ir, 0b00011100	; shifts display to right
000139 e00d
00013a cfdb                      LCD_blink_on:		JW	LCD_wr_ir, 0b00001101	; Display=1,Cursor=0,Blink=1
00013b e00c
00013c cfd9                      LCD_blink_off:		JW	LCD_wr_ir, 0b00001100	; Display=1,Cursor=0,Blink=0
00013d e00e
00013e cfd7                      LCD_cursor_on:		JW	LCD_wr_ir, 0b00001110	; Display=1,Cursor=1,Blink=0
00013f e00c
000140 cfd5                      LCD_cursor_off:		JW	LCD_wr_ir, 0b00001100	; Display=1,Cursor=0,Blink=0
000141 e00f
000142 cfd3                      LCD_cursorblink: 	JW	LCD_wr_ir, 0b00001111	; Display=1,Cursor=1,Blink=1	
                                 LCD_init:
000143 b705                      	in	w,MCUCR					; enable access to ext. SRAM
000144 6c00                      	sbr	w,(1<<SRE)+(1<<SRW10)
000145 bf05                      	out	MCUCR,w
000146 e001
000147 dfce                      	CW	LCD_wr_ir, 0b00000001	; clear display
000148 e006
000149 dfcc                      	CW	LCD_wr_ir, 0b00000110	; entry mode set (Inc=1, Shift=0)
00014a e00c
00014b dfca                      	CW	LCD_wr_ir, 0b00001100	; Display=1,Cursor=0,Blink=0	
00014c e308
00014d dfc8                      	CW	LCD_wr_ir, 0b00111000	; 8bits=1, 2lines=1, 5x8dots=0
00014e 9508                      	ret
                                 
                                 LCD_pos:
                                 ; in	a0 = position (0x00..0x0f first line, 0x40..0x4f second line)
00014f 2f02                      	mov	w,a0
000150 6800                      	ori	w,0b10000000
000151 cfc4                      	rjmp	LCD_wr_ir
                                 
                                 LCD_cr:
                                 ; moving the cursor to the beginning of the line (carriage return)
000152 9100 8000                 	lds	w, LCD_IR			; read IR to check busy flag  (bit7)
000154 fd07
000155 cffc                      	JB1	w,7,LCD_cr			; Jump if Bit=1 (still busy)
000156 7400                      	andi	w,0b01000000	; keep bit6 (begin of line 1/2)
000157 6800                      	ori	w,0b10000000		; write address command
000158 dfc5                      	rcall	lcd_4us			; delay to increment DRAM addr counter
000159 9300 8000                 	sts	LCD_IR,w			; store in IR
00015b 9508                      	ret
                                 
                                 LCD_lf:
                                 ; moving the cursor to the beginning of the line 2 (line feed)
00015c 932f                      	push	a0				; safeguard a0
00015d e420                      	ldi	a0,$40				; load position $40 (begin of line 2)
00015e dff0                      	rcall	LCD_pos			; set cursor position
00015f 912f                      	pop	a0					; restore a0
                                 .include "string.asm"
000160 9508                      
                                 ; AssemblerApplication1.asm
                                 ;
                                 ; Created: 30/04/2024 10:34:37
                                 ; Author : renuka
                                 ; File containing all strings to 
                                 ; print on LCD screen
                                 
                                 
                                 .cseg
                                 ;.org 
                                 ; Keypad LUT
                                 KeySet01:
000161 3231
000162 4133
000163 3534
000164 4236
000165 3837
000166 4339
000167 302a
000168 4423
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(14): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000169 0000                      .db "123A456B789C*0#D", 0 
                                 
                                 ; Menu of game
                                 str0:
00016a 4557
00016b 434c
00016c 4d4f
00016d 2045
00016e 4f54
00016f 0020                      .db "WELCOME TO ", 0
                                 str1:
000170 434d
000171 2055
000172 4150
000173 5452
000174 0059                      .db "MCU PARTY", 0
                                 str2:
000175 2e41
000176 5020
000177 414c
000178 2059
000179 4147
00017a 454d
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(22): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00017b 0000                      .db "A. PLAY GAME", 0
                                 str3:
00017c 2e42
00017d 4f20
00017e 4550
00017f 204e
000180 4153
000181 4546
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(24): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000182 0000                      .db "B. OPEN SAFE", 0
                                 
                                 ; general
                                 strwelcome:
000183 6557
000184 636c
000185 6d6f
000186 2065
000187 6f74
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(28): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000188 0000                      .db "Welcome to",0
                                 
                                 strivia:
000189 7274
00018a 7669
00018b 6169
00018c 3a20
00018d 0029                      .db "trivia :)",0
                                 
                                 strbutton:
00018e 6874
00018f 2065
000190 7562
000191 7474
000192 6e6f
000193 3a20
000194 0029                      .db "the button :)",0
                                 
                                 strcorrect:
000195 6f43
000196 7272
000197 6365
000198 2174
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(37): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000199 0000                      .db "Correct!",0
                                 
                                 strfalse:
00019a 6146
00019b 736c
00019c 2165
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(40): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00019d 0000                      .db "False!",0
                                 
                                 strivia2:
00019e 6e41
00019f 7773
0001a0 7265
0001a1 3520
0001a2 312f
0001a3 2030
0001a4 6f63
0001a5 002d                      .db "Answer 5/10 co-",0
                                 
                                 strivia3:
0001a6 7272
0001a7 6365
0001a8 6c74
0001a9 2079
0001aa 6f74
0001ab 7720
0001ac 6e69
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(46): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0001ad 0000                      .db "rrectly to win",0
                                 
                                 strclue1a:
0001ae 7331
0001af 2074
0001b0 6c63
0001b1 6575
0001b2 003a                      .db "1st clue:",0
                                 
                                 strclue1b:
0001b3 4e53
0001b4 574f
0001b5 5720
0001b6 4948
0001b7 4554
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(52): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0001b8 0000                      .db "SNOW WHITE",0
                                 
                                 strwin1:
0001b9 4f43
0001ba 474e
0001bb 4152
0001bc 5554
0001bd 414c
0001be 4954
0001bf 4e4f
0001c0 0053                      .db "CONGRATULATIONS",0
                                 
                                 strwin2:
0001c1 4f59
0001c2 2055
0001c3 4957
0001c4 004e                      .db "YOU WIN",0
                                 
                                 strlose1:
0001c5 4f59
0001c6 2055
0001c7 4f4c
0001c8 4553
0001c9 002c                      .db "YOU LOSE,",0
                                 
                                 strlose2:
0001ca 5254
0001cb 2059
0001cc 4741
0001cd 4941
0001ce 004e                      .db "TRY AGAIN",0
                                 
                                 ; Choose games
                                 str4:
0001cf 2e41
0001d0 5420
0001d1 4952
0001d2 4956
0001d3 2041
0001d4 5551
0001d5 5a49
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(68): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0001d6 0000                      .db "A. TRIVIA QUIZ", 0
                                 str5:
0001d7 2e42
0001d8 4220
0001d9 5455
0001da 4f54
0001db 204e
0001dc 4144
0001dd 434e
0001de 0045                      .db "B. BUTTON DANCE", 0
                                 
                                 ; Open safe
                                 str6:
0001df 4e45
0001e0 4554
0001e1 2052
0001e2 4150
0001e3 5353
0001e4 4f43
0001e5 4544
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(74): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0001e6 0000                      .db "ENTER PASSCODE", 0
                                 str7:
0001e7 4e49
0001e8 4f43
0001e9 5252
0001ea 4345
0001eb 2054
0001ec 4150
0001ed 5353
0001ee 4f43
0001ef 4544
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(76): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0001f0 0000                      .db "INCORRECT PASSCODE", 0
                                 str8:
0001f1 4f43
0001f2 474e
0001f3 4152
0001f4 5554
0001f5 414c
0001f6 4954
0001f7 4e4f
0001f8 2c53
0001f9 0020                      .db "CONGRATULATIONS, ", 0
                                 str9:
0001fa 4f59
0001fb 2055
0001fc 4957
0001fd 204e
0001fe 4854
0001ff 5349
000200 4720
000201 4d41
000202 2045
000203 0021                      .db "YOU WIN THIS GAME !", 0
                                 str10:
000204 4854
000205 4e41
000206 534b
000207 4620
000208 524f
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(82): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000209 0000                      .db "THANKS FOR", 0
                                 str11:
00020a 4c50
00020b 5941
00020c 4e49
00020d 2147
00020e 3a20
00020f 0044                      .db "PLAYING! :D", 0
                                 
                                 ; Quiz trivia
                                 ; Question 1
                                 striviaQ1:
000210 6857
000211 206f
000212 7277
000213 746f
000214 2065
000215 6874
000216 0065                      .db "Who wrote the", 0
                                 striviaQ12:
000217 6f73
000218 676e
000219 2720
00021a 6874
00021b 6972
00021c 6c6c
00021d 7265
00021e 3f27
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(91): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00021f 0000                      .db "song 'thriller'?", 0
                                 strivia1A:
000220 2e41
000221 5020
000222 414c
000223 4259
000224 494f
000225 4320
000226 5241
000227 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(93): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000228 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia1B:
000229 2e42
00022a 5420
00022b 4152
00022c 5943
00022d 4320
00022e 4148
00022f 4d50
000230 4e41
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(95): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000231 0000                      .db "B. TRACY CHAPMAN", 0
                                 strivia1C:
000232 2e43
000233 4120
000234 202e
000235 4353
000236 4d48
000237 4449
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(97): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000238 0000                      .db "C. A. SCHMID", 0
                                 strivia1D:
000239 2e44
00023a 4d20
00023b 202e
00023c 414a
00023d 4b43
00023e 4f53
00023f 004e                      .db "D. M. JACKSON", 0
                                 answer1:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(101): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000240 0088                      .db 0x88 ; 0xef
                                 
                                 ; Question 2
                                 striviaQ2:
000241 6857
000242 206f
000243 6c70
000244 7961
000245 0073                      .db "Who plays", 0
                                 striviaQ22:
000246 6548
000247 6d72
000248 6f69
000249 656e
00024a 003f                      .db "Hermione?", 0
                                 strivia2A:
00024b 2e41
00024c 4520
00024d 4d4d
00024e 2041
00024f 4157
000250 5354
000251 4e4f
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(109): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000252 0000                      .db "A. EMMA WATSON", 0
                                 strivia2B:
000253 2e42
000254 4520
000255 4d4d
000256 2041
000257 5453
000258 4e4f
000259 0045                      .db "B. EMMA STONE", 0
                                 strivia2C:
00025a 2e43
00025b 5020
00025c 414c
00025d 4259
00025e 494f
00025f 4320
000260 5241
000261 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(113): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000262 0000                      .db "C. PLAYBOI CARTI", 0
                                 strivia2D:
000263 2e44
000264 5a20
000265 454f
000266 5320
000267 4c41
000268 4144
000269 414e
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(115): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00026a 0000                      .db "D. ZOE SALDANA", 0
                                 answer2:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(117): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00026b 0081                      .db 0x81 ; 0xfd
                                 
                                 ; Question 3
                                 striviaQ3:
00026c 6857
00026d 6369
00026e 2068
00026f 6162
000270 646e
000271 7720
000272 6f72
000273 6574
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(121): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000274 0000                      .db "Which band wrote", 0
                                 striviaQ32:
000275 6827
000276 7965
000277 7920
000278 756f
000279 2027
00027a 003f                      .db "'hey you' ?", 0
                                 strivia3A:
00027b 2e41
00027c 5020
00027d 414c
00027e 4259
00027f 494f
000280 4320
000281 5241
000282 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(125): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000283 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia3B:
000284 2e42
000285 4c20
000286 4445
000287 5a20
000288 5045
000289 4c50
00028a 4e49
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(127): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00028b 0000                      .db "B. LED ZEPPLIN", 0
                                 strivia3C:
00028c 2e43
00028d 4a20
00028e 554f
00028f 4e52
000290 5945
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(129): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000291 0000                      .db "C. JOURNEY", 0
                                 strivia3D:
000292 2e44
000293 5020
000294 4e49
000295 204b
000296 4c46
000297 594f
000298 0044                      .db "D. PINK FLOYD", 0
                                 answer3:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(133): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000299 0088                      .db 0x88 ; 0xef
                                 
                                 ; Question 4
                                 striviaQ4:
00029a 6857
00029b 206f
00029c 7277
00029d 746f
00029e 2065
00029f 4127
0002a0 7269
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(137): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002a1 0000                      .db "Who wrote 'Air", 0
                                 striviaQ42:
0002a2 6e6f
0002a3 4720
0002a4 7320
0002a5 7274
0002a6 6e69
0002a7 2767
0002a8 003f                      .db "on G string'?", 0
                                 strivia4A:
0002a9 2e41
0002aa 5020
0002ab 414c
0002ac 4259
0002ad 494f
0002ae 4320
0002af 5241
0002b0 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(141): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002b1 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia4B:
0002b2 2e42
0002b3 4220
0002b4 4545
0002b5 4854
0002b6 564f
0002b7 4e45
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(143): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002b8 0000                      .db "B. BEETHOVEN", 0
                                 strivia4C:
0002b9 2e43
0002ba 5320
0002bb 4843
0002bc 4255
0002bd 5245
0002be 0054                      .db "C. SCHUBERT", 0
                                 strivia4D:
0002bf 2e44
0002c0 4a20
0002c1 532e
0002c2 202e
0002c3 4142
0002c4 4843
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(147): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002c5 0000                      .db "D. J.S. BACH", 0
                                 answer4:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(149): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002c6 0088                      .db 0x88 ; 0xef
                                 
                                 ; Question 5
                                 striviaQ5:
0002c7 6857
0002c8 206f
0002c9 6574
0002ca 6361
0002cb 6568
0002cc 0073                      .db "Who teaches", 0
                                 striviaQ52:
0002cd 434d
0002ce 2055
0002cf 6562
0002d0 7473
0002d1 003f                      .db "MCU best?", 0
                                 strivia5A:
0002d2 2e41
0002d3 5020
0002d4 414c
0002d5 4259
0002d6 494f
0002d7 4320
0002d8 5241
0002d9 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(157): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002da 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia5B:
0002db 2e42
0002dc 4120
0002dd 202e
0002de 4353
0002df 4d48
0002e0 4449
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(159): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002e1 0000                      .db "B. A. SCHMID", 0
                                 strivia5C:
0002e2 2e43
0002e3 4d20
0002e4 202e
0002e5 4c41
0002e6 0049                      .db "C. M. ALI", 0
                                 strivia5D:
0002e7 2e44
0002e8 4320
0002e9 2052
0002ea 0037                      .db "D. CR 7", 0
                                 answer5:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(165): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002eb 0082                      .db 0x82 ; 0xfb
                                 
                                 ; Question 6
                                 striviaQ6:
0002ec 6857
0002ed 206f
0002ee 6f77
0002ef 206e
0002f0 6874
0002f1 2065
0002f2 3032
0002f3 3232
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(169): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0002f4 0000                      .db "Who won the 2022", 0
                                 striviaQ62:
0002f5 4946
0002f6 4146
0002f7 5720
0002f8 726f
0002f9 646c
0002fa 4320
0002fb 7075
0002fc 003f                      .db "FIFA World Cup?", 0
                                 strivia6A:
0002fd 2e41
0002fe 5020
0002ff 414c
000300 4259
000301 494f
000302 4320
000303 5241
000304 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(173): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000305 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia6B:
000306 2e42
000307 5320
000308 4957
000309 5a54
00030a 5245
00030b 414c
00030c 444e
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(175): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00030d 0000                      .db "B. SWITZERLAND", 0
                                 strivia6C:
00030e 2e43
00030f 4120
000310 4752
000311 4e45
000312 4954
000313 414e
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(177): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000314 0000                      .db "C. ARGENTINA", 0
                                 strivia6D:
000315 2e44
000316 4620
000317 4152
000318 434e
000319 0045                      .db "D. FRANCE", 0
                                 answer6:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(181): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00031a 0084                      .db 0x84 ; 0xf7
                                 
                                 ; Question 7
                                 striviaQ7:
00031b 6857
00031c 6369
00031d 2068
00031e 6964
00031f 6873
000320 6920
000321 0073                      .db "Which dish is", 0
                                 striviaQ72:
000322 6f6e
000323 2074
000324 7773
000325 7369
000326 3f73
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(187): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000327 0000                      .db "not swiss?", 0
                                 strivia7A:
000328 2e41
000329 5020
00032a 414c
00032b 4259
00032c 494f
00032d 4320
00032e 5241
00032f 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(189): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000330 0000                      .db "A. PLAYBOI CARTI", 0
                                 strivia7B:
000331 2e42
000332 5220
000333 4341
000334 454c
000335 5454
000336 0045                      .db "B. RACLETTE", 0
                                 strivia7C:
000337 2e43
000338 4620
000339 4e4f
00033a 5544
00033b 0045                      .db "C. FONDUE", 0
                                 strivia7D:
00033c 2e44
00033d 5220
00033e 454f
00033f 5453
000340 0049                      .db "D. ROESTI", 0
                                 answer7:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(197): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000341 0081                      .db 0x81 ; 0xfd
                                 
                                 ; Question 8
                                 striviaQ8:
000342 6857
000343 7461
000344 7327
000345 7420
000346 6568
000347 6320
000348 7061
000349 2d69
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(201): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00034a 0000                      .db "What's the capi-", 0
                                 striviaQ82:
00034b 6174
00034c 206c
00034d 666f
00034e 4c20
00034f 6f61
000350 3f73
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(203): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000351 0000                      .db "tal of Laos?", 0
                                 strivia8A:
000352 2e41
000353 4c20
000354 4f41
000355 0053                      .db "A. LAOS", 0
                                 strivia8B:
000356 2e42
000357 5620
000358 4549
000359 544e
00035a 4149
00035b 454e
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(207): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00035c 0000                      .db "B. VIENTIANE", 0
                                 strivia8C:
00035d 2e43
00035e 5620
00035f 4e45
000360 4349
000361 0045                      .db "C. VENICE", 0
                                 strivia8D:
000362 2e44
000363 5020
000364 414c
000365 4259
000366 494f
000367 4320
000368 5241
000369 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(211): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00036a 0000                      .db "D. PLAYBOI CARTI", 0
                                 answer8:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(213): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00036b 0082                      .db 0x82 ; 0xfb
                                 
                                 ; Question 9
                                 striviaQ9:
00036c 6857
00036d 7461
00036e 7327
00036f 7420
000370 6568
000371 6220
000372 7365
000373 0074                      .db "What's the best", 0
                                 striviaQ92:
000374 6573
000375 7463
000376 6f69
000377 206e
000378 7461
000379 4520
00037a 4650
00037b 3f4c
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(219): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00037c 0000                      .db "section at EPFL?", 0
                                 strivia9A:
00037d 2e41
00037e 4c20
00037f 4649
000380 2045
000381 4353
000382 4549
000383 434e
000384 5345
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(221): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000385 0000                      .db "A. LIFE SCIENCES", 0
                                 strivia9B:
000386 2e42
000387 4d20
000388 4349
000389 4f52
00038a 4554
00038b 4843
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(223): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00038c 0000                      .db "B. MICROTECH", 0
                                 strivia9C:
00038d 2e43
00038e 4520
00038f 454c
000390 0043                      .db "C. ELEC", 0
                                 strivia9D:
000391 2e44
000392 5020
000393 414c
000394 4259
000395 494f
000396 4320
000397 5241
000398 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(227): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
000399 0000                      .db "D. PLAYBOI CARTI", 0
                                 answer9:
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(229): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
00039a 0084                      .db 0x84 ; 0xf7
                                 
                                 ; Question 10
                                 striviaQ10:
00039b 6857
00039c 206f
00039d 7277
00039e 746f
00039f 2065
0003a0 6874
0003a1 0065                      .db "Who wrote the", 0
                                 striviaQ102:
0003a2 6f73
0003a3 676e
0003a4 2720
0003a5 6b73
0003a6 2779
0003a7 003f                      .db "song 'sky'?", 0
                                 strivia10A:
0003a8 2e41
0003a9 4b20
0003aa 4e41
0003ab 4559
0003ac 5720
0003ad 5345
0003ae 0054                      .db "A. KANYE WEST", 0
                                 strivia10B:
0003af 2e42
0003b0 5020
0003b1 414c
0003b2 4259
0003b3 494f
0003b4 4320
0003b5 5241
0003b6 4954
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(239): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0003b7 0000                      .db "B. PLAYBOI CARTI", 0
                                 strivia10C:
0003b8 2e43
0003b9 4120
0003ba 202e
0003bb 4353
0003bc 4d48
0003bd 4449
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm(241): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(105): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\string.asm' included form here
0003be 0000                      .db "C. A. SCHMID", 0
                                 strivia10D:
0003bf 2e44
0003c0 5420
0003c1 5941
0003c2 4f4c
0003c3 2052
0003c4 5753
0003c5 4649
0003c6 0054                      .db "D. TAYLOR SWIFT", 0
                                 answer10:
                                 .include "subroutines.asm"
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\subroutines.asm(1): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(106): 'C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\subroutines.asm' included form here
0003c7 0082                      
                                  * subroutines.asm
                                  *
                                  *  Created: 30/04/2024 11:21:07
                                  *   Author: renuka
                                  */ 
                                 
                                 ; code from: tp05 puts02.asm
                                  LCD_putstring:
0003c8 95c8                      	lpm
0003c9 2000                      	tst		r0
0003ca f021                      	breq	done
0003cb 2d20                      	mov		a0, r0
0003cc dd54                      	rcall	LCD_putc
0003cd 9631                      	adiw	zl, 1
0003ce cff9                      	rjmp	LCD_putstring
0003cf 9508                      done:ret
                                 
                                 ; ===================================== celebration music ===========================================
                                 sound_celebrate:
                                 .include "printf.asm"
                                 
                                 ; purpose library, formatted output generation
                                 ; author (c) R.Holzer (adapted MICRO210/EE208 A.Schmid)
                                 
                                 ; === description ===
                                 ; 
                                 ; The program "printf" interprets and prints formatted strings.
                                 ; The special formatting characters regognized are:
                                 ;
                                 ; FDEC	decimal number
                                 ; FHEX	hexadecimal number
                                 ; FBIN	binary number
                                 ; FFRAC	fixed fraction number
                                 ; FCHAR	single ASCII character
                                 ; FSTR	zero-terminated ASCII string
                                 	
                                 ; The special formatting characters are distinguished from normal 
                                 ; ASCII characters by having bit7 set to 1.
                                 
                                 ; Signification of bit fields:
                                 ;
                                 ; b 	bytes		1..4 b bytes		2
                                 ; s 	sign		0(unsigned), 1(signed)	1
                                 ; i		integer digits	
                                 ; e 	base		2,,36			5
                                 ; dp 	dec. point	0..32			5
                                 ; $if	i=integer digits,  0=all digits,  1..15 digits 
                                 ;		f=fraction digits, 0=no fraction, 1..15 digits
                                 ;
                                 ; Formatting characters must be followed by an SRAM address (0..ff)
                                 ; FBIN,	sram
                                 ; FHEX,	sram
                                 ; FDEC,	sram
                                 ; FCHAR,sram
                                 ; FSTR,	sram
                                 ;
                                 ; The address 'sram' is a 1-byte constant. It addresses
                                 ; 	 0..1f	registers r0..r31, 
                                 ; 	20..3f	i/o ports, (need to be addressed with an offset of $20)
                                 ;	60..ff	SRAM registers (warning: extended i/o in AVR128)
                                 
                                 ; The FFRAC formatting character must be followed by 
                                 ;	ONE sram address and 
                                 ;	TWO more formatting characters
                                 ; FFRAC,sram,dp,$if
                                 
                                 ; dp	decimal point position, 0=right, 32=left
                                 ; $if	format i.f, i=integer digits, f=fraction digits
                                 
                                 ; The special formatting characters use the following coding
                                 ;
                                 ; FDEC	11bb'iiis	i=0 all digits, i=1-7 digits
                                 ; FBIN	101i'iiis	i=0 8 digits,	i=1-7 digits
                                 ; FHEX	1001'iiis	i=0 8 digits,	i=1-7 digits
                                 ; FFRAC	1000'1bbs
                                 ; FCHAR	1000'0100
                                 ; FSTR	1000'0101
                                 ; FREP	1000'0110
                                 ; FFUNC	1000'0111
                                 ;	1000'0010
                                 ;	1000'0011
                                 ; FESC	1000'0000
                                 
                                 ; examples
                                 ; formatting string			printing
                                 ; "a=",FDEC,a,0				1-byte variable a, unsigned decimal
                                 ; "a=",FDEC2,a,0			2-byte variable a (a1,a0), unsigend
                                 ; "a=",FDEC|FSIGN,a,0		1-byte variable 1, signed decimal
                                 ; "n=",FBIN,PIND+$20,0		i/o port, binary, notice offset of $20
                                 ; "f=",FFRAC4|FSIGN,a,16,$88,0	4-byte signed fixed-point fraction
                                 ;				dec.point at 16, 8 int.digits, 8 frac.digits	
                                 ; "f=",FFRAC2,a,16,$18,0		2-byte unsigned fixed-point fraction
                                 ;				dec.point at 16, 1 int.digits, 8 frac.digits	
                                 ; "a=",FDEC|FDIG5|FSIGN,a,0	1-byte variable, 5-digit, decimal, signed
                                 ; "a=",FDEC|FDIG5,a,0		1-byte variable, 5-digit, decimal, unsigned
                                 
                                 ; === registers modified ===
                                 ; e0,e1	used to transmit address of putc routine
                                 ; zh,zl	used as pointer to prog-memory
                                 
                                 ; === constants ==============================================
                                 
                                 .equ	FDEC	= 0b11000000	; 1-byte variable
                                 .equ	FDEC2	= 0b11010000	; 2-byte variable
                                 .equ	FDEC3	= 0b11100000	; 3-byte variable
                                 .equ	FDEC4	= 0b11110000	; 4-byte variable
                                 
                                 .equ	FBIN	= 0b10100000
                                 .equ	FHEX	= 0b10010100	; 1-byte variable
                                 .equ	FHEX2	= 0b10011000	; 2-byte variable
                                 .equ	FHEX3	= 0b10011100	; 3-byte variable
                                 .equ	FHEX4	= 0b10010000	; 4-byte variable
                                 
                                 .equ	FFRAC	= 0b10001000	; 1-byte variable
                                 .equ	FFRAC2	= 0b10001010	; 2-byte variable
                                 .equ	FFRAC3	= 0b10001100	; 3-byte variable
                                 .equ	FFRAC4	= 0b10001110	; 4-byte variable
                                 
                                 .equ	FCHAR	= 0b10000100
                                 .equ	FSTR	= 0b10000101
                                 
                                 .equ	FSIGN	= 0b00000001
                                 
                                 .equ	FDIG1	= 1<<1
                                 .equ	FDIG2	= 2<<1
                                 .equ	FDIG3	= 3<<1	
                                 .equ	FDIG4	= 4<<1
                                 .equ	FDIG5	= 5<<1
                                 .equ	FDIG6	= 6<<1
                                 .equ	FDIG7	= 7<<1
                                 
                                 ; ===macro ====================================================
                                 
                                 .macro	PRINTF			; putc function (UART, LCD...)
                                 	ldi	w, low(@0)		; address of "putc" in e1:d0
                                 	mov	e0,w
                                 	ldi	w,high(@0)
                                 	mov	e1,w
                                 	call	_printf
                                 	.endmacro
                                 
                                 ; mod	y,z
                                 
                                 
                                 ; === routines ================================================
                                 
                                 _printf:
0003d0 91ff
0003d1 91ef                      	POPZ			; z points to begin of "string"
0003d2 0fee
0003d3 1fff                      	MUL2Z			; multiply Z by two, (word ptr -> byte ptr)
0003d4 93af
0003d5 93bf                      	PUSHX
                                 		
                                 _printf_read:
0003d6 95c8                      	lpm				; places prog_mem(Z) into r0 (=c)
0003d7 9631                      	adiw	zl,1	; increment pointer Z
0003d8 2000                      	tst	r0			; test for ZERO (=end of string)
0003d9 f021                      	breq	_printf_end	; char=0 indicates end of ascii string
0003da f04a                      	brmi	_printf_formatted ; bit7=1 indicates formatting character
0003db 2d00                      	mov	w,r0
0003dc d013                      	rcall	_putw	; display the character
0003dd cff8                      	rjmp	_printf_read	; read next character in the string
                                 	
                                 _printf_end:
0003de 9631                      	adiw	zl,1	; point to the next character
0003df 95f6
0003e0 95e7                      	DIV2Z			; divide by 2 (byte ptr -> word ptr)
0003e1 91bf
0003e2 91af                      	POPX
0003e3 9409                      	ijmp			; return to instruction after "string"
                                 
                                 _printf_formatted:
                                 
                                 ; FDEC	11bb'iiis
                                 ; FBIN	101i'iiis
                                 ; FHEX	1001'iiis
                                 ; FFRAC	1000'1bbs
                                 ; FCHAR	1000'0100
                                 ; FSTR	1000'0101
                                 
0003e4 fa00                      	bst	r0,0		; store sign in T
0003e5 2d00                      	mov	w,r0		; store formatting character in w
                                 
0003e6 95c8                      	lpm	
0003e7 2da0                      	mov	xl,r0		; load x-pointer with SRAM address
0003e8 27bb                      	clr	xh			; clear high-byte
0003e9 9631                       	adiw	zl,1	; increment pointer Z
                                 
                                 ;	JB1	w,6,_putdec
                                 ;	JB1	w,5,_putbin
                                 ;	JB1	w,4,_puthex
                                 ;	JB1	w,3,_putfrac
0003ea 3804
0003eb f079                      	JK	w,FCHAR,_putchar
0003ec 3805
0003ed f081                      	JK	w,FSTR ,_putstr
0003ee c015                      	rjmp	_putnum
                                 	
0003ef cfe6                      	rjmp	_printf_read	
                                 
                                 ; === putc (put character) ===============================
                                 ; in	w	character to put
                                 ;	e1,e0	address of output routine (UART, LCD putc)
                                 _putw:
0003f0 932f
0003f1 93ff
0003f2 93ef                      	PUSH3	a0,zh,zl
0003f3 2de4
0003f4 2df5
0003f5 2f20                      	MOV3	a0,zh,zl, w,e1,e0
0003f6 9509                      	icall			; indirect call to "putc"
0003f7 91ef
0003f8 91ff
0003f9 912f                      	POP3	a0,zh,zl
0003fa 9508                      	ret
                                 
                                 ; === putchar (put character) ============================
                                 ; in	x	pointer to character to put
                                 _putchar:
0003fb 910c                      	ld	w,x
0003fc dff3                      	rcall	_putw
0003fd cfd8                      	rjmp	_printf_read
                                 	
                                 ; === putstr (put string) ================================
                                 ; in	x	pointer to ascii string
                                 ;	b3,b2	address of output routine (UART, LCD putc)
                                 _putstr:
0003fe 910d                      	ld	w,x+
0003ff 2300                      	tst	w
000400 f409                      	brne	PC+2
000401 cfd4                      	rjmp	_printf_read
000402 dfed                      	rcall	_putw
000403 cffa                      	rjmp	_putstr
                                 
                                 ; === putnum (dec/bin/hex/frac) ===========================
                                 ; in	x	pointer to SRAM variable to print
                                 ; 	r0	formatting character
                                 	
                                 _putnum:
000404 935f
000405 934f
000406 933f
000407 932f                      	PUSH4	a3,a2,a1,a0	; safeguard a
000408 939f
000409 938f
00040a 937f
00040b 936f                      	PUSH4	b3,b2,b1,b0	; safeguard b	
00040c 912d
00040d 913d
00040e 914d
00040f 915d                      	LDX4	a3,a2,a1,a0	; load operand to print into a
                                 
                                 ; FDEC	11bb'iiis
                                 ; FBIN	101i'iiis
                                 ; FHEX	1001'iiis
                                 ; FRACT	1000'1bbs
                                 
000410 fd06
000411 c006                      	JB1	w,6,_putdec
000412 fd05
000413 c00f                      	JB1	w,5,_putbin
000414 fd04
000415 c010                      	JB1	w,4,_puthex
000416 fd03
000417 c019                      	JB1	w,3,_putfrac
                                 
                                 ; FDEC	11bb'iiis
                                 _putdec:
000418 e06a                      	ldi	b0,10		; b0 = base (10)
                                 
000419 2f70                      	mov	b1,w
00041a 9576                      	lsr	b1
00041b 7077                      	andi	b1,0b111	
00041c 9572                      	swap	b1		; b1 = format 0iii'0000 (integer digits)
00041d e080                      	ldi	b2,0		; b2 = dec. point position = 0 (right)
                                 	
00041e 2f90                      	mov	b3,w
00041f 9592                      	swap	b3
000420 7093                      	andi	b3,0b11
000421 9593                      	inc	b3			; b3 = number of bytes (1..4)
000422 c01a                      	rjmp	_getnum	; get number of digits (iii)
                                 
                                 ; FBIN	101i'iiis	addr
                                 _putbin:	
000423 e062                      	ldi	b0,2		; b0 = base (2)
000424 e094                      	ldi	b3,4		; b3 = number of bytes (4)	
000425 c003                      	rjmp	_getdig	; get number of digits (iii)
                                 
                                 ; FHEX	1001'iiis	addr
                                 _puthex:	
000426 e160                      	ldi	b0,16		; b0 = base (16)
000427 e094                      	ldi	b3,4		; b3 = number of bytes (4)
000428 c000                      	rjmp	_getdig
                                 
                                 _getdig:
000429 2f70                      	mov	b1,w
00042a 9576                      	lsr	b1
00042b 7077                      	andi	b1,0b111
00042c f409                      	brne	PC+2
00042d e078                      	ldi	b1,8		; if b1=0 then 8-digits
00042e 9572                      	swap	b1		; b1 = format 0iii'0000 (integer digits)
00042f e080                      	ldi	b2, 0		; b2 = dec. point position = 0 (right)
000430 c00c                      	rjmp	_getnum
                                 
                                 ; FFRAC	1000'1bbs	addr	 00dd'dddd, 	iiii'ffff
                                 	
                                 _putfrac:
000431 e06a                      	ldi	b0,10		; base=10	
000432 95c8                      	lpm
000433 2d80                      	mov	b2,r0		; load dec.point position
000434 9631                      	adiw	zl,1	; increment char pointer
000435 95c8                      	lpm
000436 2d70                      	mov	b1,r0		; load ii.ff format
000437 9631                      	adiw	zl,1	; increment char pointer
                                 	
000438 2f90                      	mov	b3,w
000439 9595                      	asr	b3
00043a 7093                      	andi	b3,0b11
00043b 9593                      	inc	b3			; b3 = number of bytes (1..4)
                                 
00043c c000                      	rjmp	_getnum
                                 
                                 _getnum:
                                 ; in 	a	4-byte variable
                                 ; 	b3	number of bytes (1..4)
                                 ;	T	sign, 0=unsigned, 1=signed
                                 
00043d 3094
00043e f081                      	JK	b3,4,_printf_4b
00043f 3093
000440 f051                      	JK	b3,3,_printf_3b
000441 3092
000442 f021                      	JK	b3,2,_printf_2b	
                                 	
                                 _printf_1b:			; sign extension
000443 2733                      	clr	a1
000444 f416                      	brtc	PC+3	; T=1 sign extension
000445 fd27                      	sbrc	a0,7
000446 ef3f                      	ldi	a1,0xff
                                 _printf_2b:
000447 2744                      	clr	a2
000448 f416                      	brtc	PC+3	; T=1 sign extension	
000449 fd37                      	sbrc	a1,7
00044a ef4f                      	ldi	a2,0xff
                                 _printf_3b:	
00044b 2755                      	clr	a3
00044c f416                      	brtc	PC+3	; T=1 sign extension
00044d fd47                      	sbrc	a2,7
00044e ef5f                      	ldi	a3,0xff
                                 _printf_4b:
                                 
00044f d009                      	rcall	_ftoa		; float to ascii
000450 916f
000451 917f
000452 918f
000453 919f                      	POP4	b3,b2,b1,b0	; restore b
000454 912f
000455 913f
000456 914f
000457 915f                      	POP4	a3,a2,a1,a0	; restore a
                                 	
000458 cf7d                      	rjmp	_printf_read
                                 
                                 ; ===============================================
                                 ; func	ftoa
                                 ; converts a fixed-point fractional number to an ascii string
                                 ; author (c) Raphael Holzer
                                 ;
                                 ; in	a3-a0	variable to print
                                 ;	b0	base, 2 to 36, but usually decimal (10)
                                 ;	b1	number of digits to print ii.ff
                                 ; 	b2	position of the decimal point (0=right, 32=left)
                                 ;	T	sign (T=0 unsiged, T=1 signed)
                                 
                                 _ftoa:
000459 92cf                      	push	d0
00045a 92bf
00045b 92af
00045c 929f
00045d 928f                      	PUSH4	c3,c2,c1,c0	; c = fraction part, a = integer part
00045e 18bb
00045f 24aa
000460 2499
000461 2488                      	CLR4	c3,c2,c1,c0	; clear fraction part
                                 
000462 f486                      	brtc	_ftoa_plus	; if T=0 then unsigned
000463 94e8                      	clt
000464 2355                      	tst	a3				; if MSb(a)=1 then a=-a
000465 f46a                      	brpl	_ftoa_plus
000466 9468                      	set					; T=1 (minus)
000467 2377                      	tst	b1
000468 f009                      	breq	PC+2		; if b1=0 the print ALL digits
000469 5170                      	subi	b1,0x10		; decrease int digits
00046a 9550
00046b 9540
00046c 9530
00046d 9520
00046e ef0f
00046f 1b20
000470 0b30
000471 0b40
000472 0b50                      	NEG4	a3,a2,a1,a0	; negate a
                                 _ftoa_plus:	
000473 2388                      	tst	b2				; b0=0 (only integer part)
000474 f051                      	breq	_ftoa_int	
                                 _ftoa_shift:	
000475 9555
000476 9547
000477 9537
000478 9527                      	ASR4	a3,a2,a1,a0	; a = integer part	
000479 94b7
00047a 94a7
00047b 9497
00047c 9487                      	ROR4	c3,c2,c1,c0	; c = fraction part
00047d 958a
00047e f7b1                      	DJNZ	b2,_ftoa_shift
                                 _ftoa_int:
00047f 937f                      	push	b1			; ii.ff (ii=int digits)
000480 9572                      	swap	b1
000481 707f                      	andi	b1,0x0f
                                 	
000482 e20e                      	ldi	w,'.'			; push decimal point
000483 930f                      	push	w
                                 _ftoa_int1:
000484 d045                      	rcall	_div41		; int=int/10
000485 2d0c                      	mov	w,d0			; d=reminder
000486 d030                      	rcall	_hex2asc
000487 930f                      	push	w			; push rem(int/10)
000488 2700
000489 1720
00048a 0730
00048b 0740
00048c 0750                      	TST4	a3,a2,a1,a0	; (int/10)=?
00048d f029                      	breq	_ftoa_space	; (int/10)=0 then finished
00048e 2377                      	tst	b1
00048f f3a1                      	breq	_ftoa_int1	; if b1=0 then print ALL int-digits
000490 957a
000491 f791                      	DJNZ	b1,_ftoa_int1
000492 c007                      	rjmp	_ftoa_sign
                                 _ftoa_space:
000493 2377                      	tst	b1				; if b1=0 then print ALL int-digits
000494 f029                      	breq	_ftoa_sign
000495 957a                      	dec	b1
000496 f019                      	breq	_ftoa_sign
000497 e200                      	ldi	w,' '			; write spaces
000498 df57                      	rcall	_putw	
000499 cff9                      	rjmp	_ftoa_space
                                 _ftoa_sign:
00049a f416                      	brtc	PC+3		; if T=1 then write 'minus'
00049b e20d                      	ldi	w,'-'
00049c df53                      	rcall	_putw
                                 _ftoa_int3:
00049d 910f                      	pop	w
00049e 320e                      	cpi	w,'.'
00049f f011                      	breq	PC+3
0004a0 df4f                      	rcall	_putw
0004a1 cffb                      	rjmp	_ftoa_int3
                                 
0004a2 917f                      	pop	b1				; ii.ff (ff=frac digits)
0004a3 707f                      	andi	b1,0x0f
0004a4 2377                      	tst	b1
0004a5 f059                      	breq	_ftoa_end
                                 _ftoa_point:	
0004a6 df49                      	rcall	_putw		; write decimal point
0004a7 2d28
0004a8 2d39
0004a9 2d4a
0004aa 2d5b                      	MOV4	a3,a2,a1,a0, c3,c2,c1,c0		
                                 _ftoa_frac:
0004ab d011                      	rcall	_mul41		; d.frac=10*frac
0004ac 2d0c                      	mov	w,d0
0004ad d009                      	rcall	_hex2asc
0004ae df41                      	rcall	_putw
0004af 957a
0004b0 f7d1                      	DJNZ	b1,_ftoa_frac
                                 _ftoa_end:
0004b1 908f
0004b2 909f
0004b3 90af
0004b4 90bf                      	POP4	c3,c2,c1,c0
0004b5 90cf                      	pop	d0
0004b6 9508                      	ret
                                 
                                 ; === hexadecimal to ascii ===
                                 ; in	w
                                 _hex2asc:
0004b7 300a                      	cpi	w,10
0004b8 f410                      	brsh	PC+3
0004b9 5d00                      	addi	w,'0'
0004ba 9508                      	ret
0004bb 5a09                      	addi	w,('a'-10)
0004bc 9508                      	ret
                                 
                                 ; === multiply 4byte*1byte ===
                                 ; funct mul41
                                 ; multiplies a3-a0 (4-byte) by b0 (1-byte)
                                 ; author (c) Raphael Holzer, EPFL
                                 ; 
                                 ; in	a3..a0	multiplicand (argument to multiply)
                                 ;	b0	multiplier
                                 ; out	a3..a0	result
                                 ; 	d0	result MSB (byte 4)
                                 ;
0004bd 24cc                      _mul41:	clr	d0			; clear byte4 of result
0004be e200                      	ldi	w,32			; load bit counter
0004bf 9488                      __m41:	clc				; clear carry
0004c0 fd20                      	sbrc	a0,0		; skip addition if LSB=0
0004c1 0ec6                      	add	d0,b0			; add b to MSB of a
0004c2 94c7
0004c3 9557
0004c4 9547
0004c5 9537
0004c6 9527                      	ROR5	d0,a3,a2,a1,a0	; shift-right c, LSB (of b) into carry
0004c7 950a
0004c8 f7b1                      	DJNZ	w,__m41		; Decrement and Jump if bit-count Not Zero
0004c9 9508                      	ret
                                 
                                 ; === divide 4byte/1byte ===
                                 ; func div41
                                 ; in	a0..a3 	divident (argument to divide)
                                 ;	b0 	divider
                                 ; out	a0..a3 	result 
                                 ;	d0	reminder
                                 ;
0004ca 24cc                      _div41:	clr	d0			; d will contain the remainder
0004cb e200                      	ldi	w,32			; load bit counter
0004cc 1f22
0004cd 1f33
0004ce 1f44
0004cf 1f55
0004d0 1ccc                      __d41:	ROL5	d0,a3,a2,a1,a0	; shift carry into result c
0004d1 1ac6                      	sub	d0, b0			; subtract b from remainder
0004d2 f408                      	brcc	PC+2	
0004d3 0ec6                      	add	d0, b0			; restore if remainder became negative
0004d4 950a
0004d5 f7b1                      	DJNZ	w,__d41		; Decrement and Jump if bit-count Not Zero
0004d6 1f22
0004d7 1f33
0004d8 1f44
0004d9 1f55                      	ROL4	a3,a2,a1,a0	; last shift (carry into result c)
0004da 9550
0004db 9540
0004dc 9530
0004dd 9520                      	COM4	a3,a2,a1,a0	; complement result
0004de 9508                      	ret
                                 .include "songs.asm"
                                 
                                 
                                 .macro CELEBRATE_song
                                 ; 1e tonalit
                                 	ldi a0, do2
                                 	ldi b0, 80 ; 2.5ms * 225 
                                 	call sound
                                 	ldi a0, so
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, do2
                                 	ldi b0, 80
                                 	call sound
                                 	ldi a0, mi2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, so2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, do3
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, mi3
                                 	ldi b0, 170
                                 	call sound
                                 	ldi a0, do3
                                 	ldi b0, 170
                                 	call sound
                                 ; 2e tonalit
                                 	ldi a0, dom2
                                 	ldi b0, 80 ; 2.5ms * 225 
                                 	call sound
                                 	ldi a0, som
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, dom2
                                 	ldi b0, 80
                                 	call sound
                                 	ldi a0, fa2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, som3
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, dom3
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, fa3
                                 	ldi b0, 170
                                 	call sound
                                 	ldi a0, dom3
                                 	ldi b0, 170
                                 	call sound
                                 ; 3e tonalit
                                 	ldi a0, rem2
                                 	ldi b0, 80
                                 	call sound
                                 	ldi a0, lam
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, rem2
                                 	ldi b0, 80
                                 	call sound
                                 	ldi a0, so2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, lam2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, rem3
                                 	ldi b0, 170
                                 	call sound
                                 	ldi a0, fa3
                                 	ldi b0, 200
                                 	call sound
                                 .endmacro
                                 
                                 .macro LOSE_SONG
                                 	ldi a0, si2
                                 	ldi b0, 80
                                 	call sound
                                 	WAIT_MS 60
                                 	ldi a0, fa3
                                 	ldi b0, 90
                                 	call sound
                                 	WAIT_MS 60
                                 	ldi a0, fa3
                                 	ldi b0, 70
                                 	call sound
                                 	WAIT_MS 60
                                 	ldi a0, fa3
                                 	ldi b0, 70
                                 	call sound
                                 	WAIT_MS 60
                                 	ldi a0, fa3
                                 	ldi b0, 70
                                 	call sound
                                 	ldi a0, mi3
                                 	ldi b0, 70
                                 	call sound
                                 	ldi a0, re3
                                 	ldi b0, 70
                                 	call sound
                                 	ldi a0, do3
                                 	ldi b0, 140
                                 	call sound
                                 	WAIT_MS 700
                                 	ldi a0, do3
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, so2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, mi2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, lam2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, do3
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, lam2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, som2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, lam2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, som2
                                 	ldi b0, 100
                                 	call sound
                                 	ldi a0, so2
                                 	ldi b0, 80
                                 	call sound
                                 	ldi a0, fa2
                                 	ldi b0, 60
                                 	call sound
                                 	ldi a0, so2
                                 	ldi b0, 150
                                 	call sound
                                 .endmacro
                                 
                                 .macro MENU_SONG
                                     ; 1e part
                                     ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60 
                                     ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 90
                                     ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60 
                                 
                                     ldi a0, do2
                                     ldi b0, 70
                                     call sound
                                     WAIT_MS 60 
                                 
                                     ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60
                                 
                                     ldi a0, so2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 300 
                                 
                                     ldi a0, so
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 150 
                                 	;2e part
                                     ldi a0, do2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                     ldi a0, so
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                     ldi a0, mi
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                     ldi a0, la
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60 
                                 
                                     ldi a0, si
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60
                                 
                                     ldi a0, la
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60 
                                 
                                     ldi a0, so
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                     ldi a0, do2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                 	ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                 	ldi a0, so2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                 	ldi a0, la2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 80
                                 
                                 	ldi a0, fa2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                 	ldi a0, so2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60
                                 
                                 	ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                 	ldi a0, re2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                 	ldi a0, so2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 20
                                     
                                 	ldi a0, fam2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 20
                                 
                                 	ldi a0, fa2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 20
                                 
                                 	ldi a0, mi2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 80
                                 
                                 	ldi a0, la
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60
                                 
                                 	ldi a0, do2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 60
                                 
                                 	ldi a0, re2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 150
                                 
                                 	ldi a0, rem2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 150
                                 
                                 	ldi a0, re2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 150
                                 
                                 	ldi a0, do2
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 100
                                 
                                 	ldi a0, do3
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 80
                                 
                                 	ldi a0, do3
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 
                                 	ldi a0, do3
                                     ldi b0, 75
                                     call sound
                                     WAIT_MS 50
                                 .endmacro
                                 
                                 /*
                                 .macro MENU_SONG
                                 	ldi a0, mi2
                                 	ldi b0, 75
                                 	call sound
                                 	WAIT_MS 60
                                 	ldi a0, mi2
                                 	ldi b0, 75
                                 	call sound
                                 	WAIT_MS 80
                                 	ldi a0, mi2
                                 	ldi b0, 75
                                 	call sound
                                 
                                 .endmacro
                                 .include "sound.asm"
                                 
                                 ; purpose library, sound generation
                                 
                                 sound:
                                 ; in	a0	period of oscillation (in 10us)
                                 ; 	b0	duration of sound (in 2.5ms)
                                 
0004df 2f76                      	mov	b1,b0		; duration high byte = b
0004e0 2766                      	clr	b0		; duration  low byte = 0
0004e1 2733                      	clr	a1		; period high byte = a
0004e2 2322                      	tst	a0
0004e3 f071                      	breq	sound_off	; if a0=0 then no sound	
                                 sound1:
0004e4 2f02                      	mov	w,a0		
0004e5 d012                      	rcall	wait9us		; 9us
0004e6 0000                      	nop			; 0.25us
0004e7 950a                      	dec	w		; 0.25us
0004e8 f7e1                      	brne	PC-3		; 0.50us	total = 10us
0004e9 9b1a
0004ea c002
0004eb 981a
0004ec c001
0004ed 9a1a                      	INVP	PORTE,SPEAKER	; invert piezo output
0004ee 1b62                      	sub	b0,a0		; decrement duration low  byte
0004ef 0b73                      	sbc	b1,a1		; decrement duration high byte
0004f0 f798                      	brcc	sound1		; continue if duration>0
0004f1 9508                      	ret
                                 
                                 sound_off:
0004f2 e021                      	ldi	a0,1
0004f3 d004                      	rcall	wait9us
0004f4 1b62                      	sub	b0,a0		; decrement duration low  byte
0004f5 0b73                      	sbc	b1,a1		; decrement duration high byte
0004f6 f7e0                      	brcc	PC-3		; continue if duration>0
0004f7 9508                      	ret
                                 
                                 ; === wait routines ===
                                 
0004f8 c000                      wait9us:rjmp	PC+1		; waiting 2 cycles
0004f9 c000                      	rjmp	PC+1		; waiting 2 cylces
0004fa d000                      wait8us:rcall	wait4us		; recursive call with "falling through"
0004fb d000                      wait4us:rcall	wait2us	
0004fc 0000                      wait2us:nop
0004fd 9508                      	ret		; rcall(4), nop(1), ret(3) = 8cycl. (=2us)
                                 
                                 ; === calculation of the musical scale ===
                                  
                                 ; period (10us)	= 100'000/freq(Hz)
                                 .equ	do	= 100000/517	; (517 Hz)
                                 .equ	dom	= do*944/1000	; do major
                                 .equ	re	= do*891/1000
                                 .equ	rem	= do*841/1000	; re major
                                 .equ	mi	= do*794/1000
                                 .equ	fa	= do*749/1000
                                 .equ	fam	= do*707/1000	; fa major
                                 .equ	so	= do*667/1000
                                 .equ	som	= do*630/1000	; so major
                                 .equ	la	= do*595/1000
                                 .equ	lam	= do*561/1000	; la major
                                 .equ	si	= do*530/1000
                                 
                                 .equ	do2	= do/2
                                 .equ	dom2	= dom/2
                                 .equ	re2	= re/2
                                 .equ	rem2	= rem/2
                                 .equ	mi2	= mi/2
                                 .equ	fa2	= fa/2
                                 .equ	fam2	= fam/2
                                 .equ	so2	= so/2
                                 .equ	som2	= som/2
                                 .equ	la2	= la/2
                                 .equ	lam2	= lam/2
                                 .equ	si2	= si/2
                                 
                                 .equ	do3	= do/4
                                 .equ	dom3	= dom/4
                                 .equ	re3	= re/4
                                 .equ	rem3	= rem/4
                                 .equ	mi3	= mi/4
                                 .equ	fa3	= fa/4
                                 .equ	fam3	= fam/4
                                 .equ	so3	= so/4
                                 .equ	som3	= som/4
                                 .equ	la3	= la/4
                                 .equ	lam3	= lam/4
                                 .equ	si3	= si/4	
                                 reset:
0004fe ef0f
0004ff bf0d
000500 e100
000501 bf0e                      	LDSP	RAMEND	
000502 dc40                      	rcall LCD_init
000503 ef0f                      	ldi r16, 0xff
000504 bb07                      	out DDRB, r16
000505 e000                      	ldi r16, 0x00
000506 bb01                      	out DDRD, r16
000507 9a12                      	sbi		DDRE,SPEAKER	; enable sound
000508 940c 050a                 	jmp main
                                 
                                 main:
00050a 940e 012d                 	call	LCD_clear
00050c 940e 0143
00050e ede4
00050f e0f2
000510 940e 03c8
000512 eee0
000513 e0f2
000514 e420
000515 940e 014f
000517 940e 03c8                 	DISPLAY2 str0, str1
000519 e42c
00051a e46b
00051b 940e 04df
00051d e30c
00051e 2e30
00051f e001
000520 930f
000521 923f
000522 e300
000523 2e30
000524 e006
000525 943a
000526 f7f1
000527 943a
000528 950a
000529 f7d9
00052a 903f
00052b 910f
00052c 943a
00052d f791
00052e 950a
00052f f781
000530 e42c
000531 e46b
000532 940e 04df
000534 e50a
000535 2e30
000536 e001
000537 930f
000538 923f
000539 e300
00053a 2e30
00053b e006
00053c 943a
00053d f7f1
00053e 943a
00053f 950a
000540 f7d9
000541 903f
000542 910f
000543 943a
000544 f791
000545 950a
000546 f781
000547 e42c
000548 e46b
000549 940e 04df
00054b e30c
00054c 2e30
00054d e001
00054e 930f
00054f 923f
000550 e300
000551 2e30
000552 e006
000553 943a
000554 f7f1
000555 943a
000556 950a
000557 f7d9
000558 903f
000559 910f
00055a 943a
00055b f791
00055c 950a
00055d f781
00055e e620
00055f e466
000560 940e 04df
000562 e30c
000563 2e30
000564 e001
000565 930f
000566 923f
000567 e300
000568 2e30
000569 e006
00056a 943a
00056b f7f1
00056c 943a
00056d 950a
00056e f7d9
00056f 903f
000570 910f
000571 943a
000572 f791
000573 950a
000574 f781
000575 e42c
000576 e46b
000577 940e 04df
000579 e30c
00057a 2e30
00057b e001
00057c 930f
00057d 923f
00057e e300
00057f 2e30
000580 e006
000581 943a
000582 f7f1
000583 943a
000584 950a
000585 f7d9
000586 903f
000587 910f
000588 943a
000589 f791
00058a 950a
00058b f781
00058c e420
00058d e46b
00058e 940e 04df
000590 e20c
000591 2e30
000592 e002
000593 930f
000594 923f
000595 e300
000596 2e30
000597 e006
000598 943a
000599 f7f1
00059a 943a
00059b 950a
00059c f7d9
00059d 903f
00059e 910f
00059f 943a
0005a0 f791
0005a1 950a
0005a2 f781
0005a3 e820
0005a4 e46b
0005a5 940e 04df
0005a7 e906
0005a8 2e30
0005a9 e001
0005aa 930f
0005ab 923f
0005ac e300
0005ad 2e30
0005ae e006
0005af 943a
0005b0 f7f1
0005b1 943a
0005b2 950a
0005b3 f7d9
0005b4 903f
0005b5 910f
0005b6 943a
0005b7 f791
0005b8 950a
0005b9 f781
0005ba e620
0005bb e46b
0005bc 940e 04df
0005be e604
0005bf 2e30
0005c0 e001
0005c1 930f
0005c2 923f
0005c3 e300
0005c4 2e30
0005c5 e006
0005c6 943a
0005c7 f7f1
0005c8 943a
0005c9 950a
0005ca f7d9
0005cb 903f
0005cc 910f
0005cd 943a
0005ce f791
0005cf 950a
0005d0 f781
0005d1 e820
0005d2 e46b
0005d3 940e 04df
0005d5 e604
0005d6 2e30
0005d7 e001
0005d8 930f
0005d9 923f
0005da e300
0005db 2e30
0005dc e006
0005dd 943a
0005de f7f1
0005df 943a
0005e0 950a
0005e1 f7d9
0005e2 903f
0005e3 910f
0005e4 943a
0005e5 f791
0005e6 950a
0005e7 f781
0005e8 e929
0005e9 e46b
0005ea 940e 04df
0005ec e604
0005ed 2e30
0005ee e001
0005ef 930f
0005f0 923f
0005f1 e300
0005f2 2e30
0005f3 e006
0005f4 943a
0005f5 f7f1
0005f6 943a
0005f7 950a
0005f8 f7d9
0005f9 903f
0005fa 910f
0005fb 943a
0005fc f791
0005fd 950a
0005fe f781
0005ff e722
000600 e46b
000601 940e 04df
000603 e30c
000604 2e30
000605 e001
000606 930f
000607 923f
000608 e300
000609 2e30
00060a e006
00060b 943a
00060c f7f1
00060d 943a
00060e 950a
00060f f7d9
000610 903f
000611 910f
000612 943a
000613 f791
000614 950a
000615 f781
000616 e626
000617 e46b
000618 940e 04df
00061a e30c
00061b 2e30
00061c e001
00061d 930f
00061e 923f
00061f e300
000620 2e30
000621 e006
000622 943a
000623 f7f1
000624 943a
000625 950a
000626 f7d9
000627 903f
000628 910f
000629 943a
00062a f791
00062b 950a
00062c f781
00062d e722
00062e e46b
00062f 940e 04df
000631 e30c
000632 2e30
000633 e001
000634 930f
000635 923f
000636 e300
000637 2e30
000638 e006
000639 943a
00063a f7f1
00063b 943a
00063c 950a
00063d f7d9
00063e 903f
00063f 910f
000640 943a
000641 f791
000642 950a
000643 f781
000644 e820
000645 e46b
000646 940e 04df
000648 e302
000649 2e30
00064a e001
00064b 930f
00064c 923f
00064d e300
00064e 2e30
00064f e006
000650 943a
000651 f7f1
000652 943a
000653 950a
000654 f7d9
000655 903f
000656 910f
000657 943a
000658 f791
000659 950a
00065a f781
00065b e620
00065c e46b
00065d 940e 04df
00065f e302
000660 2e30
000661 e001
000662 930f
000663 923f
000664 e300
000665 2e30
000666 e006
000667 943a
000668 f7f1
000669 943a
00066a 950a
00066b f7d9
00066c 903f
00066d 910f
00066e 943a
00066f f791
000670 950a
000671 f781
000672 e42c
000673 e46b
000674 940e 04df
000676 e302
000677 2e30
000678 e001
000679 930f
00067a 923f
00067b e300
00067c 2e30
00067d e006
00067e 943a
00067f f7f1
000680 943a
000681 950a
000682 f7d9
000683 903f
000684 910f
000685 943a
000686 f791
000687 950a
000688 f781
000689 e420
00068a e46b
00068b 940e 04df
00068d e302
00068e 2e30
00068f e001
000690 930f
000691 923f
000692 e300
000693 2e30
000694 e006
000695 943a
000696 f7f1
000697 943a
000698 950a
000699 f7d9
00069a 903f
00069b 910f
00069c 943a
00069d f791
00069e 950a
00069f f781
0006a0 e329
0006a1 e46b
0006a2 940e 04df
0006a4 e500
0006a5 2e30
0006a6 e001
0006a7 930f
0006a8 923f
0006a9 e300
0006aa 2e30
0006ab e006
0006ac 943a
0006ad f7f1
0006ae 943a
0006af 950a
0006b0 f7d9
0006b1 903f
0006b2 910f
0006b3 943a
0006b4 f791
0006b5 950a
0006b6 f781
0006b7 e428
0006b8 e46b
0006b9 940e 04df
0006bb e302
0006bc 2e30
0006bd e001
0006be 930f
0006bf 923f
0006c0 e300
0006c1 2e30
0006c2 e006
0006c3 943a
0006c4 f7f1
0006c5 943a
0006c6 950a
0006c7 f7d9
0006c8 903f
0006c9 910f
0006ca 943a
0006cb f791
0006cc 950a
0006cd f781
0006ce e420
0006cf e46b
0006d0 940e 04df
0006d2 e30c
0006d3 2e30
0006d4 e001
0006d5 930f
0006d6 923f
0006d7 e300
0006d8 2e30
0006d9 e006
0006da 943a
0006db f7f1
0006dc 943a
0006dd 950a
0006de f7d9
0006df 903f
0006e0 910f
0006e1 943a
0006e2 f791
0006e3 950a
0006e4 f781
0006e5 e42c
0006e6 e46b
0006e7 940e 04df
0006e9 e604
0006ea 2e30
0006eb e001
0006ec 930f
0006ed 923f
0006ee e300
0006ef 2e30
0006f0 e006
0006f1 943a
0006f2 f7f1
0006f3 943a
0006f4 950a
0006f5 f7d9
0006f6 903f
0006f7 910f
0006f8 943a
0006f9 f791
0006fa 950a
0006fb f781
0006fc e525
0006fd e46b
0006fe 940e 04df
000700 e604
000701 2e30
000702 e001
000703 930f
000704 923f
000705 e300
000706 2e30
000707 e006
000708 943a
000709 f7f1
00070a 943a
00070b 950a
00070c f7d9
00070d 903f
00070e 910f
00070f 943a
000710 f791
000711 950a
000712 f781
000713 e420
000714 e46b
000715 940e 04df
000717 e104
000718 2e30
000719 e001
00071a 930f
00071b 923f
00071c e300
00071d 2e30
00071e e006
00071f 943a
000720 f7f1
000721 943a
000722 950a
000723 f7d9
000724 903f
000725 910f
000726 943a
000727 f791
000728 950a
000729 f781
00072a e424
00072b e46b
00072c 940e 04df
00072e e104
00072f 2e30
000730 e001
000731 930f
000732 923f
000733 e300
000734 2e30
000735 e006
000736 943a
000737 f7f1
000738 943a
000739 950a
00073a f7d9
00073b 903f
00073c 910f
00073d 943a
00073e f791
00073f 950a
000740 f781
000741 e428
000742 e46b
000743 940e 04df
000745 e104
000746 2e30
000747 e001
000748 930f
000749 923f
00074a e300
00074b 2e30
00074c e006
00074d 943a
00074e f7f1
00074f 943a
000750 950a
000751 f7d9
000752 903f
000753 910f
000754 943a
000755 f791
000756 950a
000757 f781
000758 e42c
000759 e46b
00075a 940e 04df
00075c e500
00075d 2e30
00075e e001
00075f 930f
000760 923f
000761 e300
000762 2e30
000763 e006
000764 943a
000765 f7f1
000766 943a
000767 950a
000768 f7d9
000769 903f
00076a 910f
00076b 943a
00076c f791
00076d 950a
00076e f781
00076f e722
000770 e46b
000771 940e 04df
000773 e30c
000774 2e30
000775 e001
000776 930f
000777 923f
000778 e300
000779 2e30
00077a e006
00077b 943a
00077c f7f1
00077d 943a
00077e 950a
00077f f7d9
000780 903f
000781 910f
000782 943a
000783 f791
000784 950a
000785 f781
000786 e620
000787 e46b
000788 940e 04df
00078a e30c
00078b 2e30
00078c e001
00078d 930f
00078e 923f
00078f e300
000790 2e30
000791 e006
000792 943a
000793 f7f1
000794 943a
000795 950a
000796 f7d9
000797 903f
000798 910f
000799 943a
00079a f791
00079b 950a
00079c f781
00079d e525
00079e e46b
00079f 940e 04df
0007a1 e906
0007a2 2e30
0007a3 e001
0007a4 930f
0007a5 923f
0007a6 e300
0007a7 2e30
0007a8 e006
0007a9 943a
0007aa f7f1
0007ab 943a
0007ac 950a
0007ad f7d9
0007ae 903f
0007af 910f
0007b0 943a
0007b1 f791
0007b2 950a
0007b3 f781
0007b4 e521
0007b5 e46b
0007b6 940e 04df
0007b8 e906
0007b9 2e30
0007ba e001
0007bb 930f
0007bc 923f
0007bd e300
0007be 2e30
0007bf e006
0007c0 943a
0007c1 f7f1
0007c2 943a
0007c3 950a
0007c4 f7d9
0007c5 903f
0007c6 910f
0007c7 943a
0007c8 f791
0007c9 950a
0007ca f781
0007cb e525
0007cc e46b
0007cd 940e 04df
0007cf e906
0007d0 2e30
0007d1 e001
0007d2 930f
0007d3 923f
0007d4 e300
0007d5 2e30
0007d6 e006
0007d7 943a
0007d8 f7f1
0007d9 943a
0007da 950a
0007db f7d9
0007dc 903f
0007dd 910f
0007de 943a
0007df f791
0007e0 950a
0007e1 f781
0007e2 e620
0007e3 e46b
0007e4 940e 04df
0007e6 e604
0007e7 2e30
0007e8 e001
0007e9 930f
0007ea 923f
0007eb e300
0007ec 2e30
0007ed e006
0007ee 943a
0007ef f7f1
0007f0 943a
0007f1 950a
0007f2 f7d9
0007f3 903f
0007f4 910f
0007f5 943a
0007f6 f791
0007f7 950a
0007f8 f781
0007f9 e320
0007fa e46b
0007fb 940e 04df
0007fd e500
0007fe 2e30
0007ff e001
000800 930f
000801 923f
000802 e300
000803 2e30
000804 e006
000805 943a
000806 f7f1
000807 943a
000808 950a
000809 f7d9
00080a 903f
00080b 910f
00080c 943a
00080d f791
00080e 950a
00080f f781
000810 e320
000811 e46b
000812 940e 04df
000814 e302
000815 2e30
000816 e001
000817 930f
000818 923f
000819 e300
00081a 2e30
00081b e006
00081c 943a
00081d f7f1
00081e 943a
00081f 950a
000820 f7d9
000821 903f
000822 910f
000823 943a
000824 f791
000825 950a
000826 f781
000827 e320
000828 e46b
000829 940e 04df
00082b e302
00082c 2e30
00082d e001
00082e 930f
00082f 923f
000830 e300
000831 2e30
000832 e006
000833 943a
000834 f7f1
000835 943a
000836 950a
000837 f7d9
000838 903f
000839 910f
00083a 943a
00083b f791
00083c 950a
00083d f781                      	MENU_SONG
                                 
                                 
                                 main_loop:
00083e d00e                      	rcall start
00083f fd61
000840 940e 0866                 	CB1 b0,1, safe
000842 fd60
000843 940e 086e                 	CB1 b0,0, games
000845 fd60
000846 940e 0887                 	CB1 b0,0, trivia
000848 fd61
000849 940e 0f67                 	CB1 b0,1, dance
00084b 940c 083e                 	jmp main_loop
                                 
                                 start:
00084d 940e 0143
00084f eeea
000850 e0f2
000851 940e 03c8
000853 efe8
000854 e0f2
000855 e420
000856 940e 014f
000858 940e 03c8                 	DISPLAY2 str2, str3
00085a 940e 00e5                 	call reset_kpd
00085c 940e 0fab                 	call check_reset
00085e 2f62                      	mov b0, a0
00085f 3861                      	cpi b0, 0x81
000860 f011                      	breq PC+3
000861 3862                      	cpi b0, 0x82
000862 f409                      	brne PC+2
000863 9508                      	ret
000864 940c 084d                 	jmp start
                                 
                                 safe:
000866 940e 0143
000868 ebee
000869 e0f3
00086a 940e 03c8                 	DISPLAY1 str6
00086c 940c 0f89                 	jmp end
                                 
                                 games:
00086e 940e 0143
000870 e9ee
000871 e0f3
000872 940e 03c8
000874 eaee
000875 e0f3
000876 e420
000877 940e 014f
000879 940e 03c8                 	DISPLAY2 str4, str5
00087b 940e 00e5                 	call reset_kpd
00087d 940e 0fab                 	call check_reset
00087f 2f62                      	mov b0, a0
000880 3861                      	cpi b0, 0x81
000881 f011                      	breq PC+3
000882 3862                      	cpi b0, 0x82
000883 f409                      	brne PC+2
000884 9508                      	ret
000885 940c 086e                 	jmp games
                                 
                                 
                                 trivia:
000887 940e 0143
000889 e0e6
00088a e0f3
00088b 940e 03c8
00088d e1e2
00088e e0f3
00088f e420
000890 940e 014f
000892 940e 03c8                 	DISPLAY2 strwelcome, strivia
000894 ed00
000895 2e30
000896 e008
000897 930f
000898 923f
000899 e300
00089a 2e30
00089b e006
00089c 943a
00089d f7f1
00089e 943a
00089f 950a
0008a0 f7d9
0008a1 903f
0008a2 910f
0008a3 943a
0008a4 f791
0008a5 950a
0008a6 f781                      	WAIT_MS 2000
0008a7 940e 0143
0008a9 e3ec
0008aa e0f3
0008ab 940e 03c8
0008ad e4ec
0008ae e0f3
0008af e420
0008b0 940e 014f
0008b2 940e 03c8                 	DISPLAY2 strivia2, strivia3
0008b4 ed00
0008b5 2e30
0008b6 e008
0008b7 930f
0008b8 923f
0008b9 e300
0008ba 2e30
0008bb e006
0008bc 943a
0008bd f7f1
0008be 943a
0008bf 950a
0008c0 f7d9
0008c1 903f
0008c2 910f
0008c3 943a
0008c4 f791
0008c5 950a
0008c6 f781                      	WAIT_MS 2000
0008c7 e000
0008c8 2e90                      	_LDI c1, 0x00
0008c9 940e 0143
0008cb e2e0
0008cc e0f4
0008cd 940e 03c8
0008cf e2ee
0008d0 e0f4
0008d1 e420
0008d2 940e 014f
0008d4 940e 03c8
0008d6 940e 00e5
0008d8 940e 0fab
0008da 2f62
0008db 7820
0008dc f009
0008dd 940c 0913
0008df 3468
0008e0 f741
0008e1 940e 0143
0008e3 e4e0
0008e4 e0f4
0008e5 940e 03c8
0008e7 e5e2
0008e8 e0f4
0008e9 e420
0008ea 940e 014f
0008ec 940e 03c8
0008ee 940e 00e5
0008f0 940e 0fab
0008f2 2f62
0008f3 7820
0008f4 f009
0008f5 940c 0913
0008f7 3468
0008f8 f741
0008f9 940e 0143
0008fb e6e4
0008fc e0f4
0008fd 940e 03c8
0008ff e7e2
000900 e0f4
000901 e420
000902 940e 014f
000904 940e 03c8
000906 940e 00e5
000908 940e 0fab
00090a 2f62
00090b 7820
00090c f009
00090d 940c 0913
00090f 3468
000910 f741
000911 940c 08c9                 	QUESTION striviaQ1, striviaQ12, strivia1A, strivia1B, strivia1C, strivia1D
000913 e8e0
000914 e0f4
000915 95c8
000916 1560
000917 f409
000918 9468                      	COMPARE answer1
000919 f40e                      	brtc PC+2
00091a 9493                      	inc c1
00091b 940e 012d
00091d f00e
00091e 940c 0928
000920 940e 0143
000922 e2ea
000923 e0f3
000924 940e 03c8
000926 940c 092e
000928 940e 0143
00092a e3e4
00092b e0f3
00092c 940e 03c8
00092e 1b55
00092f 2744
000930 2733
000931 2722
000932 2d29
000933 e201
000934 2e40
000935 e001
000936 2e50
000937 940e 03d0
000939 6353
00093a 726f
00093b 3a65
00093c 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(173): macro 'PRINT_SCORE' called here
00093d 0000                      	PRINT_SCORE c1
00093e ed00
00093f 2e30
000940 e008
000941 930f
000942 923f
000943 e300
000944 2e30
000945 e006
000946 943a
000947 f7f1
000948 943a
000949 950a
00094a f7d9
00094b 903f
00094c 910f
00094d 943a
00094e f791
00094f 950a
000950 f781                      	WAIT_MS 2000
000951 940e 0143
000953 e8e2
000954 e0f4
000955 940e 03c8
000957 e8ec
000958 e0f4
000959 e420
00095a 940e 014f
00095c 940e 03c8
00095e 940e 00e5
000960 940e 0fab
000962 2f62
000963 7820
000964 f009
000965 940c 099b
000967 3468
000968 f741
000969 940e 0143
00096b e9e6
00096c e0f4
00096d 940e 03c8
00096f eae6
000970 e0f4
000971 e420
000972 940e 014f
000974 940e 03c8
000976 940e 00e5
000978 940e 0fab
00097a 2f62
00097b 7820
00097c f009
00097d 940c 099b
00097f 3468
000980 f741
000981 940e 0143
000983 ebe4
000984 e0f4
000985 940e 03c8
000987 ece6
000988 e0f4
000989 e420
00098a 940e 014f
00098c 940e 03c8
00098e 940e 00e5
000990 940e 0fab
000992 2f62
000993 7820
000994 f009
000995 940c 099b
000997 3468
000998 f741
000999 940c 0951                 	QUESTION striviaQ2, striviaQ22, strivia2A, strivia2B, strivia2C, strivia2D
00099b ede6
00099c e0f4
00099d 95c8
00099e 1560
00099f f409
0009a0 9468                      	COMPARE answer2
0009a1 f40e                      	brtc PC+2
0009a2 9493                      	inc c1
0009a3 940e 012d
0009a5 f00e
0009a6 940c 09b0
0009a8 940e 0143
0009aa e2ea
0009ab e0f3
0009ac 940e 03c8
0009ae 940c 09b6
0009b0 940e 0143
0009b2 e3e4
0009b3 e0f3
0009b4 940e 03c8
0009b6 1b55
0009b7 2744
0009b8 2733
0009b9 2722
0009ba 2d29
0009bb e201
0009bc 2e40
0009bd e001
0009be 2e50
0009bf 940e 03d0
0009c1 6353
0009c2 726f
0009c3 3a65
0009c4 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(179): macro 'PRINT_SCORE' called here
0009c5 0000                      	PRINT_SCORE c1
0009c6 ed00
0009c7 2e30
0009c8 e008
0009c9 930f
0009ca 923f
0009cb e300
0009cc 2e30
0009cd e006
0009ce 943a
0009cf f7f1
0009d0 943a
0009d1 950a
0009d2 f7d9
0009d3 903f
0009d4 910f
0009d5 943a
0009d6 f791
0009d7 950a
0009d8 f781                      	WAIT_MS 2000
0009d9 940e 0143
0009db ede8
0009dc e0f4
0009dd 940e 03c8
0009df eeea
0009e0 e0f4
0009e1 e420
0009e2 940e 014f
0009e4 940e 03c8
0009e6 940e 00e5
0009e8 940e 0fab
0009ea 2f62
0009eb 7820
0009ec f009
0009ed 940c 0a23
0009ef 3468
0009f0 f741
0009f1 940e 0143
0009f3 efe6
0009f4 e0f4
0009f5 940e 03c8
0009f7 e0e8
0009f8 e0f5
0009f9 e420
0009fa 940e 014f
0009fc 940e 03c8
0009fe 940e 00e5
000a00 940e 0fab
000a02 2f62
000a03 7820
000a04 f009
000a05 940c 0a23
000a07 3468
000a08 f741
000a09 940e 0143
000a0b e1e8
000a0c e0f5
000a0d 940e 03c8
000a0f e2e4
000a10 e0f5
000a11 e420
000a12 940e 014f
000a14 940e 03c8
000a16 940e 00e5
000a18 940e 0fab
000a1a 2f62
000a1b 7820
000a1c f009
000a1d 940c 0a23
000a1f 3468
000a20 f741
000a21 940c 09d9                 	QUESTION striviaQ3, striviaQ32, strivia3A, strivia3B, strivia3C, strivia3D
000a23 e3e2
000a24 e0f5
000a25 95c8
000a26 1560
000a27 f409
000a28 9468                      	COMPARE answer3
000a29 f40e                      	brtc PC+2
000a2a 9493                      	inc c1
000a2b 940e 012d
000a2d f00e
000a2e 940c 0a38
000a30 940e 0143
000a32 e2ea
000a33 e0f3
000a34 940e 03c8
000a36 940c 0a3e
000a38 940e 0143
000a3a e3e4
000a3b e0f3
000a3c 940e 03c8
000a3e 1b55
000a3f 2744
000a40 2733
000a41 2722
000a42 2d29
000a43 e201
000a44 2e40
000a45 e001
000a46 2e50
000a47 940e 03d0
000a49 6353
000a4a 726f
000a4b 3a65
000a4c 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(185): macro 'PRINT_SCORE' called here
000a4d 0000                      	PRINT_SCORE c1
000a4e ed00
000a4f 2e30
000a50 e008
000a51 930f
000a52 923f
000a53 e300
000a54 2e30
000a55 e006
000a56 943a
000a57 f7f1
000a58 943a
000a59 950a
000a5a f7d9
000a5b 903f
000a5c 910f
000a5d 943a
000a5e f791
000a5f 950a
000a60 f781                      	WAIT_MS 2000
000a61 940e 0143
000a63 e3e4
000a64 e0f5
000a65 940e 03c8
000a67 e4e4
000a68 e0f5
000a69 e420
000a6a 940e 014f
000a6c 940e 03c8
000a6e 940e 00e5
000a70 940e 0fab
000a72 2f62
000a73 7820
000a74 f009
000a75 940c 0aab
000a77 3468
000a78 f741
000a79 940e 0143
000a7b e5e2
000a7c e0f5
000a7d 940e 03c8
000a7f e6e4
000a80 e0f5
000a81 e420
000a82 940e 014f
000a84 940e 03c8
000a86 940e 00e5
000a88 940e 0fab
000a8a 2f62
000a8b 7820
000a8c f009
000a8d 940c 0aab
000a8f 3468
000a90 f741
000a91 940e 0143
000a93 e7e2
000a94 e0f5
000a95 940e 03c8
000a97 e7ee
000a98 e0f5
000a99 e420
000a9a 940e 014f
000a9c 940e 03c8
000a9e 940e 00e5
000aa0 940e 0fab
000aa2 2f62
000aa3 7820
000aa4 f009
000aa5 940c 0aab
000aa7 3468
000aa8 f741
000aa9 940c 0a61                 	QUESTION striviaQ4, striviaQ42, strivia4A, strivia4B, strivia4C, strivia4D
000aab e8ec
000aac e0f5
000aad 95c8
000aae 1560
000aaf f409
000ab0 9468                      	COMPARE answer4
000ab1 f40e                      	brtc PC+2
000ab2 9493                      	inc c1
000ab3 940e 012d
000ab5 f00e
000ab6 940c 0ac0
000ab8 940e 0143
000aba e2ea
000abb e0f3
000abc 940e 03c8
000abe 940c 0ac6
000ac0 940e 0143
000ac2 e3e4
000ac3 e0f3
000ac4 940e 03c8
000ac6 1b55
000ac7 2744
000ac8 2733
000ac9 2722
000aca 2d29
000acb e201
000acc 2e40
000acd e001
000ace 2e50
000acf 940e 03d0
000ad1 6353
000ad2 726f
000ad3 3a65
000ad4 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(191): macro 'PRINT_SCORE' called here
000ad5 0000                      	PRINT_SCORE c1
000ad6 ed00
000ad7 2e30
000ad8 e008
000ad9 930f
000ada 923f
000adb e300
000adc 2e30
000add e006
000ade 943a
000adf f7f1
000ae0 943a
000ae1 950a
000ae2 f7d9
000ae3 903f
000ae4 910f
000ae5 943a
000ae6 f791
000ae7 950a
000ae8 f781                      	WAIT_MS 2000
000ae9 940e 0143
000aeb e8ee
000aec e0f5
000aed 940e 03c8
000aef e9ea
000af0 e0f5
000af1 e420
000af2 940e 014f
000af4 940e 03c8
000af6 940e 00e5
000af8 940e 0fab
000afa 2f62
000afb 7820
000afc f009
000afd 940c 0b33
000aff 3468
000b00 f741
000b01 940e 0143
000b03 eae4
000b04 e0f5
000b05 940e 03c8
000b07 ebe6
000b08 e0f5
000b09 e420
000b0a 940e 014f
000b0c 940e 03c8
000b0e 940e 00e5
000b10 940e 0fab
000b12 2f62
000b13 7820
000b14 f009
000b15 940c 0b33
000b17 3468
000b18 f741
000b19 940e 0143
000b1b ece4
000b1c e0f5
000b1d 940e 03c8
000b1f ecee
000b20 e0f5
000b21 e420
000b22 940e 014f
000b24 940e 03c8
000b26 940e 00e5
000b28 940e 0fab
000b2a 2f62
000b2b 7820
000b2c f009
000b2d 940c 0b33
000b2f 3468
000b30 f741
000b31 940c 0ae9                 	QUESTION striviaQ5, striviaQ52, strivia5A, strivia5B, strivia5C, strivia5D
000b33 ede6
000b34 e0f5
000b35 95c8
000b36 1560
000b37 f409
000b38 9468                      	COMPARE answer5
000b39 f40e                      	brtc PC+2
000b3a 9493                      	inc c1
000b3b 940e 012d
000b3d f00e
000b3e 940c 0b48
000b40 940e 0143
000b42 e2ea
000b43 e0f3
000b44 940e 03c8
000b46 940c 0b4e
000b48 940e 0143
000b4a e3e4
000b4b e0f3
000b4c 940e 03c8
000b4e 1b55
000b4f 2744
000b50 2733
000b51 2722
000b52 2d29
000b53 e201
000b54 2e40
000b55 e001
000b56 2e50
000b57 940e 03d0
000b59 6353
000b5a 726f
000b5b 3a65
000b5c 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(197): macro 'PRINT_SCORE' called here
000b5d 0000                      	PRINT_SCORE c1
000b5e ed00
000b5f 2e30
000b60 e008
000b61 930f
000b62 923f
000b63 e300
000b64 2e30
000b65 e006
000b66 943a
000b67 f7f1
000b68 943a
000b69 950a
000b6a f7d9
000b6b 903f
000b6c 910f
000b6d 943a
000b6e f791
000b6f 950a
000b70 f781                      	WAIT_MS 2000
000b71 940e 0143
000b73 ede8
000b74 e0f5
000b75 940e 03c8
000b77 eeea
000b78 e0f5
000b79 e420
000b7a 940e 014f
000b7c 940e 03c8
000b7e 940e 00e5
000b80 940e 0fab
000b82 2f62
000b83 7820
000b84 f009
000b85 940c 0bbb
000b87 3468
000b88 f741
000b89 940e 0143
000b8b efea
000b8c e0f5
000b8d 940e 03c8
000b8f e0ec
000b90 e0f6
000b91 e420
000b92 940e 014f
000b94 940e 03c8
000b96 940e 00e5
000b98 940e 0fab
000b9a 2f62
000b9b 7820
000b9c f009
000b9d 940c 0bbb
000b9f 3468
000ba0 f741
000ba1 940e 0143
000ba3 e1ec
000ba4 e0f6
000ba5 940e 03c8
000ba7 e2ea
000ba8 e0f6
000ba9 e420
000baa 940e 014f
000bac 940e 03c8
000bae 940e 00e5
000bb0 940e 0fab
000bb2 2f62
000bb3 7820
000bb4 f009
000bb5 940c 0bbb
000bb7 3468
000bb8 f741
000bb9 940c 0b71                 	QUESTION striviaQ6, striviaQ62, strivia6A, strivia6B, strivia6C, strivia6D
000bbb e3e4
000bbc e0f6
000bbd 95c8
000bbe 1560
000bbf f409
000bc0 9468                      	COMPARE answer6
000bc1 f40e                      	brtc PC+2
000bc2 9493                      	inc c1
000bc3 940e 012d
000bc5 f00e
000bc6 940c 0bd0
000bc8 940e 0143
000bca e2ea
000bcb e0f3
000bcc 940e 03c8
000bce 940c 0bd6
000bd0 940e 0143
000bd2 e3e4
000bd3 e0f3
000bd4 940e 03c8
000bd6 1b55
000bd7 2744
000bd8 2733
000bd9 2722
000bda 2d29
000bdb e201
000bdc 2e40
000bdd e001
000bde 2e50
000bdf 940e 03d0
000be1 6353
000be2 726f
000be3 3a65
000be4 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(203): macro 'PRINT_SCORE' called here
000be5 0000                      	PRINT_SCORE c1
000be6 ed00
000be7 2e30
000be8 e008
000be9 930f
000bea 923f
000beb e300
000bec 2e30
000bed e006
000bee 943a
000bef f7f1
000bf0 943a
000bf1 950a
000bf2 f7d9
000bf3 903f
000bf4 910f
000bf5 943a
000bf6 f791
000bf7 950a
000bf8 f781                      	WAIT_MS 2000
000bf9 940e 0143
000bfb e3e6
000bfc e0f6
000bfd 940e 03c8
000bff e4e4
000c00 e0f6
000c01 e420
000c02 940e 014f
000c04 940e 03c8
000c06 940e 00e5
000c08 940e 0fab
000c0a 2f62
000c0b 7820
000c0c f009
000c0d 940c 0c43
000c0f 3468
000c10 f741
000c11 940e 0143
000c13 e5e0
000c14 e0f6
000c15 940e 03c8
000c17 e6e2
000c18 e0f6
000c19 e420
000c1a 940e 014f
000c1c 940e 03c8
000c1e 940e 00e5
000c20 940e 0fab
000c22 2f62
000c23 7820
000c24 f009
000c25 940c 0c43
000c27 3468
000c28 f741
000c29 940e 0143
000c2b e6ee
000c2c e0f6
000c2d 940e 03c8
000c2f e7e8
000c30 e0f6
000c31 e420
000c32 940e 014f
000c34 940e 03c8
000c36 940e 00e5
000c38 940e 0fab
000c3a 2f62
000c3b 7820
000c3c f009
000c3d 940c 0c43
000c3f 3468
000c40 f741
000c41 940c 0bf9                 	QUESTION striviaQ7, striviaQ72, strivia7A, strivia7B, strivia7C, strivia7D
000c43 e8e2
000c44 e0f6
000c45 95c8
000c46 1560
000c47 f409
000c48 9468                      	COMPARE answer7
000c49 f40e                      	brtc PC+2
000c4a 9493                      	inc c1
000c4b 940e 012d
000c4d f00e
000c4e 940c 0c58
000c50 940e 0143
000c52 e2ea
000c53 e0f3
000c54 940e 03c8
000c56 940c 0c5e
000c58 940e 0143
000c5a e3e4
000c5b e0f3
000c5c 940e 03c8
000c5e 1b55
000c5f 2744
000c60 2733
000c61 2722
000c62 2d29
000c63 e201
000c64 2e40
000c65 e001
000c66 2e50
000c67 940e 03d0
000c69 6353
000c6a 726f
000c6b 3a65
000c6c 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(209): macro 'PRINT_SCORE' called here
000c6d 0000                      	PRINT_SCORE c1
000c6e ed00
000c6f 2e30
000c70 e008
000c71 930f
000c72 923f
000c73 e300
000c74 2e30
000c75 e006
000c76 943a
000c77 f7f1
000c78 943a
000c79 950a
000c7a f7d9
000c7b 903f
000c7c 910f
000c7d 943a
000c7e f791
000c7f 950a
000c80 f781                      	WAIT_MS 2000
000c81 940e 0143
000c83 e8e4
000c84 e0f6
000c85 940e 03c8
000c87 e9e6
000c88 e0f6
000c89 e420
000c8a 940e 014f
000c8c 940e 03c8
000c8e 940e 00e5
000c90 940e 0fab
000c92 2f62
000c93 7820
000c94 f009
000c95 940c 0ccb
000c97 3468
000c98 f741
000c99 940e 0143
000c9b eae4
000c9c e0f6
000c9d 940e 03c8
000c9f eaec
000ca0 e0f6
000ca1 e420
000ca2 940e 014f
000ca4 940e 03c8
000ca6 940e 00e5
000ca8 940e 0fab
000caa 2f62
000cab 7820
000cac f009
000cad 940c 0ccb
000caf 3468
000cb0 f741
000cb1 940e 0143
000cb3 ebea
000cb4 e0f6
000cb5 940e 03c8
000cb7 ece4
000cb8 e0f6
000cb9 e420
000cba 940e 014f
000cbc 940e 03c8
000cbe 940e 00e5
000cc0 940e 0fab
000cc2 2f62
000cc3 7820
000cc4 f009
000cc5 940c 0ccb
000cc7 3468
000cc8 f741
000cc9 940c 0c81                 	QUESTION striviaQ8, striviaQ82, strivia8A, strivia8B, strivia8C, strivia8D
000ccb ede6
000ccc e0f6
000ccd 95c8
000cce 1560
000ccf f409
000cd0 9468                      	COMPARE answer8
000cd1 f40e                      	brtc PC+2
000cd2 9493                      	inc c1
000cd3 940e 012d
000cd5 f00e
000cd6 940c 0ce0
000cd8 940e 0143
000cda e2ea
000cdb e0f3
000cdc 940e 03c8
000cde 940c 0ce6
000ce0 940e 0143
000ce2 e3e4
000ce3 e0f3
000ce4 940e 03c8
000ce6 1b55
000ce7 2744
000ce8 2733
000ce9 2722
000cea 2d29
000ceb e201
000cec 2e40
000ced e001
000cee 2e50
000cef 940e 03d0
000cf1 6353
000cf2 726f
000cf3 3a65
000cf4 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(215): macro 'PRINT_SCORE' called here
000cf5 0000                      	PRINT_SCORE c1
000cf6 ed00
000cf7 2e30
000cf8 e008
000cf9 930f
000cfa 923f
000cfb e300
000cfc 2e30
000cfd e006
000cfe 943a
000cff f7f1
000d00 943a
000d01 950a
000d02 f7d9
000d03 903f
000d04 910f
000d05 943a
000d06 f791
000d07 950a
000d08 f781                      	WAIT_MS 2000
000d09 940e 0143
000d0b ede8
000d0c e0f6
000d0d 940e 03c8
000d0f eee8
000d10 e0f6
000d11 e420
000d12 940e 014f
000d14 940e 03c8
000d16 940e 00e5
000d18 940e 0fab
000d1a 2f62
000d1b 7820
000d1c f009
000d1d 940c 0d53
000d1f 3468
000d20 f741
000d21 940e 0143
000d23 efea
000d24 e0f6
000d25 940e 03c8
000d27 e0ec
000d28 e0f7
000d29 e420
000d2a 940e 014f
000d2c 940e 03c8
000d2e 940e 00e5
000d30 940e 0fab
000d32 2f62
000d33 7820
000d34 f009
000d35 940c 0d53
000d37 3468
000d38 f741
000d39 940e 0143
000d3b e1ea
000d3c e0f7
000d3d 940e 03c8
000d3f e2e2
000d40 e0f7
000d41 e420
000d42 940e 014f
000d44 940e 03c8
000d46 940e 00e5
000d48 940e 0fab
000d4a 2f62
000d4b 7820
000d4c f009
000d4d 940c 0d53
000d4f 3468
000d50 f741
000d51 940c 0d09                 	QUESTION striviaQ9, striviaQ92, strivia9A, strivia9B, strivia9C, strivia9D
000d53 e3e4
000d54 e0f7
000d55 95c8
000d56 1560
000d57 f409
000d58 9468                      	COMPARE answer9
000d59 f40e                      	brtc PC+2
000d5a 9493                      	inc c1
000d5b 940e 012d
000d5d f00e
000d5e 940c 0d68
000d60 940e 0143
000d62 e2ea
000d63 e0f3
000d64 940e 03c8
000d66 940c 0d6e
000d68 940e 0143
000d6a e3e4
000d6b e0f3
000d6c 940e 03c8
000d6e 1b55
000d6f 2744
000d70 2733
000d71 2722
000d72 2d29
000d73 e201
000d74 2e40
000d75 e001
000d76 2e50
000d77 940e 03d0
000d79 6353
000d7a 726f
000d7b 3a65
000d7c 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(221): macro 'PRINT_SCORE' called here
000d7d 0000                      	PRINT_SCORE c1
000d7e ed00
000d7f 2e30
000d80 e008
000d81 930f
000d82 923f
000d83 e300
000d84 2e30
000d85 e006
000d86 943a
000d87 f7f1
000d88 943a
000d89 950a
000d8a f7d9
000d8b 903f
000d8c 910f
000d8d 943a
000d8e f791
000d8f 950a
000d90 f781                      	WAIT_MS 2000
000d91 940e 0143
000d93 e3e6
000d94 e0f7
000d95 940e 03c8
000d97 e4e4
000d98 e0f7
000d99 e420
000d9a 940e 014f
000d9c 940e 03c8
000d9e 940e 00e5
000da0 940e 0fab
000da2 2f62
000da3 7820
000da4 f009
000da5 940c 0ddb
000da7 3468
000da8 f741
000da9 940e 0143
000dab e5e0
000dac e0f7
000dad 940e 03c8
000daf e5ee
000db0 e0f7
000db1 e420
000db2 940e 014f
000db4 940e 03c8
000db6 940e 00e5
000db8 940e 0fab
000dba 2f62
000dbb 7820
000dbc f009
000dbd 940c 0ddb
000dbf 3468
000dc0 f741
000dc1 940e 0143
000dc3 e7e0
000dc4 e0f7
000dc5 940e 03c8
000dc7 e7ee
000dc8 e0f7
000dc9 e420
000dca 940e 014f
000dcc 940e 03c8
000dce 940e 00e5
000dd0 940e 0fab
000dd2 2f62
000dd3 7820
000dd4 f009
000dd5 940c 0ddb
000dd7 3468
000dd8 f741
000dd9 940c 0d91                 	QUESTION striviaQ10, striviaQ102, strivia10A, strivia10B, strivia10C, strivia10D
000ddb e8ee
000ddc e0f7
000ddd 95c8
000dde 1560
000ddf f409
000de0 9468                      	COMPARE answer10
000de1 f40e                      	brtc PC+2
000de2 9493                      	inc c1
000de3 940e 012d
000de5 f00e
000de6 940c 0df0
000de8 940e 0143
000dea e2ea
000deb e0f3
000dec 940e 03c8
000dee 940c 0df6
000df0 940e 0143
000df2 e3e4
000df3 e0f3
000df4 940e 03c8
000df6 1b55
000df7 2744
000df8 2733
000df9 2722
000dfa 2d29
000dfb e201
000dfc 2e40
000dfd e001
000dfe 2e50
000dff 940e 03d0
000e01 6353
000e02 726f
000e03 3a65
000e04 12c0
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\macros.asm(122): warning: .cseg .db misalignment - padding zero byte
C:\Users\renuka\Desktop\projet\MCU\AssemblerApplication1\AssemblerApplication1\mainbis.asm(227): macro 'PRINT_SCORE' called here
000e05 0000                      	PRINT_SCORE c1
000e06 ed00
000e07 2e30
000e08 e008
000e09 930f
000e0a 923f
000e0b e300
000e0c 2e30
000e0d e006
000e0e 943a
000e0f f7f1
000e10 943a
000e11 950a
000e12 f7d9
000e13 903f
000e14 910f
000e15 943a
000e16 f791
000e17 950a
000e18 f781                      	WAIT_MS 2000
000e19 e005                      	ldi w, 0x05
000e1a 1690                      	cp c1, w
000e1b f410                      	brsh trivia_won
000e1c 940c 0ea9                 	jmp trivia_lost
                                 trivia_won:
000e1e 940e 0143
000e20 e7e2
000e21 e0f3
000e22 940e 03c8
000e24 e8e2
000e25 e0f3
000e26 e420
000e27 940e 014f
000e29 940e 03c8                     DISPLAY2 strwin1, strwin2
000e2b e620
000e2c e560
000e2d 940e 04df
000e2f e820
000e30 e36c
000e31 940e 04df
000e33 e620
000e34 e560
000e35 940e 04df
000e37 e42c
000e38 e36c
000e39 940e 04df
000e3b e420
000e3c e36c
000e3d 940e 04df
000e3f e320
000e40 e36c
000e41 940e 04df
000e43 e226
000e44 ea6a
000e45 940e 04df
000e47 e320
000e48 ea6a
000e49 940e 04df
000e4b e52b
000e4c e560
000e4d 940e 04df
000e4f e729
000e50 e36c
000e51 940e 04df
000e53 e52b
000e54 e560
000e55 940e 04df
000e57 e428
000e58 e36c
000e59 940e 04df
000e5b e12e
000e5c e36c
000e5d 940e 04df
000e5f e22d
000e60 e36c
000e61 940e 04df
000e63 e224
000e64 ea6a
000e65 940e 04df
000e67 e22d
000e68 ea6a
000e69 940e 04df
000e6b e521
000e6c e560
000e6d 940e 04df
000e6f e62c
000e70 e36c
000e71 940e 04df
000e73 e521
000e74 e560
000e75 940e 04df
000e77 e420
000e78 e36c
000e79 940e 04df
000e7b e326
000e7c e36c
000e7d 940e 04df
000e7f e228
000e80 ea6a
000e81 940e 04df
000e83 e224
000e84 ec68
000e85 940e 04df                 	CELEBRATE_song
                                 	;WAIT_MS 2000
000e87 940e 0143
000e89 e5ec
000e8a e0f3
000e8b 940e 03c8
000e8d e6e6
000e8e e0f3
000e8f e420
000e90 940e 014f
000e92 940e 03c8                 	DISPLAY2 strclue1a, strclue1b
000e94 ea00
000e95 2e30
000e96 e100
000e97 930f
000e98 923f
000e99 e300
000e9a 2e30
000e9b e006
000e9c 943a
000e9d f7f1
000e9e 943a
000e9f 950a
000ea0 f7d9
000ea1 903f
000ea2 910f
000ea3 943a
000ea4 f791
000ea5 950a
000ea6 f781                      	WAIT_MS 4000
000ea7 940c 083e                 	jmp main_loop
                                 trivia_lost:
000ea9 940e 0143
000eab e8ea
000eac e0f3
000ead 940e 03c8
000eaf e9e4
000eb0 e0f3
000eb1 e420
000eb2 940e 014f
000eb4 940e 03c8                 	DISPLAY2 strlose1, strlose2
000eb6 e323
000eb7 e560
000eb8 940e 04df
000eba e30c
000ebb 2e30
000ebc e001
000ebd 930f
000ebe 923f
000ebf e300
000ec0 2e30
000ec1 e006
000ec2 943a
000ec3 f7f1
000ec4 943a
000ec5 950a
000ec6 f7d9
000ec7 903f
000ec8 910f
000ec9 943a
000eca f791
000ecb 950a
000ecc f781
000ecd e224
000ece e56a
000ecf 940e 04df
000ed1 e30c
000ed2 2e30
000ed3 e001
000ed4 930f
000ed5 923f
000ed6 e300
000ed7 2e30
000ed8 e006
000ed9 943a
000eda f7f1
000edb 943a
000edc 950a
000edd f7d9
000ede 903f
000edf 910f
000ee0 943a
000ee1 f791
000ee2 950a
000ee3 f781
000ee4 e224
000ee5 e466
000ee6 940e 04df
000ee8 e30c
000ee9 2e30
000eea e001
000eeb 930f
000eec 923f
000eed e300
000eee 2e30
000eef e006
000ef0 943a
000ef1 f7f1
000ef2 943a
000ef3 950a
000ef4 f7d9
000ef5 903f
000ef6 910f
000ef7 943a
000ef8 f791
000ef9 950a
000efa f781
000efb e224
000efc e466
000efd 940e 04df
000eff e30c
000f00 2e30
000f01 e001
000f02 930f
000f03 923f
000f04 e300
000f05 2e30
000f06 e006
000f07 943a
000f08 f7f1
000f09 943a
000f0a 950a
000f0b f7d9
000f0c 903f
000f0d 910f
000f0e 943a
000f0f f791
000f10 950a
000f11 f781
000f12 e224
000f13 e466
000f14 940e 04df
000f16 e226
000f17 e466
000f18 940e 04df
000f1a e22a
000f1b e466
000f1c 940e 04df
000f1e e320
000f1f e86c
000f20 940e 04df
000f22 eb0c
000f23 2e30
000f24 e003
000f25 930f
000f26 923f
000f27 e300
000f28 2e30
000f29 e006
000f2a 943a
000f2b f7f1
000f2c 943a
000f2d 950a
000f2e f7d9
000f2f 903f
000f30 910f
000f31 943a
000f32 f791
000f33 950a
000f34 f781
000f35 e320
000f36 e664
000f37 940e 04df
000f39 e420
000f3a e664
000f3b 940e 04df
000f3d e42c
000f3e e664
000f3f 940e 04df
000f41 e326
000f42 e664
000f43 940e 04df
000f45 e320
000f46 e664
000f47 940e 04df
000f49 e326
000f4a e664
000f4b 940e 04df
000f4d e32c
000f4e e664
000f4f 940e 04df
000f51 e326
000f52 e664
000f53 940e 04df
000f55 e32c
000f56 e664
000f57 940e 04df
000f59 e420
000f5a e560
000f5b 940e 04df
000f5d e428
000f5e e36c
000f5f 940e 04df
000f61 e420
000f62 e966
000f63 940e 04df                 	LOSE_SONG
                                 	;WAIT_MS 2000
000f65 940c 083e                 	jmp main_loop
                                 
                                 dance:
000f67 940e 0143
000f69 e0e6
000f6a e0f3
000f6b 940e 03c8
000f6d e1ec
000f6e e0f3
000f6f e420
000f70 940e 014f
000f72 940e 03c8                 	DISPLAY2 strwelcome, strbutton
000f74 ed00
000f75 2e30
000f76 e008
000f77 930f
000f78 923f
000f79 e300
000f7a 2e30
000f7b e006
000f7c 943a
000f7d f7f1
000f7e 943a
000f7f 950a
000f80 f7d9
000f81 903f
000f82 910f
000f83 943a
000f84 f791
000f85 950a
000f86 f781                      	WAIT_MS 2000
000f87 940c 083e                 	jmp main_loop
                                 
                                 
                                 end:
000f89 940e 0143
000f8b e0e8
000f8c e0f4
000f8d 940e 03c8
000f8f e1e4
000f90 e0f4
000f91 e420
000f92 940e 014f
000f94 940e 03c8                 	DISPLAY2 str10, str11
000f96 ed00
000f97 2e30
000f98 e008
000f99 930f
000f9a 923f
000f9b e300
000f9c 2e30
000f9d e006
000f9e 943a
000f9f f7f1
000fa0 943a
000fa1 950a
000fa2 f7d9
000fa3 903f
000fa4 910f
000fa5 943a
000fa6 f791
000fa7 950a
000fa8 f781                      	WAIT_MS 2000
000fa9 940c 04fe                 	jmp reset
                                 
                                 check_reset:
000fab e108
000fac 1680                      	_CPI c0, 0x18 ; check if * key pressed
000fad f409                      	brne PC+2
000fae 940c 04fe                 	jmp reset


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

"ATmega128" register use summary:
x  :   6 y  :   0 z  :   0 r0 :  20 r1 :   6 r2 :   6 r3 : 443 r4 :  11 
r5 :  11 r6 :   0 r7 :   0 r8 :   7 r9 :  27 r10:   5 r11:   6 r12:  11 
r13:   0 r14:   8 r15:   4 r16: 816 r17:   1 r18: 241 r19:  29 r20:  26 
r21:  36 r22: 181 r23:  29 r24:   8 r25:  16 r26:   3 r27:   3 r28:   0 
r29:   0 r30: 125 r31: 119 
Registers used: 28 out of 35 (80.0%)

"ATmega128" instruction use summary:
.lds  :   0 .sts  :   0 adc   :   0 add   :   4 adiw  :   6 and   :   4 
andi  :  37 asr   :   2 bclr  :   0 bld   :   0 brbc  :   0 brbs  :   0 
brcc  :   3 brcs  :   0 break :   0 breq  :  51 brge  :   0 brhc  :   0 
brhs  :   0 brid  :   0 brie  :   0 brlo  :   0 brlt  :   0 brmi  :   1 
brne  : 307 brpl  :   1 brsh  :   2 brtc  :  15 brts  :  10 brvc  :   0 
brvs  :   0 bset  :   0 bst   :   1 call  : 370 cbi   :   1 cbr   :   0 
clc   :   1 clh   :   0 cli   :   0 cln   :   0 clr   :  55 cls   :   0 
clt   :   1 clv   :   0 clz   :   0 com   :   8 cp    :  13 cpc   :   3 
cpi   :  43 cpse  :   0 dec   : 322 elpm  :   0 eor   :   0 fmul  :   0 
fmuls :   0 fmulsu:   0 icall :   1 ijmp  :   1 in    :   5 inc   :  12 
jmp   :  77 ld    :   6 ldd   :   0 ldi   : 759 lds   :   3 lpm   :  48 
lsl   :   1 lsr   :   3 mov   : 227 movw  :   0 mul   :   0 muls  :   0 
mulsu :   0 neg   :   0 nop   :   3 or    :   0 ori   :   2 out   :  16 
pop   : 149 push  : 148 rcall :  29 ret   :  20 reti  :   1 rjmp  :  46 
rol   :  10 ror   :  13 sbc   :   5 sbci  :   1 sbi   :   2 sbic  :   0 
sbis  :   1 sbiw  :   0 sbr   :   1 sbrc  :  21 sbrs  :   0 sec   :   0 
seh   :   0 sei   :   1 sen   :   0 ser   :   0 ses   :   0 set   :  11 
sev   :   0 sez   :   0 sleep :   0 spm   :   0 st    :   0 std   :   0 
sts   :   3 sub   :  15 subi  :  10 swap  :   4 tst   :  15 wdr   :   0 

Instructions used: 60 out of 114 (52.6%)

"ATmega128" memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x001f62   6704   1330   8034  131072   6.1%
[.dseg] 0x000100 0x000100      0      0      0    4096   0.0%
[.eseg] 0x000000 0x000000      0      0      0    4096   0.0%

Assembly complete, 0 errors, 69 warnings
